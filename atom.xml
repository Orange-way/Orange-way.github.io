<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>橙子</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://orange-way.github.io/"/>
  <updated>2019-04-16T02:48:39.738Z</updated>
  <id>https://orange-way.github.io/</id>
  
  <author>
    <name>Orange~</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>es6 总结</title>
    <link href="https://orange-way.github.io//posts/e867c90a/"/>
    <id>https://orange-way.github.io//posts/e867c90a/</id>
    <published>2019-03-22T07:53:31.000Z</published>
    <updated>2019-04-16T02:48:39.738Z</updated>
    
    <content type="html"><![CDATA[<p>es6 &#x603B;&#x7ED3;<a id="more"></a></p><p>&#x200B;                </p><h4 id="let&#x3001;const"><a href="#let&#x3001;const" class="headerlink" title="let&#x3001;const"></a>let&#x3001;const</h4><p>&#x5728;es6&#x4E4B;&#x524D;&#x7684;&#x4F5C;&#x7528;&#x57DF;&#x5206;&#x4E3A;&#xFF1A;&#x5168;&#x5C40;&#x4F5C;&#x7528;&#x57DF;&#x3001;&#x51FD;&#x6570;&#x4F5C;&#x7528;&#x57DF;&#xFF0C;&#x800C;&#x5728;es6&#x4E2D;&#x51FA;&#x73B0;&#x4E86;&#x4E00;&#x4E2A;&#x5757;&#x7EA7;&#x4F5C;&#x7528;&#x57DF;</p><p>&#x200B;                </p><p>var&#xFF1A;&#x53D8;&#x91CF;&#x58F0;&#x660E;&#x63D0;&#x5347;&#x3001;&#x53EF;&#x91CD;&#x590D;&#x5B9A;&#x4E49;&#x3001;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x6302;&#x8F7D;&#x5230; window</p><p>&#x200B;                </p><p>let&#xFF08;&#x5757;&#x7EA7;&#x53D8;&#x91CF;&#x58F0;&#x660E;&#xFF09;:</p><p>&#x2003;&#x2003;1 &#x6CA1;&#x6709;&#x53D8;&#x91CF;&#x58F0;&#x660E;&#x63D0;&#x5347;&#x3001;&#x4E0D;&#x80FD;&#x91CD;&#x590D;&#x5B9A;&#x4E49;&#x3001;&#x4E0D;&#x6302;&#x8F7D;&#x5230;</p><p>&#x2003;&#x2003;2 &#x58F0;&#x660E;&#x7684;&#x53D8;&#x91CF;&#x548C; {} &#x914D;&#x5408;&#x4EA7;&#x751F;&#x5757;&#x7EA7;&#x4F5C;&#x7528;&#x57DF; - &#x751F;&#x547D;&#x5728;&#x5927;&#x62EC;&#x53F7;&#x5185;&#x90E8;&#x7684;&#x53D8;&#x91CF;&#x65E0;&#x6CD5;&#x5728;&#x5916;&#x90E8;&#x4F7F;&#x7528;</p><p>&#x2003;&#x2003;3 &#x4EA7;&#x751F;&#x4E34;&#x65F6; Temporal Dead Zone &#xFF08;&#x4E34;&#x65F6;&#x6B7B;&#x533A;&#xFF09;</p><p>&#x2003;&#x2003;4 &#x89E3;&#x51B3;&#x95ED;&#x5305;&#x95EE;&#x9898;&#xFF08;ES6&#x89C4;&#x8303;&#x540E;&#x5F15;&#x5165;&#x7684;&#xFF09;</p><p>const&#xFF08;&#x5757;&#x7EA7;&#x53D8;&#x91CF;&#x58F0;&#x660E;&#xFF09;&#xFF1A;</p><p>&#x2003;&#x2003;&#x5176;&#x5B58;&#x50A8;&#x91CF;&#x7684;&#x7A7A;&#x95F4;&#x4E0D;&#x53EF;&#x4EE5;&#x88AB;&#x6539;&#x53D8;&#x3001;&#x5176;&#x4F59;&#x548C; let &#x4E00;&#x6837;</p><p>&#x200B;                </p><p>&#x603B;&#xFF1A;&#x5148; const &#x518D; let</p><p>&#x200B;                </p><h4 id="spreed-amp-rest"><a href="#spreed-amp-rest" class="headerlink" title="spreed&amp;rest"></a>spreed&amp;rest</h4><p>&#x2026;  &#x5C55;&#x5F00; &#x6536;&#x96C6; &#x8FD0;&#x7B97;&#x7B26;&#xFF1A;</p><p>&#x2003;&#x2003;&#x5199;&#xFF1A;<code>function test (...arg) {}; test(1, 2, 3);</code>  &#x2014;&#x6536;&#x96C6;&#x4F5C;&#x7528;</p><p>&#x2003;&#x2003;&#x8BFB;&#xFF1A;<code>var arg = [1, 2, 3]; console.log(...arg);</code>  &#x2014;&#x5C55;&#x5F00;&#x4F5C;&#x7528;</p><p>&#x5BF9;&#x4E8E;&#x8FD9;&#x4E2A; &#x2026; &#xFF0C;es6 &#x4E2D;&#x53EF;&#x4EE5;&#x5904;&#x7406;&#x6570;&#x7EC4;&#xFF0C;es7 &#x4E2D;&#x53EF;&#x4EE5;&#x5904;&#x7406;&#x5BF9;&#x8C61;</p><p>&#x8FD9;&#x91CC;&#x8FD8;&#x6709;&#x4E2A;&#x65B9;&#x6CD5; Object.assign &#xFF0C;&#x53EF;&#x4EE5;&#x514B;clone&#xFF0C;&#x4F46;&#x662F;&#x662F;&#x6D45;clone&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj1 = {</span><br><span class="line">  name: <span class="string">&apos;vs&apos;</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj2 = {</span><br><span class="line">  value: <span class="string">&apos;more&apos;</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log( <span class="built_in">Object</span>.assign({}, obj1, obj2) );</span><br><span class="line"><span class="comment">// {&quot;name&quot;:&quot;vs&quot;,&quot;value&quot;:&quot;more&quot;}</span></span><br></pre></td></tr></tbody></table></figure><p>&#x200B;                </p><h4 id="destructuring"><a href="#destructuring" class="headerlink" title="destructuring"></a>destructuring</h4><p>&#x89E3;&#x6784;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x7ED3;&#x6784;&#x5316;&#x8D4B;&#x503C;&#xFF0C;&#x5176;&#x5B9E;&#x6211;&#x89C9;&#x5F97;&#x5C31;&#x662F;&#x4E24;&#x8005;&#x5BF9;&#x6BD4;&#xFF0C;&#x7136;&#x540E;&#x628A;&#x76F8;&#x540C;&#x4F4D;&#x7F6E;&#x7684;&#x5185;&#x5BB9;&#x8D4B;&#x503C;&#x8FC7;&#x53BB;&#x3002;&#x5F53;&#x7136;&#x4E5F;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x503C;&#xFF0C;&#x5F53;&#x5BF9;&#x9762;&#x4E0D;&#x5B58;&#x5728;&#x8FD9;&#x4E2A;&#x503C;&#x5F97;&#x65F6;&#x5019;&#x5C31;&#x7528;&#x9ED8;&#x8BA4;&#x503C;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = {</span><br><span class="line">  name: <span class="string">&apos;hemuyi&apos;</span>,</span><br><span class="line">  age: <span class="number">18</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> {name, age, position = <span class="string">&apos;wh&apos;</span>} = obj</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(name, age, position)</span><br><span class="line"></span><br><span class="line"><span class="comment">// hemuyi 18 wh</span></span><br></pre></td></tr></tbody></table></figure><p>&#x200B;            </p><h4 id="&#x7BAD;&#x5934;&#x51FD;&#x6570;"><a href="#&#x7BAD;&#x5934;&#x51FD;&#x6570;" class="headerlink" title="&#x7BAD;&#x5934;&#x51FD;&#x6570;"></a>&#x7BAD;&#x5934;&#x51FD;&#x6570;</h4><p>&#x7BAD;&#x5934;&#x51FD;&#x6570;&#x51CF;&#x5C11;&#x4E86;&#x5F88;&#x591A;&#x4EE3;&#x7801;&#x91CF;&#xFF0C;&#x5F53;&#x7136;&#x4E0D;&#x6B62;&#x8FD9;&#x4E2A;&#x4F5C;&#x7528;&#xFF0C;&#x5BF9;&#x4E8E;&#x95ED;&#x5305;&#x5B83;&#x4E5F;&#x53EF;&#x4EE5;&#x5F88;&#x597D;&#x7684;&#x5904;&#x7406;</p><p>&#x7BAD;&#x5934;&#x51FD;&#x6570;&#x7279;&#x70B9;&#xFF1A;</p><p>&#x2003;&#x2003;1 &#x4E0D;&#x7528;&#x5199; function &#x5173;&#x952E;&#x5B57;</p><p>&#x2003;&#x2003;2 &#x53EA;&#x80FD;&#x4F5C;&#x4E3A;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#xFF0C;&#x4E0D;&#x80FD; new&#xFF0C; &#x6CA1;&#x6709;&#x539F;&#x578B;</p><p>&#x2003;&#x2003;3 &#x53C2;&#x6570;&#x540D;&#x4E0D;&#x80FD;&#x91CD;&#x590D;</p><p>&#x2003;&#x2003;4 &#x8FD4;&#x56DE;&#x503C;&#x53EF;&#x4EE5;&#x4E0D;&#x5199; return&#xFF0C;&#x4F46;&#x8981;&#x914D;&#x5408; {} &#x4F7F;&#x7528;</p><p>&#x2003;&#x2003;5 &#x5185;&#x90E8; arguments this &#x7531;&#x5B9A;&#x4E49;&#x65F6;&#x5916;&#x56F4;&#x6700;&#x63A5;&#x8FD1;&#x4E00;&#x5C42;&#x7684;&#x975E;&#x7BAD;&#x5934;&#x51FD;&#x6570;&#x7684; arguments &#x548C; this &#x51B3;&#x5B9A;&#x5176;&#x503C;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span> (<span class="params">a, b</span>) </span>{</span><br><span class="line">  <span class="keyword">return</span> a + b</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">test(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x7BAD;&#x5934;&#x51FD;&#x6570;&#x5F62;&#x5F0F;&#xFF0C;&#x6CE8;&#x610F;&#x8FD9;&#x79CD;&#x8FD4;&#x56DE;&#x7684;&#x4E0D;&#x662F;&#x5BF9;&#x8C61;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> test2 = <span class="function">(<span class="params">a, b</span>) =&gt;</span> a + b</span><br><span class="line">test2(<span class="number">1</span>, <span class="number">2</span>)    <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x7BAD;&#x5934;&#x51FD;&#x6570;&#x5F62;&#x5F0F;&#xFF0C;&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x5BF9;&#x8C61;&#xFF0C;&#x9700;&#x8981;&#x7528; &#xFF08;&#xFF09; &#x628A;&#x8FD9;&#x91CC;&#x53D8;&#x6210;&#x8868;&#x8FBE;&#x5F0F;</span></span><br><span class="line"><span class="keyword">var</span> test3 = <span class="function">(<span class="params">a, b</span>) =&gt;</span> ({<span class="attr">a</span>: a, <span class="attr">b</span>: b})</span><br><span class="line">test3(<span class="number">1</span>, <span class="number">2</span>)    <span class="comment">// {a: 1, b: 2}</span></span><br></pre></td></tr></tbody></table></figure><p>&#x9AD8;&#x9636;&#x51FD;&#x6570;&#x7684;&#x65F6;&#x5019;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum1</span> (<span class="params">x</span>) </span>{</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">y</span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">z</span>) </span>{</span><br><span class="line">      <span class="keyword">return</span> x + y + z</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line">sum1(<span class="number">1</span>)(<span class="number">2</span>)(<span class="number">3</span>)   <span class="comment">// 6</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x7BAD;&#x5934;&#x51FD;&#x6570;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> sum2 = <span class="function"><span class="params">x</span> =&gt;</span> y =&gt; <span class="function"><span class="params">z</span> =&gt;</span> x + y + z</span><br><span class="line">sum2(<span class="number">1</span>)(<span class="number">2</span>)(<span class="number">3</span>)   <span class="comment">// 6</span></span><br></pre></td></tr></tbody></table></figure><p>&#x603B;&#xFF1A;&#x8FD9;&#x4E2A;&#x8981;&#x7075;&#x6D3B;&#x4F7F;&#x7528;&#x597D;&#x554A;&#xFF0C;&#x53EF;&#x4EE5;&#x65B9;&#x4FBF;&#x5F88;&#x591A;</p><p>&#x200B;                </p><h4 id="ES5-Object-defineProperty"><a href="#ES5-Object-defineProperty" class="headerlink" title="ES5 - Object.defineProperty"></a>ES5 - Object.defineProperty</h4><p>&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x53EF;&#x76F4;&#x63A5;&#x5728;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x4E0A;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x5177;&#x6709;&#x8BE6;&#x7EC6;&#x63CF;&#x8FF0;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x6216;&#x8005;&#x4FEE;&#x6539;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x73B0;&#x6709;&#x5C5E;&#x6027;&#xFF0C; &#x5E76;&#x8FD4;&#x56DE;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x3002;</p><p>&#x4F7F;&#x7528;&#xFF1A;<code>Object.defineProperty(&#x5BF9;&#x8C61;&#xFF0C;&#x5C5E;&#x6027;&#xFF0C;&#x63CF;&#x8FF0;&#x7B26;);</code></p><p>&#x4F7F;&#x7528;&#x89C4;&#x5219;&#xFF1A;</p><p>&#x2003;&#x2003;&#x6570;&#x636E;&#x63CF;&#x8FF0;&#x7B26;&#xFF1A;</p><p>&#x2003;&#x2003;&#x2003;&#x2003;value: &#x2018;xxx&#x2019;&#x5C5E;&#x6027;&#x503C;&#x3002; &#x9ED8;&#x8BA4;&#x2018;&#x2019;</p><p>&#x2003; &#x2003;  &#x2003; writable&#xFF1A;true &#x662F;&#x5426;&#x53EF;&#x5199;&#x3002;&#x9ED8;&#x8BA4;false</p><p>&#x2003;&#x2003;&#x2003;&#x2003;configurable&#xFF1A;true &#x662F;&#x5426;&#x53EF;&#x914D;&#x7F6E;&#x3002;&#x9ED8;&#x8BA4;false</p><p>&#x2003;&#x2003;&#x2003;&#x2003;enumerable&#xFF1A;true &#x662F;&#x5426;&#x53EF;&#x679A;&#x4E3E;&#x3002;&#x9ED8;&#x8BA4;false</p><p>&#x2003;&#x2003;&#x5B58;&#x53D6;&#x63CF;&#x8FF0;&#x7B26;&#xFF1A;</p><p>&#x2003;&#x2003;&#x2003;&#x2003;set&#xFF1A;function(){} &#x5C5E;&#x6027;&#x8BBF;&#x95EE;&#x5668;  &#x8FDB;&#x884C;&#x5199;&#x64CD;&#x4F5C;&#x65F6;&#x8C03;&#x7528;&#x8BE5;&#x65B9;&#x6CD5;</p><p>&#x2003;&#x2003;&#x2003;&#x2003;get&#xFF1A;function(){} &#x5C5E;&#x6027;&#x8BBF;&#x95EE;&#x5668; &#x8FDB;&#x884C;&#x8BFB;&#x64CD;&#x4F5C;&#x65F6;&#x8C03;&#x7528;&#x8BE5;&#x65B9;&#x6CD5;</p><p>&#x6570;&#x636E;&#x63CF;&#x8FF0;&#x7B26;&#x4F8B;&#x5B50;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj2 = <span class="built_in">Object</span>.defineProperty({}, <span class="string">&apos;name&apos;</span>, {</span><br><span class="line">  value: <span class="string">&apos;he&apos;</span>,</span><br><span class="line">  writable: <span class="literal">true</span>,</span><br><span class="line">  configurable: <span class="literal">true</span>,</span><br><span class="line">  enumerable: <span class="literal">true</span></span><br><span class="line">})</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj2.name)    <span class="comment">// &apos;he&apos;</span></span><br></pre></td></tr></tbody></table></figure><p>&#x4E0A;&#x9762;&#x8FD9;&#x79CD;&#x662F;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x65B0;&#x5BF9;&#x8C61;&#xFF0C;&#x4F46;&#x4E5F;&#x53EF;&#x4EE5;&#x5BF9;&#x5DF2;&#x5B9A;&#x4E49;&#x7684;&#x5BF9;&#x8C61;&#x4F7F;&#x7528;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#xFF0C;&#x4F46;&#x8981;&#x6CE8;&#x610F;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x666E;&#x901A;&#x65B9;&#x5F0F;&#x5B9A;&#x4E49;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x5219; writable  configurable  enumerable &#x8FD9;&#x4E09;&#x4E2A;&#x5C5E;&#x6027;&#x662F;&#x6709;&#x7684;&#xFF0C;&#x5E76;&#x4E3A; true&#xFF0C;&#x8FD8;&#x6709;&#xFF0C;&#x82E5;&#x662F;&#x5DF2;&#x5B9A;&#x4E49;&#x8FC7;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x5219;&#x4F1A;&#x8986;&#x76D6;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj3 = {</span><br><span class="line">  name: <span class="string">&apos;he&apos;</span></span><br><span class="line">};</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj3, <span class="string">&apos;name&apos;</span>, {</span><br><span class="line">  value: <span class="string">&apos;qi&apos;</span></span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure><p>&#x200B;            </p><p>&#x5B58;&#x53D6;&#x63CF;&#x8FF0;&#x7B26;&#x4F8B;&#x5B50;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> nameVal = <span class="string">&apos;he&apos;</span></span><br><span class="line"><span class="keyword">let</span> obj4 = <span class="built_in">Object</span>.defineProperty({}, <span class="string">&apos;name&apos;</span>, {</span><br><span class="line">  configurable: <span class="literal">true</span>,</span><br><span class="line">  enumerable: <span class="literal">true</span>,</span><br><span class="line">  get () {</span><br><span class="line">    <span class="keyword">return</span> nameVal</span><br><span class="line">  },</span><br><span class="line">  set (val) {</span><br><span class="line">    nameVal = val</span><br><span class="line">  }</span><br><span class="line">})</span><br><span class="line">obj4.name = <span class="string">&apos;qi&apos;</span></span><br></pre></td></tr></tbody></table></figure><p>&#x4E00;&#x822C;&#x5BF9;&#x8C61;&#x4E2D;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; get set &#xFF0C;&#x5982;&#x4E0B;&#xFF0C;&#x8981;&#x6CE8;&#x610F;&#x662F;&#x4E0B;&#x9762;&#x8FD9;&#x6837;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x4E00;&#x822C;&#x5BF9;&#x8C61;&#x4E2D;&#x5B9A;&#x4E49;&#x65F6;&#x8C28;&#x614E;&#x4F7F;&#x7528;&#xFF0C;&#x4E5F;&#x53EF;&#x80FD;&#x662F;&#x6211;&#x5BF9;&#x8FD9;&#x79CD;&#x8FD8;&#x4E0D;&#x592A;&#x719F;&#x6089;&#x3002;&#x3002;&#x3002;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj5 = {</span><br><span class="line">  val: <span class="string">&apos;hemuyi&apos;</span>,</span><br><span class="line">  get name () {</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.val</span><br><span class="line">  },</span><br><span class="line">  set name (val) {</span><br><span class="line">    <span class="keyword">this</span>.val = val</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"><span class="built_in">console</span>.log(obj)   <span class="comment">// {&quot;val&quot;:&quot;he&quot;,&quot;name&quot;:&quot;he&quot;}</span></span><br><span class="line">obj5.name = <span class="number">10</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj5)  <span class="comment">// {&quot;val&quot;:10,&quot;name&quot;:10}</span></span><br></pre></td></tr></tbody></table></figure><p>&#x200B;                    </p><h4 id="ES5-&#x6570;&#x636E;&#x52AB;&#x6301;"><a href="#ES5-&#x6570;&#x636E;&#x52AB;&#x6301;" class="headerlink" title="ES5 - &#x6570;&#x636E;&#x52AB;&#x6301;"></a>ES5 - &#x6570;&#x636E;&#x52AB;&#x6301;</h4><p>&#x6211;&#x89C9;&#x5F97;&#x5C31;&#x662F;&#x6570;&#x636E;&#x76D1;&#x63A7;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x76D1;&#x63A7;&#x5230;&#x6570;&#x636E;&#x53D8;&#x5316;&#x65F6;&#x505A;&#x4E00;&#x4E9B;&#x5904;&#x7406;</p><p>es5 &#x4E2D;&#x6570;&#x636E;&#x52AB;&#x6301;&#x7684;&#x4F8B;&#x5B50;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">&quot;text&quot;</span> id=<span class="string">&apos;demo&apos;</span>/&gt;</span><br><span class="line">   &lt;div id=<span class="string">&apos;show&apos;</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">   &lt;script&gt;</span><br><span class="line">       <span class="keyword">var</span> oDiv = <span class="built_in">document</span>.getElementById(<span class="string">&apos;show&apos;</span>);</span><br><span class="line">       <span class="keyword">var</span> oInput = <span class="built_in">document</span>.getElementById(<span class="string">&apos;demo&apos;</span>);</span><br><span class="line"></span><br><span class="line">       <span class="keyword">var</span> oData = {</span><br><span class="line">           valueObj: {</span><br><span class="line">               value: <span class="string">&apos;duyi&apos;</span>,</span><br><span class="line">               name: <span class="string">&apos;haha&apos;</span></span><br><span class="line">           },</span><br><span class="line">           sex: <span class="string">&apos;aaa&apos;</span>  </span><br><span class="line">       };</span><br><span class="line"></span><br><span class="line">       <span class="comment">// var arr = [];</span></span><br><span class="line"></span><br><span class="line">       oInput.oninput = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">           oData.value = <span class="keyword">this</span>.value;</span><br><span class="line">       };</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">       <span class="function"><span class="keyword">function</span> <span class="title">upDate</span> (<span class="params"></span>) </span>{</span><br><span class="line">           oDiv.innerText = oData.valueObj.value;</span><br><span class="line">       }</span><br><span class="line"></span><br><span class="line">       upDate();</span><br><span class="line"></span><br><span class="line">       <span class="comment">// &#x76D1;&#x63A7;&#x5BF9;&#x8C61;&#x7684;&#x67D0;&#x4E2A;&#x5C5E;&#x6027;&#x662F;&#x5426;&#x53D1;&#x751F;&#x6539;&#x53D8;</span></span><br><span class="line">       <span class="function"><span class="keyword">function</span> <span class="title">Observer</span> (<span class="params">data</span>) </span>{</span><br><span class="line">           <span class="keyword">if</span> (!data || <span class="keyword">typeof</span> data != <span class="string">&apos;object&apos;</span>) {</span><br><span class="line">               <span class="keyword">return</span> data;</span><br><span class="line">           };</span><br><span class="line">           <span class="comment">// for (var prop in data) {</span></span><br><span class="line"></span><br><span class="line">           <span class="comment">// }</span></span><br><span class="line">           <span class="built_in">Object</span>.keys(data).forEach(<span class="function"><span class="keyword">function</span> (<span class="params">key</span>) </span>{</span><br><span class="line">               definedRective(data, key, data[key]);</span><br><span class="line">           });</span><br><span class="line">       }</span><br><span class="line"></span><br><span class="line">       <span class="function"><span class="keyword">function</span> <span class="title">definedRective</span> (<span class="params">data, key, val</span>) </span>{</span><br><span class="line">           <span class="comment">// AO</span></span><br><span class="line">           Observer(val);  <span class="comment">//&#x9012;&#x5F52;, &#x53EF;&#x80FD;&#x5BF9;&#x8C61;&#x7684;&#x67D0;&#x5C5E;&#x6027;&#x4F9D;&#x65E7;&#x662F;&#x4E2A;&#x5BF9;&#x8C61;</span></span><br><span class="line">           <span class="built_in">Object</span>.defineProperty(data, key, {</span><br><span class="line">               get () {</span><br><span class="line">                   <span class="comment">// console.log(&apos;get&apos;);</span></span><br><span class="line">                   <span class="keyword">return</span> val;</span><br><span class="line">               },</span><br><span class="line">               set (newValue) {</span><br><span class="line">                   <span class="keyword">if</span> (newValue == val) <span class="keyword">return</span>;</span><br><span class="line">                   val = newValue;</span><br><span class="line">                   upDate();</span><br><span class="line">               }</span><br><span class="line">           })</span><br><span class="line">       };</span><br><span class="line"></span><br><span class="line">       Observer(oData);</span><br><span class="line"></span><br><span class="line">       <span class="built_in">console</span>.log(oData.value);</span><br><span class="line">       oData.valueObj.value = <span class="string">&apos;haha&apos;</span>;</span><br><span class="line"></span><br><span class="line">oData.aa = <span class="number">10</span>;    </span><br><span class="line">   &lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>&#x8FD9;&#x6837;&#x5C31;&#x5B9E;&#x73B0;&#x4E86;&#x6570;&#x636E;&#x76D1;&#x63A7;&#xFF0C;&#x8FDB;&#x800C;&#x53CC;&#x5411;&#x7ED1;&#x5B9A;&#xFF0C;&#x53EA;&#x80FD;&#x5BF9;&#x5BF9;&#x8C61;&#x8FD9;&#x6837;&#x64CD;&#x4F5C;&#xFF0C;<strong>&#x4F46;&#x662F;&#xFF0C;&#x4F46;&#x662F;</strong>&#xFF0C;&#x5F53;&#x5728; <code>Observer(oData);</code> &#x540E;&#x7ED9; &#x5BF9;&#x8C61; oData &#x8FDB;&#x884C; <code>oData.aa = 10</code>  &#xFF0C;&#x6B64;&#x65F6;&#x5E76;&#x4E0D;&#x4F1A;&#x76D1;&#x63A7;&#x5230;&#x8FD9;&#x4E2A;&#x64CD;&#x4F5C;&#xFF0C;&#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x662F;&#x540E;&#x52A0;&#x7684;&#xFF0C;<code>Object.defineProperty</code> &#x5E76;&#x4E0D;&#x80FD;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x8981;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x8BF7;&#x770B; Proxy Reflect</p><p>&#x200B;                </p><p>&#x800C;&#x5728; vue &#x4E2D;&#x7A0D;&#x5FAE;&#x6709;&#x70B9;&#x4E0D;&#x540C;, &#x82E5;&#x662F;&#x8981;&#x76D1;&#x63A7;&#x6570;&#x7EC4;&#xFF0C;&#x5927;&#x4F53;&#x662F;&#x8FD9;&#x6837;&#x5B9E;&#x73B0;&#x7684;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [];</span><br><span class="line">      <span class="keyword">let</span> {push} = <span class="built_in">Array</span>.prototype;</span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">upData</span> (<span class="params"></span>) </span>{</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">&apos;&#x66F4;&#x65B0;&apos;</span>);</span><br><span class="line">      };</span><br><span class="line">      <span class="comment">// [</span></span><br><span class="line">      <span class="comment">//     &apos;push&apos;,</span></span><br><span class="line">      <span class="comment">//     &apos;pop&apos;</span></span><br><span class="line">      <span class="comment">// ]</span></span><br><span class="line">      <span class="comment">// arr push pop unshift shift slice....</span></span><br><span class="line">      <span class="built_in">Object</span>.defineProperty(<span class="built_in">Array</span>.prototype, <span class="string">&apos;push&apos;</span>, {</span><br><span class="line">          value: (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">              <span class="keyword">return</span> <span class="function">(<span class="params">...arg</span>) =&gt;</span> {</span><br><span class="line">                  push.apply(arr, arg);</span><br><span class="line">                  upData();</span><br><span class="line">              }</span><br><span class="line">          })()</span><br><span class="line">      });</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      arr.push(<span class="number">1</span>, <span class="number">2</span>);</span><br></pre></td></tr></tbody></table></figure><p>&#x81F3;&#x6B64;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5BF9;&#x8FD9;&#x4E2A;&#x6570;&#x7EC4;&#x7684;push&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x76D1;&#x63A7;&#x4E86;&#xFF0C;vue &#x4E2D;&#x5927;&#x4F53;&#x662F;&#x8FD9;&#x6837;&#x5B9E;&#x73B0;&#x7684;</p><p>&#x200B;                    </p><h4 id="ES6-Proxy-Reflect"><a href="#ES6-Proxy-Reflect" class="headerlink" title="ES6 - Proxy Reflect"></a>ES6 - Proxy Reflect</h4><p>&#x9996;&#x5148;&#xFF0C;&#x8FD9;&#x4E24;&#x4E2A;&#x76EE;&#x524D;&#x517C;&#x5BB9;&#x6027;&#x4E0D;&#x662F;&#x5F88;&#x597D;</p><p>&#x4F8B;&#x5B50;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> oData = {</span><br><span class="line">    val: <span class="string">&apos;duyi&apos;</span>,</span><br><span class="line">    _val: <span class="string">&apos;aaaa&apos;</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> oProxyData = <span class="keyword">new</span> <span class="built_in">Proxy</span>(oData, {</span><br><span class="line">    set (target, key, value, receiver) {</span><br><span class="line">        <span class="comment">// console.log(target, key, value, receiver);</span></span><br><span class="line">        <span class="built_in">Reflect</span>.set(target, key, value);</span><br><span class="line">        upDate();</span><br><span class="line">    },</span><br><span class="line">    get (target, key, receiver) {</span><br><span class="line">        <span class="comment">// console.log(target, key, receiver);</span></span><br><span class="line">        <span class="comment">// return target[key]</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Reflect</span>.get(target, key);</span><br><span class="line">    },</span><br><span class="line">    has (target, key) {</span><br><span class="line">        <span class="keyword">return</span> key.indexOf(<span class="string">&apos;_&apos;</span>) != <span class="number">-1</span> ? <span class="literal">false</span> : key <span class="keyword">in</span> oData;</span><br><span class="line">    },</span><br><span class="line">    deleteProperty () {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log( <span class="keyword">delete</span> oProxyData.val );</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x8BFB;&#x5199; &#x63A7;&#x5236;</span></span><br><span class="line"><span class="built_in">console</span>.log( oProxyData.val );</span><br><span class="line">oProxyData.val = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">upDate</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&apos;&#x66F4;&#x65B0;&#x4E86;&apos;</span>)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">oProxyData.name = <span class="number">20</span>;</span><br></pre></td></tr></tbody></table></figure><p>&#x603B;&#xFF1A;&#x76D1;&#x63A7;&#x5230;&#x5BF9;&#x8C61;&#x7684;&#x53D8;&#x5316;&#xFF0C;&#x54EA;&#x6015;&#x662F;&#x540E;&#x6765;&#x65B0;&#x52A0;&#x7684;&#x5C5E;&#x6027;</p><p>&#x200B;            </p><h4 id="ES6-Class"><a href="#ES6-Class" class="headerlink" title="ES6 - Class"></a>ES6 - Class</h4><h5 id="&#x57FA;&#x672C;&#x5185;&#x5BB9;&#xFF1A;"><a href="#&#x57FA;&#x672C;&#x5185;&#x5BB9;&#xFF1A;" class="headerlink" title="&#x57FA;&#x672C;&#x5185;&#x5BB9;&#xFF1A;"></a>&#x57FA;&#x672C;&#x5185;&#x5BB9;&#xFF1A;</h5><p>class &#x662F;&#x6784;&#x9020;&#x51FD;&#x6570;&#x7684;&#x4E00;&#x79CD;&#x5199;&#x6CD5;;&#x65B9;&#x6CD5;&#x5199;&#x5728;&#x539F;&#x578B;&#x4E0A;;&#x4E0D;&#x5177;&#x6709;&#x51FD;&#x6570;&#x58F0;&#x660E;&#x6574;&#x4F53;&#x63D0;&#x5347;(&#x660E;&#x786E;&#x9075;&#x5B88;&#x5148;&#x5B9A;&#x4E49;&#x540E;&#x4F7F;&#x7528;)</p><p>constructor &#x79C1;&#x6709;&#x5C5E;&#x6027;&#x3001; &#x516C;&#x6709;&#x5C5E;&#x6027;&#xFF08;&#x539F;&#x578B;&#x4E0A;&#x7684;&#x5C5E;&#x6027;&#xFF09;&#x3001; &#x9759;&#x6001;&#x5C5E;&#x6027;&#xFF08;&#x51FD;&#x6570;&#x5C5E;&#x6027;&#xFF09;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Plane1</span> </span>{</span><br><span class="line">  <span class="comment">// es7 &#x5199;&#x6CD5; -- &#x9759;&#x6001;&#x5C5E;&#x6027;</span></span><br><span class="line">  <span class="comment">// static alive = true</span></span><br><span class="line">  <span class="comment">// es6</span></span><br><span class="line">  <span class="keyword">static</span> alive () {</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">  }</span><br><span class="line">  <span class="comment">// &#x79C1;&#x6709;&#x5C5E;&#x6027;</span></span><br><span class="line">  <span class="keyword">constructor</span> (name) {</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = <span class="number">18</span>;</span><br><span class="line">  }</span><br><span class="line">  <span class="comment">// es7 &#x5199;&#x6CD5; -- &#x79C1;&#x6709;&#x5C5E;&#x6027;</span></span><br><span class="line">  <span class="comment">// po = &apos;wh&apos;</span></span><br><span class="line">  <span class="comment">// &#x516C;&#x6709;&#x5C5E;&#x6027;</span></span><br><span class="line">  fly () {</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&apos;fly&apos;</span>)</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Plane();   <span class="comment">// &#x62A5;&#x9519;&#xFF0C;&#x5FC5;&#x987B; new</span></span><br><span class="line">Plane.alive()  <span class="comment">// true</span></span><br><span class="line"><span class="keyword">let</span> oP1 = <span class="keyword">new</span> Plane1(<span class="string">&apos;qi&apos;</span>)</span><br><span class="line">oP1.name   <span class="comment">// qi</span></span><br><span class="line">oP1.fly()  <span class="comment">// fly</span></span><br></pre></td></tr></tbody></table></figure><p>&#x603B;&#xFF1A;</p><p>&#x2003;&#x2003;1 constructor &#x91CC;&#x7684;&#x662F;&#x79C1;&#x6709;&#x5C5E;&#x6027;&#xFF0C;&#x5982;&#xFF1A;name age</p><p>&#x2003;&#x2003;2 &#x516C;&#x6709;&#x5C5E;&#x6027;&#xFF08;&#x539F;&#x578B;&#x4E0A;&#xFF09;&#xFF0C;&#x5982;&#xFF1A;fly</p><p>&#x2003;&#x2003;3 &#x9759;&#x6001;&#x5C5E;&#x6027;&#x5E76;&#x4E0D;&#x662F;&#x8FD0;&#x884C;&#x5728; oP&#xFF0C;&#x800C;&#x662F;&#x51FD;&#x6570;&#x672C;&#x8EAB; Plane</p><p>&#x200B;            </p><p>extends&#xFF0C;&#x7EE7;&#x627F;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Plane2</span> <span class="keyword">extends</span> <span class="title">Plane1</span> </span>{</span><br><span class="line">  <span class="keyword">constructor</span> (name) {</span><br><span class="line">    <span class="keyword">super</span>()    <span class="comment">// &#x7C7B;&#x4F3C;&#x4E8E; Plane1.call()</span></span><br><span class="line">    <span class="keyword">this</span>.logo = <span class="string">&apos;yi&apos;</span></span><br><span class="line">  }</span><br><span class="line">  speed () {</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&apos;sousousou&apos;</span>)</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> oP2 = <span class="keyword">new</span> Plane2(<span class="string">&apos;he&apos;</span>)</span><br><span class="line">Plane2.alive()   <span class="comment">// true</span></span><br><span class="line">oP2.name         <span class="comment">// he</span></span><br><span class="line">oP2.logo         <span class="comment">// yi</span></span><br><span class="line">oP2.speed()      <span class="comment">// sousousou</span></span><br></pre></td></tr></tbody></table></figure><p>&#x603B;&#xFF1A;</p><p>&#x2003;&#x2003;1 class &#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#x5FC5;&#x987B; new</p><p>&#x2003;&#x2003;2 &#x5728; constructor &#x91CC;&#x5FC5;&#x987B;&#x4F7F;&#x7528; super&#xFF08;&#xFF09;</p><p>&#x2003;&#x2003;3 extends &#x7EE7;&#x627F;&#x7684;&#x662F;&#x516C;&#x6709;&#x5C5E;&#x6027; &#x548C; &#x9759;&#x6001;&#x5C5E;&#x6027;&#xFF0C;&#x79C1;&#x6709;&#x7684;&#x901A;&#x8FC7;&#x7ED9; constructor &#x4F20;&#x53C2;&#x6765;&#x5B9E;&#x73B0;</p><p>&#x2003;&#x2003;4 Plane1.prototype &#x53CA; &#x9759;&#x6001;&#x5C5E;&#x6027; &#x4E0D;&#x80FD;&#x679A;&#x4E3E;</p><p>&#x200B;                    </p><h5 id="&#x6A21;&#x62DF;-Class"><a href="#&#x6A21;&#x62DF;-Class" class="headerlink" title="&#x6A21;&#x62DF; Class"></a>&#x6A21;&#x62DF; Class</h5><p>1 &#x5B9A;&#x4E49; Plane &#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Plane</span>(<span class="params"></span>) </span>{</span><br><span class="line">    </span><br><span class="line">}</span><br><span class="line"><span class="keyword">new</span> Plane()</span><br></pre></td></tr></tbody></table></figure><p>2 &#x5FC5;&#x987B; new &#x624D;&#x80FD;&#x6267;&#x884C;&#xFF0C;&#x6CA1;&#x6709; new &#x7684;&#x8BDD; this&#x662F;window</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_classCallCheck</span> (<span class="params">_this, _constructor</span>) </span>{</span><br><span class="line">    <span class="keyword">if</span> (! (_this <span class="keyword">instanceof</span> _constructor) ) {</span><br><span class="line">        <span class="keyword">throw</span> <span class="string">&quot;TypeError: Class constructor Plane cannot be invoked without &apos;new&apos;&quot;</span>;</span><br><span class="line">    }</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure><p>3 &#x82E5;&#x662F;&#x6309;&#x7167;1 &#x4E2D;&#x7684;&#x65B9;&#x5F0F;&#x5B9A;&#x4E49;&#x51FD;&#x6570;&#xFF0C;&#x5219;&#x662F;&#x66B4;&#x9732;&#x5728;&#x5168;&#x5C40;&#xFF0C;&#x6240;&#x4EE5;&#x7528;&#x7ACB;&#x5373;&#x6267;&#x884C;&#x51FD;&#x6570;&#x6765;&#x5B9A;&#x4E49;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Plane = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Plane</span> (<span class="params">name</span>) </span>{</span><br><span class="line">        <span class="comment">// &#x5224;&#x65AD;&#x662F;&#x5426;&#x4EE5;new&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x6267;&#x884C;</span></span><br><span class="line">        _classCallCheck(<span class="keyword">this</span>, Plane);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> Plane;</span><br><span class="line">})();</span><br><span class="line"><span class="keyword">var</span> oP = <span class="keyword">new</span> Plane();</span><br></pre></td></tr></tbody></table></figure><p>4 &#x79C1;&#x6709;&#x5C5E;&#x6027;&#x3001;&#x516C;&#x6709;&#x5C5E;&#x6027;&#x3001;&#x9759;&#x6001;&#x5C5E;&#x6027;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x5904;&#x7406;&#x516C;&#x6709;&#x5C5E;&#x6027;&#x548C;&#x9759;&#x6001;&#x5C5E;&#x6027;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_createClass</span> (<span class="params">_constructor, _prototypeProperties, _staticProperties</span>) </span>{</span><br><span class="line">    <span class="comment">// &#x7ED9;&#x539F;&#x578B;&#x4E0A;&#x8D4B;&#x503C;</span></span><br><span class="line">    <span class="keyword">if</span> (_prototypeProperties) {</span><br><span class="line">        _defineProperties(_constructor.prototype, _prototypeProperties);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> (_staticProperties) {</span><br><span class="line">        _defineProperties(_constructor, _staticProperties);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_defineProperties</span> (<span class="params">target, props</span>) </span>{</span><br><span class="line">    <span class="comment">// Object.defineProperty</span></span><br><span class="line">    props.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">ele</span>) </span>{</span><br><span class="line">        <span class="comment">// ele.key ele.value</span></span><br><span class="line">        <span class="built_in">Object</span>.defineProperty(target, ele.key, {</span><br><span class="line">            value: ele.value,</span><br><span class="line">            writable: <span class="literal">true</span>,</span><br><span class="line">            configurable: <span class="literal">true</span></span><br><span class="line">        });</span><br><span class="line">    })</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> Plane = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Plane</span> (<span class="params">name</span>) </span>{</span><br><span class="line">        <span class="comment">// &#x5224;&#x65AD;&#x662F;&#x5426;&#x4EE5;new&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x6267;&#x884C;</span></span><br><span class="line">        _classCallCheck(<span class="keyword">this</span>, Plane);</span><br><span class="line">        <span class="keyword">this</span>.name = name || <span class="string">&apos;&#x666E;&#x901A;&#x98DE;&#x673A;&apos;</span>;</span><br><span class="line">        <span class="keyword">this</span>.blood = <span class="number">100</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    _createClass(Plane, [</span><br><span class="line">        {</span><br><span class="line">            key: <span class="string">&apos;fly&apos;</span>,</span><br><span class="line">            value: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">&apos;fly&apos;</span>);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    ], [</span><br><span class="line">        {</span><br><span class="line">            key: <span class="string">&apos;alive&apos;</span>,</span><br><span class="line">            value: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    ]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> Plane;</span><br><span class="line">})();</span><br></pre></td></tr></tbody></table></figure><p>extends&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_inherit</span> (<span class="params">sub, sup</span>) </span>{</span><br><span class="line">    <span class="built_in">Object</span>.setPrototypeOf(sub.prototype, sup.prototype);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> AttackPlane = (<span class="function"><span class="keyword">function</span> (<span class="params">Plane</span>) </span>{</span><br><span class="line">    </span><br><span class="line">    _inherit(AttackPlane, Plane);</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">AttackPlane</span> (<span class="params">name</span>) </span>{</span><br><span class="line">        _classCallCheck(<span class="keyword">this</span>, Plane);</span><br><span class="line">        <span class="keyword">var</span> _this = <span class="keyword">this</span>;</span><br><span class="line">        <span class="keyword">var</span> that = Plane.call(_this, name);</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> that == <span class="string">&apos;object&apos;</span>) {</span><br><span class="line">            _this = that;</span><br><span class="line">        }</span><br><span class="line">        _this.logo = <span class="string">&apos;qi&apos;</span>;</span><br><span class="line">        <span class="keyword">return</span> _this;</span><br><span class="line">    };</span><br><span class="line"></span><br><span class="line">    _createClass(AttackPlane, [</span><br><span class="line">        {</span><br><span class="line">            key: <span class="string">&apos;dan&apos;</span>,</span><br><span class="line">            value: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">&apos;biubiubiu&apos;</span>);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    ], [</span><br><span class="line">        {</span><br><span class="line">            key: <span class="string">&apos;alive&apos;</span>,</span><br><span class="line">            value: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    ]);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> AttackPlane;</span><br><span class="line">})(Plane);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> oAp = <span class="keyword">new</span> AttackPlane();</span><br></pre></td></tr></tbody></table></figure><p>&#x200B;                    </p><h4 id="ES7-Class"><a href="#ES7-Class" class="headerlink" title="ES7 - Class"></a>ES7 - Class</h4><p>es7 &#x4E2D;&#x7684; class &#x6709;&#x4E9B;&#x662F;&#x9AD8;&#x7248;&#x672C;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x4E5F;&#x4E0D;&#x652F;&#x6301;&#xFF0C;&#x9700;&#x8981;&#x4E00;&#x4E9B;&#x5DE5;&#x5177;&#x6765;&#x964D;&#x7EA7;&#x624D;&#x80FD;&#x7528;</p><p>&#x9759;&#x6001;&#x5C5E;&#x6027;&#x3001;&#x79C1;&#x6709;&#x5C5E;&#x6027;&#x7528;&#x7684;&#x5DE5;&#x5177;&#xFF1A;</p><p>&#x2003;&#x2003;1 &#x5B89;&#x88C5; &#xFF1A;npm install @babel/plugin-proposal-decorators</p><p>&#x2003;&#x2003;2 &#x914D;&#x7F6E;&#xFF1A;&#x201D;plugins&#x201D;: [ [&#x201C;@babel/plugin-proposal-class-properties&#x201D;, { &#x201C;loose&#x201D; : true }] ]</p><p>&#x9759;&#x6001;&#x5C5E;&#x6027;&#x3001;&#x79C1;&#x6709;&#x5C5E;&#x6027;&#x7684;&#x7528;&#x6CD5;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Search</span> </span>{</span><br><span class="line">  <span class="comment">// ES7 &#x9759;&#x6001;&#x5C5E;&#x6027;</span></span><br><span class="line">  <span class="keyword">static</span> num = <span class="number">10</span>;</span><br><span class="line">  <span class="comment">// ES6</span></span><br><span class="line">  <span class="comment">// static num () {</span></span><br><span class="line">  <span class="comment">//     return 6;</span></span><br><span class="line">  <span class="comment">// }</span></span><br><span class="line">  <span class="keyword">constructor</span> () {</span><br><span class="line">      <span class="keyword">this</span>.keyValue = <span class="string">&apos;&apos;</span>;</span><br><span class="line">  }</span><br><span class="line">  <span class="comment">// &#x79C1;&#x6709;&#x5C5E;&#x6027;</span></span><br><span class="line">  age = <span class="number">18</span></span><br><span class="line">  getCount () {</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&apos;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&apos;</span>);</span><br><span class="line">  }</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> oS = <span class="keyword">new</span> Search();</span><br><span class="line"><span class="built_in">console</span>.log(oS);</span><br></pre></td></tr></tbody></table></figure><p>&#x88C5;&#x9970;&#x5668; &#xFF1A;@decorator:</p><p>&#x5B89;&#x88C5;&#x7684;&#x964D;&#x7EA7;&#x5DE5;&#x5177;&#xFF1A;npm install @babel/plugin-proposal-decorators</p><p>&#x914D;&#x7F6E;&#xFF1A;&#x201D;plugins&#x201D;: [ [&#x201C;@babel/plugin-proposal-decorators&#x201D;, { &#x201C;legacy&#x201D;: true  }] ]</p><p>&#x88C5;&#x9970;&#x5668;&#x7684;&#x4F8B;&#x5B50;&#xFF1A;&#x5206;&#x522B;&#x4FEE;&#x9970;&#x79C1;&#x6709;&#x5C5E;&#x6027;&#x3001;&#x516C;&#x6709;&#x5C5E;&#x6027;&#x3001;&#x7C7B;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x79C1;&#x6709;&#x5C5E;&#x6027;</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Search</span> </span>{</span><br><span class="line">    <span class="keyword">constructor</span> () {</span><br><span class="line">        <span class="keyword">this</span>.keyValue = <span class="string">&apos;&apos;</span>;</span><br><span class="line">    }</span><br><span class="line">    @myReadOnly</span><br><span class="line">    url = <span class="string">&apos;urlA-&apos;</span>;</span><br><span class="line"></span><br><span class="line">@dealData(<span class="string">&apos;&#x5F20;&#x4E09;&apos;</span>)</span><br><span class="line">    getContent (a, b) {</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&apos;&#x5411;&apos;</span> + <span class="keyword">this</span>.url + <span class="string">&apos;&#x53D1;&#x9001;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;, &#x6570;&#x636E;:&apos;</span> + <span class="keyword">this</span>.keyValue, a, b);</span><br><span class="line">    }</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Skin</span> (<span class="params">target</span>) </span>{</span><br><span class="line">    target.aaa = <span class="number">30</span>;</span><br><span class="line">}</span><br><span class="line"><span class="comment">// &#x88C5;&#x9970;&#x79C1;&#x6709;&#x5C5E;&#x6027; descriptor &#x662F;&#x6CA1;&#x6709; value &#x7684;&#xFF0C;initializer </span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myReadOnly</span> (<span class="params">proto, key, descriptor</span>) </span>{</span><br><span class="line">    <span class="comment">// console.log(proto, key, descriptor);</span></span><br><span class="line">    descriptor.writable = <span class="literal">false</span>;</span><br><span class="line">    <span class="comment">// descriptor.initializer()&#xFF1B;  &#x503C;&#x4E3A; url &#x7684;&#x503C; &apos;urlA-&apos;&#xFF0C;&#x4FEE;&#x6539;&#x7684;&#x8BDD;&#x6309;&#x4E0B;&#x9762;&#x7684;&#x65B9;&#x6CD5;</span></span><br><span class="line">    descriptor.initializer = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="number">6</span>;     </span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x539F;&#x578B;&#x4E0A;&#x7684;&#x5C5E;&#x6027;&#x7684;&#x8BDD; descriptor &#x662F;&#x6709;value&#x7684;&#xFF0C; &#x6307;&#x7684;&#x662F;getContent</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dealData</span> (<span class="params">proto, key, descriptor</span>) </span>{</span><br><span class="line">    <span class="built_in">console</span>.log(proto, key, descriptor);</span><br><span class="line">    <span class="keyword">let</span> oldValue = descriptor.value;</span><br><span class="line">    <span class="comment">// &#x4EE3;&#x7406;&#x601D;&#x60F3;</span></span><br><span class="line">    descriptor.value = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> urlB = <span class="string">&apos;urlB-&apos;</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&apos;&#x5411;&apos;</span> + urlB + <span class="string">&apos;&#x53D1;&#x9001;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;, &#x6570;&#x636E;:&apos;</span> + <span class="keyword">this</span>.keyValue);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> oldValue.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>&#x4FEE;&#x9970;&#x7C7B;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">@Skin</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Search</span> </span>{</span><br><span class="line">    <span class="keyword">constructor</span> () {</span><br><span class="line">        <span class="keyword">this</span>.keyValue = <span class="string">&apos;&apos;</span>;</span><br><span class="line">    }</span><br><span class="line">    @myReadOnly</span><br><span class="line">    url = <span class="string">&apos;urlA-&apos;</span>;</span><br><span class="line"></span><br><span class="line">    @dealData(<span class="string">&apos;&#x5F20;&#x4E09;&apos;</span>)</span><br><span class="line">    getContent (a, b) {</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&apos;&#x5411;&apos;</span> + <span class="keyword">this</span>.url + <span class="string">&apos;&#x53D1;&#x9001;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;, &#x6570;&#x636E;:&apos;</span> + <span class="keyword">this</span>.keyValue, a, b);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">10</span>;</span><br><span class="line">    }</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Skin</span> (<span class="params">target</span>) </span>{</span><br><span class="line">    target.aaa = <span class="number">30</span>;   <span class="comment">// &#x9759;&#x6001;&#x5C5E;&#x6027;</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>&#x603B;&#xFF1A;&#x611F;&#x89C9; es7 &#x638C;&#x63E1;&#x7684;&#x8FD8;&#x4E0D;&#x591F;&#xFF0C;&#x8FD8;&#x5DEE;&#x5F88;&#x591A;&#xFF0C;&#x8FD8;&#x9700;&#x52AA;&#x529B;&#x554A;</p><p>&#x200B;                            </p><h4 id="Set-Map"><a href="#Set-Map" class="headerlink" title="Set Map"></a>Set Map</h4><p>&#x9996;&#x5148;&#xFF0C;set map &#x517C;&#x5BB9;&#x6027;&#x5E76;&#x4E0D;&#x662F;&#x5F88;&#x597D;</p><p>&#x200B;                </p><h5 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h5><p>set &#x662F;es6&#x63D0;&#x4F9B;&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF0C;&#x7528;&#x6765;&#x5B58;&#x50A8;&#x6570;&#x636E;&#x7684;&#x7ED3;&#x6784;&#xFF0C;&#x5F53;&#x7136;&#x7528;&#x6570;&#x7EC4; &#x5BF9;&#x8C61;&#x4E5F;&#x53EF;&#x4EE5;&#x5B58;&#x50A8;&#x6570;&#x636E;&#xFF0C;&#x4F46;&#x662F;&#x6709;&#x4E9B;&#x65F6;&#x5019;&#x5B9E;&#x73B0;&#x67D0;&#x79CD;&#x529F;&#x80FD;&#x4F1A;&#x7A0D;&#x663E;&#x9EBB;&#x70E6;&#xFF0C;&#x6BD4;&#x5982;&#x6570;&#x7EC4;&#x53BB;&#x91CD;</p><p>&#x5B9A;&#x4E49;&#xFF1A;</p><p>&#x2003;&#x2003;&#x53C2;&#x6570;&#x662F;&#x5177;&#x5907;&#x8FED;&#x4EE3;&#x63A5;&#x53E3;&#x7684;&#xFF0C;&#x5982;&#x6570;&#x7EC4;&#x3001;&#x5BF9;&#x8C61;&#x3001;arguments</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> oS = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="string">&apos;a&apos;</span>, [<span class="number">5</span>, <span class="number">6</span>]])    </span><br><span class="line"><span class="keyword">let</span> oS2 = <span class="keyword">new</span> <span class="built_in">Set</span>(<span class="string">&apos;absdefg&apos;</span>)</span><br></pre></td></tr></tbody></table></figure><p>&#x2003;&#x2003;&#x8FD9;&#x4E24;&#x4E2A;&#x503C;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF1A;</p><p><img src="/posts/e867c90a/one.png" alt=""></p><p>&#x589E;&#x3001;&#x5220;&#x3001;&#x679A;&#x4E3E;&#x3001;&#x6E05;&#x7A7A;&#x3001;&#x5305;&#x542B;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = {</span><br><span class="line">  name: <span class="string">&apos;he&apos;</span></span><br><span class="line">}</span><br><span class="line"><span class="keyword">let</span> oS = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="string">&apos;a&apos;</span>, [<span class="number">5</span>, <span class="number">6</span>]])</span><br><span class="line"></span><br><span class="line">oS.add(<span class="number">1</span>)</span><br><span class="line">oS.add(obj)</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x5220;&#x9664;&#x6570;&#x7EC4;&#x65F6;&#x9700;&#x8981;&#x8BB0;&#x5F55;&#x4E0B;&#x8FD9;&#x4E2A;&#x6570;&#x7EC4;&#xFF0C;&#x5426;&#x5219;&#x4E0D;&#x77E5;&#x9053;&#x5220;&#x9664;&#x7684;&#x662F;&#x8C01;</span></span><br><span class="line">oS.delete(obj)</span><br><span class="line"></span><br><span class="line">oS.has(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">oS.forEach( <span class="function"><span class="params">value</span> =&gt;</span> {</span><br><span class="line">  <span class="built_in">console</span>.log(value)</span><br><span class="line">})</span><br><span class="line"><span class="comment">//es6 for of &#x5177;&#x5907;&#x8FED;&#x4EE3;&#x63A5;&#x53E3;&#x7684;</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> value <span class="keyword">of</span> oS) {</span><br><span class="line">  <span class="built_in">console</span>.log(value)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">oS.clear()</span><br><span class="line"><span class="built_in">console</span>.log(oS)</span><br></pre></td></tr></tbody></table></figure><p>&#x200B;            </p><p>&#x6570;&#x7EC4; &#x4E0E; Set &#x4E92;&#x76F8;&#x8F6C;&#x6362;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="keyword">let</span> oS = <span class="keyword">new</span> <span class="built_in">Set</span>(arr)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> newArr1 = <span class="built_in">Array</span>.from(oS)</span><br><span class="line"><span class="keyword">let</span> newArr2 = [...oS]</span><br><span class="line"><span class="built_in">console</span>.log(newArr1, newArr2)</span><br></pre></td></tr></tbody></table></figure><p>&#x4E24;&#x4E2A;&#x6570;&#x7EC4;&#x7684; &#x4EA4;&#x96C6;&#x3001;&#x5E76;&#x96C6;&#x3001;&#x5DEE;&#x96C6;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="keyword">let</span> arr2 = [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x5E76;&#x96C6; [1, 2, 3, 4, 5, 6]</span></span><br><span class="line"><span class="keyword">let</span> oS1 = <span class="keyword">new</span> <span class="built_in">Set</span>([...arr1, ...arr2])</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x4EA4;&#x96C6; [3, 4]</span></span><br><span class="line"><span class="keyword">let</span> oS2 = <span class="keyword">new</span> <span class="built_in">Set</span>(arr1)</span><br><span class="line"><span class="keyword">let</span> oS3 = <span class="keyword">new</span> <span class="built_in">Set</span>(arr2)</span><br><span class="line"><span class="keyword">let</span> newArr1 = [...oS2].filter(<span class="function">(<span class="params">ele, index</span>) =&gt;</span> oS3.has(ele))</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x5DEE;&#x96C6; [1, 2, 5, 6]</span></span><br><span class="line"><span class="keyword">let</span> newArr2 = [...oS2].filter(<span class="function">(<span class="params">ele, index</span>) =&gt;</span> !oS3.has(ele))</span><br><span class="line"><span class="keyword">let</span> newArr3 = [...oS3].filter(<span class="function">(<span class="params">ele, index</span>) =&gt;</span> !oS2.has(ele))</span><br><span class="line"><span class="keyword">let</span> newArr4 = [...newArr2, ...newArr3]</span><br></pre></td></tr></tbody></table></figure><p>&#x200B;                </p><h5 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h5><p>map &#x540C;&#x6837;&#x662F; es6 &#x63D0;&#x4F9B;&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF0C;&#x80FD;&#x591F;&#x5B58;&#x50A8;&#x6570;&#x636E;&#xFF0C;&#x672C;&#x8D28;&#x4E0A;&#x662F;&#x952E;&#x503C;&#x5BF9;&#x7684;&#x96C6;&#x5408;&#x3002;</p><p>&#x5B9A;&#x4E49;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> oMp = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">&apos;name&apos;</span>, <span class="string">&apos;he&apos;</span>],[<span class="string">&apos;age&apos;</span>, <span class="number">18</span>], [<span class="string">&apos;po&apos;</span>, <span class="string">&apos;wh&apos;</span>]])</span><br></pre></td></tr></tbody></table></figure><p>&#x5B83;&#x7684;&#x7ED3;&#x6784;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF1A;</p><p><img src="/posts/e867c90a/two.png" alt=""></p><p>&#x589E;&#x3001;&#x67E5;&#x3001;&#x5220;&#x3001;&#x5305;&#x542B;&#x3001;&#x679A;&#x4E3E;&#x3001;&#x6E05;&#x7A7A;&#x3001;&#x957F;&#x5EA6;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> oMp = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">&apos;name&apos;</span>, <span class="string">&apos;he&apos;</span>],[<span class="string">&apos;age&apos;</span>, <span class="number">18</span>], [<span class="string">&apos;po&apos;</span>, <span class="string">&apos;wh&apos;</span>]])</span><br><span class="line"><span class="keyword">let</span> obj = {</span><br><span class="line">  name: <span class="string">&apos;qi&apos;</span></span><br><span class="line">}</span><br><span class="line">oMp.set(<span class="string">&apos;wea&apos;</span>, <span class="string">&apos;yu&apos;</span>)</span><br><span class="line">oMp.set(obj)</span><br><span class="line">oMp.set({}, <span class="string">&apos;------&apos;</span>)</span><br><span class="line">oMp.set({}, <span class="string">&apos;++++++&apos;</span>)</span><br><span class="line"></span><br><span class="line">oMp.get(<span class="string">&apos;name&apos;</span>)</span><br><span class="line"></span><br><span class="line">oMp.forEach(<span class="function">(<span class="params">value, index</span>) =&gt;</span> {</span><br><span class="line">  <span class="built_in">console</span>.log(value)</span><br><span class="line">})</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> val <span class="keyword">of</span> oMp) {</span><br><span class="line">  <span class="built_in">console</span>.log(val)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">oMp.has(<span class="string">&apos;name&apos;</span>)</span><br><span class="line"></span><br><span class="line">oMp.delete(<span class="string">&apos;name&apos;</span>)</span><br><span class="line">oMp.delete(obj)</span><br><span class="line">oMp.delete({})     <span class="comment">// &#x5220;&#x9664;&#x5931;&#x8D25;&#xFF0C;&#x5FC5;&#x987B;&#x662F;&#x5DF2;&#x786E;&#x5B9A;&#x7684;&#x6216;&#x662F;&#x539F;&#x59CB;&#x503C;&#x624D;&#x53EF;&#x4EE5;</span></span><br><span class="line"></span><br><span class="line">oMp.clear()</span><br><span class="line"></span><br><span class="line">oMp.size    <span class="comment">// 0</span></span><br></pre></td></tr></tbody></table></figure><p>&#x200B;                </p><h5 id="&#x94FE;&#x8868;&#x3001;hashsuanfa&#x3001;&#x6876;"><a href="#&#x94FE;&#x8868;&#x3001;hashsuanfa&#x3001;&#x6876;" class="headerlink" title="&#x94FE;&#x8868;&#x3001;hashsuanfa&#x3001;&#x6876;"></a>&#x94FE;&#x8868;&#x3001;hashsuanfa&#x3001;&#x6876;</h5><p>&#x94FE;&#x8868;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">{} {} {} {} {}</span><br><span class="line"><span class="keyword">let</span> node3 = {</span><br><span class="line">    key: <span class="string">&apos;name3&apos;</span>,</span><br><span class="line">    value: <span class="string">&apos;3&apos;</span>,</span><br><span class="line">    next: <span class="literal">null</span></span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> node2 = {</span><br><span class="line">    key: <span class="string">&apos;name2&apos;</span>,</span><br><span class="line">    value: <span class="string">&apos;2&apos;</span>,</span><br><span class="line">    next: node3</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> node1 = {</span><br><span class="line">    key: <span class="string">&apos;name&apos;</span>,</span><br><span class="line">    value: <span class="string">&apos;1&apos;</span>,</span><br><span class="line">    next: node2</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure><p>hash &#x3001;&#x6876;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> oMp = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">&apos;name1&apos;</span>, <span class="string">&apos;1&apos;</span>], [<span class="string">&apos;name2&apos;</span>, <span class="string">&apos;2&apos;</span>]]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// hash -&gt;</span></span><br><span class="line"><span class="comment">// {} &apos;name1&apos; &apos;age&apos; 1 true NaN</span></span><br></pre></td></tr></tbody></table></figure><p>hash: &#x5C31;&#x662F;&#x628A;&#x4E0D;&#x5B9A;&#x8303;&#x56F4;&#x7684;&#x503C;&#x8F6C;&#x5316;&#x6210;&#x7279;&#x5B9A;&#x8303;&#x56F4;&#x7684;</p><p>&#x6876;&#xFF1A;&#x5C31;&#x662F;&#x5BB9;&#x5668;&#xFF08;&#x5177;&#x4F53;&#x7684;&#x6211;&#x63CF;&#x8FF0;&#x4E0D;&#x51FA;&#x6765;&#xFF09;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x660E;&#x663E;&#x6563;&#x5217;&#x7684;</span></span><br><span class="line">{</span><br><span class="line">  key: <span class="string">&apos;name1&apos;</span>,</span><br><span class="line">  value: <span class="string">&apos;1&apos;</span>,</span><br><span class="line">}</span><br><span class="line">{</span><br><span class="line">  key: <span class="string">&apos;name2&apos;</span>,</span><br><span class="line">  value: <span class="string">&apos;2&apos;</span>,</span><br><span class="line">}</span><br><span class="line">  </span><br><span class="line"><span class="comment">// hash &#x4E4B;&#x540E;, &#x6876; &#x5C31;&#x662F;&#x5916;&#x9762;&#x8FD9;&#x5C42;&#x6570;&#x7EC4;</span></span><br><span class="line">[</span><br><span class="line">    {</span><br><span class="line">        next: {</span><br><span class="line">            key: <span class="string">&apos;name1&apos;</span>,</span><br><span class="line">            value: <span class="string">&apos;1&apos;</span>,</span><br><span class="line">            next: {</span><br><span class="line">                key: <span class="string">&apos;name2&apos;</span>,</span><br><span class="line">                value: <span class="string">&apos;2&apos;</span></span><br><span class="line">            } </span><br><span class="line">        }</span><br><span class="line">    },</span><br><span class="line">    {},</span><br><span class="line">    {},</span><br><span class="line">    {},</span><br><span class="line">    {},</span><br><span class="line">    {},</span><br><span class="line">    {},</span><br><span class="line">    {}</span><br><span class="line">];</span><br></pre></td></tr></tbody></table></figure><p>&#x5927;&#x4F53;&#x7684;&#x56FE;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF1A;</p><p><img src="/posts/e867c90a/three.jpg" alt=""></p><p>&#x200B;                    </p><h5 id="&#x6A21;&#x62DF;-Map"><a href="#&#x6A21;&#x62DF;-Map" class="headerlink" title="&#x6A21;&#x62DF; Map"></a>&#x6A21;&#x62DF; Map</h5><p>map&#x6709;&#x4E00;&#x4E0B;&#x51E0;&#x4E2A;&#x7279;&#x70B9;&#xFF1A;</p><p>&#x2003;&#x2003;1 &#x4E0D;&#x91CD;&#x590D;</p><p>&#x2003;&#x2003;2 &#x5B57;&#x7B26;&#x4E32; &#x5BF9;&#x8C61; NaN null [] function(){} 10</p><p>&#x2003;&#x2003;3 set get delete has clear</p><p>&#x6A21;&#x62DF;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myMap</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">this</span>.bucketLength = <span class="number">8</span>;</span><br><span class="line">    <span class="keyword">this</span>.init();</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">myMap.prototype.init = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="comment">// &#x521D;&#x59CB;&#x5316; &#x6876; 8</span></span><br><span class="line">    <span class="keyword">this</span>.bucket = <span class="keyword">new</span> <span class="built_in">Array</span>( <span class="keyword">this</span>.bucketLength );</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.bucket.length; i++) {</span><br><span class="line">        <span class="keyword">this</span>.bucket[i] = {</span><br><span class="line">            type: <span class="string">&apos;bucket_&apos;</span> + i,</span><br><span class="line">            next: <span class="literal">null</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// 1. [0, 8)</span></span><br><span class="line"><span class="comment">// 2. &#x91CD;&#x590D;&#x7B97;&#x503C;&#x56FA;&#x5B9A;</span></span><br><span class="line">myMap.prototype.makeHash = <span class="function"><span class="keyword">function</span> (<span class="params">key</span>) </span>{</span><br><span class="line">    <span class="keyword">let</span> hash = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// string   </span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> key !== <span class="string">&apos;string&apos;</span>) {</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> key == <span class="string">&apos;number&apos;</span>) {</span><br><span class="line">            <span class="comment">//number NaN </span></span><br><span class="line">            hash = <span class="built_in">Object</span>.is(key, <span class="literal">NaN</span>) ? <span class="number">0</span> : key;</span><br><span class="line">        }<span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> key == <span class="string">&apos;object&apos;</span>) {</span><br><span class="line">            <span class="comment">// null {} []</span></span><br><span class="line">            hash = <span class="number">1</span>;</span><br><span class="line">        }<span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> key == <span class="string">&apos;boolean&apos;</span>) {</span><br><span class="line">            <span class="comment">// true false boolean</span></span><br><span class="line">            hash = <span class="built_in">Number</span>(key);</span><br><span class="line">        }<span class="keyword">else</span> {</span><br><span class="line">            <span class="comment">// undefined  function(){}</span></span><br><span class="line">            hash = <span class="number">2</span>;</span><br><span class="line">        }</span><br><span class="line">    }<span class="keyword">else</span> {</span><br><span class="line">        <span class="comment">// string</span></span><br><span class="line">        <span class="comment">// &apos;a&apos; &apos;ab&apos; &apos;asdasdadasda&apos;;</span></span><br><span class="line">        <span class="comment">// &#x957F;&#x5EA6;&#x5927;&#x4E8E;&#x7B49;&#x4E8E;3 &#x524D;&#x4E09;&#x4E2A;&#x5B57;&#x7B26; ascii &#x7D2F;&#x52A0; &#xFF0C;&#x81EA;&#x5DF1;&#x5B9A;</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) {</span><br><span class="line">            <span class="comment">// key[]</span></span><br><span class="line">            hash += key[i] ? key[i].charCodeAt(<span class="number">0</span>) : <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> hash % <span class="number">8</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">myMap.prototype.set = <span class="function"><span class="keyword">function</span> (<span class="params">key, value</span>) </span>{</span><br><span class="line">    <span class="keyword">let</span> hash = <span class="keyword">this</span>.makeHash(key);</span><br><span class="line">    <span class="keyword">let</span> oTempBucket = <span class="keyword">this</span>.bucket[hash];</span><br><span class="line">    <span class="keyword">while</span> (oTempBucket.next) {</span><br><span class="line">        <span class="keyword">if</span> (oTempBucket.next.key == key) {</span><br><span class="line">            oTempBucket.next.value = value;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }<span class="keyword">else</span> {</span><br><span class="line">            oTempBucket = oTempBucket.next;</span><br><span class="line">        }</span><br><span class="line">    };</span><br><span class="line">    oTempBucket.next = {</span><br><span class="line">        key: key,</span><br><span class="line">        value: value,</span><br><span class="line">        next: <span class="literal">null</span></span><br><span class="line">    };</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">myMap.prototype.get = <span class="function"><span class="keyword">function</span> (<span class="params">key</span>) </span>{</span><br><span class="line">    <span class="keyword">let</span> hash = <span class="keyword">this</span>.makeHash(key);</span><br><span class="line">    <span class="keyword">let</span> oTempBucket = <span class="keyword">this</span>.bucket[hash];</span><br><span class="line">    <span class="keyword">while</span>(oTempBucket) {</span><br><span class="line">        <span class="keyword">if</span> (oTempBucket.key == key) {</span><br><span class="line">            <span class="keyword">return</span> oTempBucket.value;</span><br><span class="line">        }<span class="keyword">else</span> {</span><br><span class="line">            oTempBucket = oTempBucket.next;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">undefined</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">myMap.prototype.delete = <span class="function"><span class="keyword">function</span> (<span class="params">key</span>) </span>{</span><br><span class="line">    <span class="keyword">let</span> hash = <span class="keyword">this</span>.makeHash(key);</span><br><span class="line">    <span class="keyword">let</span> oTempBucket = <span class="keyword">this</span>.bucket[hash];</span><br><span class="line">    <span class="keyword">while</span> (oTempBucket.next) {</span><br><span class="line">        <span class="keyword">if</span> (oTempBucket.next.key == key) {</span><br><span class="line">            oTempBucket.next = oTempBucket.next.next;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        }<span class="keyword">else</span> {</span><br><span class="line">            oTempBucket = oTempBucket.next;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">myMap.prototype.has = <span class="function"><span class="keyword">function</span> (<span class="params">key</span>) </span>{</span><br><span class="line">    <span class="keyword">let</span> hash = <span class="keyword">this</span>.makeHash(key);</span><br><span class="line">    <span class="keyword">let</span> oTempBucket = <span class="keyword">this</span>.bucket[hash];</span><br><span class="line">    <span class="keyword">while</span> (oTempBucket) {</span><br><span class="line">        <span class="keyword">if</span> (oTempBucket.next &amp;&amp; oTempBucket.next.key == key) {</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        }<span class="keyword">else</span> {</span><br><span class="line">            oTempBucket = oTempBucket.next;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">myMap.prototype.clear = <span class="function"><span class="keyword">function</span> (<span class="params">key</span>) </span>{</span><br><span class="line">   <span class="keyword">this</span>.init();</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">let</span> oMp = <span class="keyword">new</span> myMap();</span><br><span class="line"><span class="keyword">let</span> obj1 = {</span><br><span class="line">    name: <span class="string">&apos;cst&apos;</span></span><br><span class="line">}</span><br><span class="line">oMp.set(<span class="string">&apos;name1&apos;</span>, <span class="string">&apos;he&apos;</span>);</span><br><span class="line">oMp.set(<span class="string">&apos;name2&apos;</span>, <span class="string">&apos;qi&apos;</span>);</span><br><span class="line">oMp.set(obj1, <span class="string">&apos;---&apos;</span>);</span><br><span class="line">oMp.set(obj1, <span class="string">&apos;+++&apos;</span>);</span><br><span class="line">oMp.set(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{}, <span class="literal">true</span>);</span><br></pre></td></tr></tbody></table></figure><p>&#x200B;    &#x603B;&#xFF1A;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x9002;&#x5408;&#x53CD;&#x590D;&#x7EC3;&#x4E60;</p><p>&#x200B;                            </p><h4 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h4><p>promise &#x662F;&#x4E00;&#x4E2A;&#x5185;&#x7F6E;&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;</p><h5 id="promise-&#x57FA;&#x672C;&#x4F7F;&#x7528;&#xFF1A;"><a href="#promise-&#x57FA;&#x672C;&#x4F7F;&#x7528;&#xFF1A;" class="headerlink" title="promise &#x57FA;&#x672C;&#x4F7F;&#x7528;&#xFF1A;"></a>promise &#x57FA;&#x672C;&#x4F7F;&#x7528;&#xFF1A;</h5><h6 id="then-&#x6CE8;&#x518C;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x503C;"><a href="#then-&#x6CE8;&#x518C;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x503C;" class="headerlink" title="then &#x6CE8;&#x518C;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x503C;"></a>then &#x6CE8;&#x518C;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x503C;</h6><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x6CE8;&#x610F; &#x6267;&#x884C;&#x987A;&#x5E8F;</span></span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&apos;settime&apos;</span>)</span><br><span class="line">}, <span class="number">0</span>);</span><br><span class="line"><span class="keyword">let</span> oP = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, refect</span>) =&gt;</span> {</span><br><span class="line">  <span class="comment">// &#x5F02;&#x6B65;&#x64CD;&#x4F5C;</span></span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">    <span class="built_in">Math</span>.random() * <span class="number">100</span> &gt; <span class="number">60</span> ? resolve(<span class="string">&apos;ok&apos;</span>) : refect(<span class="string">&apos;no&apos;</span>)</span><br><span class="line">  }, <span class="number">600</span>);</span><br><span class="line">})</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">0</span>)</span><br><span class="line"><span class="comment">// &#x5F02;&#x6B65;&#x6267;&#x884C;</span></span><br><span class="line">oP.then( <span class="function">(<span class="params">val</span>) =&gt;</span> {</span><br><span class="line">  <span class="built_in">console</span>.log(val)</span><br><span class="line">}, (reason) =&gt; {</span><br><span class="line">  <span class="built_in">console</span>.log(reason)</span><br><span class="line">} )</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 0 1 settime no</span></span><br></pre></td></tr></tbody></table></figure><p>&#x5728; then &#x4E2D;&#x6210;&#x529F;&#x7684;&#x56DE;&#x8C03;&#x548C;&#x5931;&#x8D25;&#x7684;&#x56DE;&#x8C03;&#x6709;&#x51E0;&#x4E2A;&#x7279;&#x70B9;&#xFF0C;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;</p><p>&#x2003;&#x2003;1 &#x53EF;&#x4EE5;&#x94FE;&#x5F0F;&#x8C03;&#x7528;</p><p>&#x2003;&#x2003;2 &#x82E5;&#x662F;&#x6CA1;&#x6709;&#x629B;&#x51FA;&#x9519;&#x8BEF;&#x90A3;&#x4E0B;&#x4E00;&#x4E2A; then &#x8C03;&#x7528;&#x7684;&#x662F;&#x6210;&#x529F;&#x7684;&#x56DE;&#x8C03;&#xFF0C;&#x82E5;&#x662F;&#x629B;&#x51FA;&#x9519;&#x8BEF;&#x4E86;&#x5219;&#x662F;&#x9519;&#x8BEF;&#x7684;&#x56DE;&#x8C03;&#xFF0C;&#x65E0;&#x6240;&#x8C13;&#x5F53;&#x524D;&#x8C03;&#x7528;&#x7684;&#x56DE;&#x8C03;&#x662F;&#x6210;&#x529F;&#x8FD8;&#x662F;&#x5931;&#x8D25;&#xFF0C;&#x53EA;&#x5173;&#x5FC3;&#x56DE;&#x8C03;&#x6709;&#x6CA1;&#x6709;&#x629B;&#x51FA;&#x9519;&#x8BEF;</p><p>&#x2003;&#x2003;3 &#x82E5;&#x56DE;&#x8C03; return &#x7684;&#x662F; promise&#xFF0C;&#x5219;&#x770B;&#x8FD9;&#x4E2A; promise &#x662F;&#x8C03;&#x7528;&#x6210;&#x529F;&#x8FD8;&#x662F;&#x9519;&#x8BEF;&#x7684;&#x56DE;&#x8C03;</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">let oP = <span class="keyword">new</span> Promise((resolve, refect) =&gt; {</span><br><span class="line">  <span class="comment">// &#x5F02;&#x6B65;&#x64CD;&#x4F5C;</span></span><br><span class="line">  setTimeout(() =&gt; {</span><br><span class="line">    Math.random() * <span class="number">100</span> &gt; <span class="number">60</span> ? resolve(<span class="string">&apos;ok&apos;</span>) : refect(<span class="string">&apos;no&apos;</span>)</span><br><span class="line">  }, <span class="number">600</span>);</span><br><span class="line">})</span><br><span class="line"></span><br><span class="line">oP.then( (res) =&gt; {</span><br><span class="line">  console.log(res)</span><br><span class="line">  <span class="comment">// throw new Error(&apos;qi&apos;)</span></span><br><span class="line">  <span class="comment">// return new Promise((resolve, reject) =&gt; {</span></span><br><span class="line">  <span class="comment">//         reject(&apos;newPromise ok&apos;);</span></span><br><span class="line">  <span class="comment">//     });</span></span><br><span class="line">  <span class="comment">// return 20</span></span><br><span class="line">}, (rej) =&gt; {</span><br><span class="line">  console.log(rej)</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> Error(<span class="string">&apos;he&apos;</span>)</span><br><span class="line">  <span class="comment">// return 30</span></span><br><span class="line">}).then( (res) =&gt; {</span><br><span class="line">  console.log(<span class="string">&apos;ok: then: &apos;</span> + res)</span><br><span class="line">}, (rej) =&gt; {</span><br><span class="line">  console.log(<span class="string">&apos;no: then: &apos;</span> + rej)</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure><p>&#x200B;                </p><h6 id="catch-&#x5F02;&#x5E38;&#x6355;&#x83B7;-finally-&#x6700;&#x540E;&#x5904;&#x7406;&#x51FD;&#x6570;"><a href="#catch-&#x5F02;&#x5E38;&#x6355;&#x83B7;-finally-&#x6700;&#x540E;&#x5904;&#x7406;&#x51FD;&#x6570;" class="headerlink" title="catch &#x5F02;&#x5E38;&#x6355;&#x83B7; finally &#x6700;&#x540E;&#x5904;&#x7406;&#x51FD;&#x6570;"></a>catch &#x5F02;&#x5E38;&#x6355;&#x83B7; finally &#x6700;&#x540E;&#x5904;&#x7406;&#x51FD;&#x6570;</h6><p>then &#x6355;&#x83B7;&#x5230;&#x9519;&#x8BEF;&#x540E;&#x4E0D;&#x518D;&#x6267;&#x884C;catch&#xFF0C;&#x4F46;catch&#x6355;&#x83B7;&#x5230;&#x9519;&#x8BEF;&#x540E;&#x4F1A;&#x6267;&#x884C;then&#xFF1B;&#x94FE;&#x5F0F;&#x8C03;&#x7528;&#x7684;&#x65F6;&#x5019;&#x5982;&#x679C;&#x5199;&#x4E00;&#x4E2A;&#x7A7A;then&#x5176;&#x5B9E;&#x76F8;&#x5F53;&#x4E8E;&#x4E0D;&#x5B58;&#x5728;&#x53EF;&#x4EE5;&#x5FFD;&#x89C6;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> oP = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, refect</span>) =&gt;</span> {</span><br><span class="line">  <span class="comment">// &#x5F02;&#x6B65;&#x64CD;&#x4F5C;</span></span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">    <span class="built_in">Math</span>.random() * <span class="number">100</span> &gt; <span class="number">60</span> ? resolve(<span class="string">&apos;ok&apos;</span>) : refect(<span class="string">&apos;no&apos;</span>)</span><br><span class="line">  }, <span class="number">600</span>);</span><br><span class="line">})</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x6355;&#x83B7;&#x5230;&#x9519;&#x8BEF;&#x540E;&#x4E0B;&#x4E00;&#x4E2A;then&#x629B;&#x51FA;&#x4E86;&#xFF0C;&#x7136;&#x540E;&#x540E;&#x9762;&#x7684;catch &#x6CA1;&#x6709;&#x6355;&#x83B7;&#x5230;</span></span><br><span class="line">oP.then( <span class="function">(<span class="params">res</span>) =&gt;</span> {</span><br><span class="line">  <span class="built_in">console</span>.log(res)</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&apos;qi&apos;</span>)</span><br><span class="line">}, rej =&gt; {</span><br><span class="line">  <span class="built_in">console</span>.log(rej)</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&apos;he&apos;</span>)</span><br><span class="line">} ).then().then( <span class="function">(<span class="params">res</span>) =&gt;</span> {</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&apos;ok-then: &apos;</span> + res)</span><br><span class="line">}, rej =&gt; {</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&apos;no-then: &apos;</span> + rej)</span><br><span class="line">} ).catch( <span class="function"><span class="params">err</span> =&gt;</span> {</span><br><span class="line">  <span class="built_in">console</span>.log( err)</span><br><span class="line">} )</span><br><span class="line"></span><br><span class="line"><span class="comment">// catch &#x6355;&#x83B7;&#x5230;&#x9519;&#x8BEF;&#x540E;&#xFF0C;&#x540E;&#x9762;&#x7684;then&#x4ECD;&#x80FD;&#x6355;&#x83B7;&#x5230;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;</span></span><br><span class="line">oP.then( <span class="function">(<span class="params">res</span>) =&gt;</span> {</span><br><span class="line">  <span class="built_in">console</span>.log(res)</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&apos;qi&apos;</span>)</span><br><span class="line">}, rej =&gt; {</span><br><span class="line">  <span class="built_in">console</span>.log(rej)</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&apos;he&apos;</span>)</span><br><span class="line">} ).then().then( <span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">  </span><br><span class="line">}).catch( <span class="function"><span class="params">err</span> =&gt;</span> {</span><br><span class="line">  <span class="built_in">console</span>.log( err)</span><br><span class="line">} ).then( <span class="function">(<span class="params">res</span>) =&gt;</span> {</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&apos;catch&#x540E;-ok: &apos;</span> + res)</span><br><span class="line">}, rej =&gt; {</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&apos;catch&#x540E;-no&#xFF1A;&apos;</span> + rej)</span><br><span class="line">} )</span><br></pre></td></tr></tbody></table></figure><p>finally &#x7EC8;&#x7ED3;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">oP.then( <span class="function">(<span class="params">res</span>) =&gt;</span> {</span><br><span class="line">  <span class="built_in">console</span>.log(res)</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&apos;qi&apos;</span>)</span><br><span class="line">}, rej =&gt; {</span><br><span class="line">  <span class="built_in">console</span>.log(rej)</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&apos;he&apos;</span>)</span><br><span class="line">} ).then().then( <span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">  </span><br><span class="line">}).catch( <span class="function"><span class="params">err</span> =&gt;</span> {</span><br><span class="line">  <span class="built_in">console</span>.log( err)</span><br><span class="line">} ).then( <span class="function">(<span class="params">res</span>) =&gt;</span> {</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&apos;catch&#x540E;-ok: &apos;</span> + res)</span><br><span class="line">}, rej =&gt; {</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&apos;catch&#x540E;-no&#xFF1A;&apos;</span> + rej)</span><br><span class="line">} ).finally(  <span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&apos;over&apos;</span>)</span><br><span class="line">} )</span><br></pre></td></tr></tbody></table></figure><p>&#x200B;            </p><h6 id="Promise-all-Promise-race"><a href="#Promise-all-Promise-race" class="headerlink" title="Promise.all   Promise.race"></a>Promise.all   Promise.race</h6><p>Promise.all &#xFF1A;&#x540C;&#x6B65;&#x5E76;&#x53D1;&#x5F02;&#x6B65;&#x7ED3;&#x679C;&#x3002;Promise.all&#x53EF;&#x4EE5;&#x5C06;&#x591A;&#x4E2A;Promise&#x5B9E;&#x4F8B;&#x5305;&#x88C5;&#x6210;&#x4E00;&#x4E2A;&#x65B0;&#x7684;Promise&#x5B9E;&#x4F8B;&#x3002;&#x540C;&#x65F6;&#xFF0C;&#x6210;&#x529F;&#x548C;&#x5931;&#x8D25;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x662F;&#x4E0D;&#x540C;&#x7684;&#xFF0C;&#x90FD;&#x6210;&#x529F;&#x7684;&#x65F6;&#x5019;&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x7ED3;&#x679C;&#x6570;&#x7EC4;&#xFF08;&#x8C03;&#x7528;&#x6210;&#x529F;&#x7684;&#x56DE;&#x8C03;&#xFF09;&#xFF0C;&#x800C;&#x5931;&#x8D25;&#x7684;&#x65F6;&#x5019;&#x5219;&#x8FD4;&#x56DE;&#x6700;&#x5148;&#x88AB;reject&#x5931;&#x8D25;&#x72B6;&#x6001;&#x7684;&#x503C;&#x3002;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span> (<span class="params">x</span>) </span>{</span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res, rej</span>) =&gt;</span> {</span><br><span class="line">      setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">          <span class="built_in">Math</span>.random() * <span class="number">100</span> &gt; <span class="number">50</span> ? res(x) : rej(x);</span><br><span class="line">      }, <span class="number">100</span>)</span><br><span class="line">   });</span><br><span class="line">}</span><br><span class="line"><span class="keyword">let</span> oP = <span class="built_in">Promise</span>.all([test(<span class="string">&apos;a&apos;</span>), test(<span class="string">&apos;b&apos;</span>), test(<span class="string">&apos;c&apos;</span>)]);</span><br><span class="line">oP.then(<span class="function">(<span class="params">val</span>) =&gt;</span> {</span><br><span class="line">    <span class="built_in">console</span>.log(val)</span><br><span class="line">}, (reason) =&gt; {</span><br><span class="line">    <span class="built_in">console</span>.log(reason);</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure><p>Promise.race&#xFF1A;&#x8C01;&#x5148;&#x5904;&#x7406;&#x6210;&#x529F;&#x5C31;&#x5904;&#x7406;&#x8C01;&#x3002;Promise.race([p1, p2, p3])&#x91CC;&#x9762;&#x54EA;&#x4E2A;&#x7ED3;&#x679C;&#x83B7;&#x5F97;&#x7684;&#x5FEB;&#xFF0C;&#x5C31;&#x8FD4;&#x56DE;&#x90A3;&#x4E2A;&#x7ED3;&#x679C;&#xFF0C; &#x4E0D;&#x7BA1;&#x7ED3;&#x679C;&#x672C;&#x8EAB;&#x662F;&#x6210;&#x529F;&#x72B6;&#x6001;&#x8FD8;&#x662F;&#x5931;&#x8D25;&#x72B6;&#x6001;&#x3002;&#x6709;&#x4E00;&#x4E2A;&#x5931;&#x8D25;&#x5C31;&#x89E6;&#x53D1;&#x5931;&#x8D25;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span> (<span class="params">x</span>) </span>{</span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">res, rej</span>) =&gt;</span> {</span><br><span class="line">      setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">          <span class="built_in">Math</span>.random() * <span class="number">100</span> &gt; <span class="number">50</span> ? res(x) : rej(x);</span><br><span class="line">      }, <span class="number">100</span>)</span><br><span class="line">   });</span><br><span class="line">}</span><br><span class="line"><span class="built_in">Promise</span>.race([test(<span class="string">&apos;a&apos;</span>), test(<span class="string">&apos;b&apos;</span>), test(<span class="string">&apos;c&apos;</span>)]).then(<span class="function">(<span class="params">val</span>) =&gt;</span> {</span><br><span class="line">    <span class="built_in">console</span>.log(val, <span class="string">&apos;ok&apos;</span>);</span><br><span class="line">}, (reason) =&gt; {</span><br><span class="line">    <span class="built_in">console</span>.log(reason, <span class="string">&apos;no&apos;</span>);</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure><p>&#x200B;                    </p><h5 id="Promise-&#x539F;&#x7406;"><a href="#Promise-&#x539F;&#x7406;" class="headerlink" title="Promise &#x539F;&#x7406;"></a>Promise &#x539F;&#x7406;</h5><p>then &#x7684;&#x7528;&#x6CD5;&#x53CA;&#x8981;&#x6C42;&#x53EF;&#x4EE5;&#x5728;&#x8FD9;&#x4E2A;&#x7F51;&#x7AD9;&#x770B;&#xFF0C;&#x5F88;&#x5408;&#x9002; <a href="https://promisesaplus.com/" target="_blank" rel="noopener">Promise A+&#x89C4;&#x8303;</a></p><p>&#x7B97;&#x4E86;&#xFF0C;&#x4E0A;&#x4EE3;&#x7801;&#x5427;&#xFF0C;&#x8FD9;&#x91CC;&#x9002;&#x5408;<strong>&#x591A;&#x6B21;</strong>&#x7EC3;&#x4E60;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> oP = <span class="keyword">new</span> MyPromise( <span class="function">(<span class="params">res, rej</span>) =&gt;</span> {</span><br><span class="line"><span class="comment">//    throw new Error(&apos;duyi&apos;); </span></span><br><span class="line">    <span class="comment">// &#x5F02;&#x6B65;&#x64CD;&#x4F5C;</span></span><br><span class="line">    <span class="comment">// setTimeout(() =&gt; {</span></span><br><span class="line">    <span class="comment">//     res(0);</span></span><br><span class="line">    <span class="comment">// }, 2000);</span></span><br><span class="line">    <span class="comment">// console.log(0);</span></span><br><span class="line">    res(<span class="number">1</span>);</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line"><span class="comment">// myPromise.js</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MyPromise</span> (<span class="params">executor</span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> self = <span class="keyword">this</span>;</span><br><span class="line">    self.status = <span class="string">&apos;pending&apos;</span>;</span><br><span class="line">    self.resolveValue = <span class="literal">null</span>;</span><br><span class="line">    self.rejectReason = <span class="literal">null</span>;</span><br><span class="line">    self.ResolveCallBackList = [];</span><br><span class="line">    self.RejectCallBackList = [];</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">resolve</span> (<span class="params">value</span>) </span>{</span><br><span class="line">        <span class="keyword">if</span> (self.status === <span class="string">&apos;pending&apos;</span>) {</span><br><span class="line">            self.status = <span class="string">&apos;Fulfilled&apos;</span>;</span><br><span class="line">            self.resolveValue = value;</span><br><span class="line">            self.ResolveCallBackList.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">ele</span>) </span>{</span><br><span class="line">                ele();</span><br><span class="line">            });</span><br><span class="line">        }  </span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">reject</span> (<span class="params">reason</span>) </span>{</span><br><span class="line">        <span class="keyword">if</span> (self.status === <span class="string">&apos;pending&apos;</span>) {</span><br><span class="line">            self.status = <span class="string">&apos;Rejected&apos;</span>;</span><br><span class="line">            self.rejectReason = reason;</span><br><span class="line">            self.RejectCallBackList.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">ele</span>) </span>{</span><br><span class="line">                ele();</span><br><span class="line">            });            </span><br><span class="line">        }  </span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">try</span> {</span><br><span class="line">        executor(resolve, reject);</span><br><span class="line">    }<span class="keyword">catch</span>(e) {</span><br><span class="line">        reject(e);</span><br><span class="line">    } </span><br><span class="line">};</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ResolutionRetrunPromise</span> (<span class="params">nextPromise, returnValue, res, rej</span>) </span>{</span><br><span class="line">    <span class="keyword">if</span> (returnValue <span class="keyword">instanceof</span> MyPromise) {</span><br><span class="line">        <span class="comment">// Promise &#x5BF9;&#x8C61;</span></span><br><span class="line">        returnValue.then(<span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>{</span><br><span class="line">            res(val);</span><br><span class="line">        }, <span class="function"><span class="keyword">function</span> (<span class="params">reason</span>) </span>{</span><br><span class="line">            rej(reason)</span><br><span class="line">        });</span><br><span class="line">    }<span class="keyword">else</span> {</span><br><span class="line">        res(returnValue);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">MyPromise.prototype.then = <span class="function"><span class="keyword">function</span> (<span class="params">onFulfilled, onRejected</span>) </span>{</span><br><span class="line">    <span class="keyword">if</span> (!onFulfilled) {</span><br><span class="line">        onFulfilled = <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>{</span><br><span class="line">            <span class="keyword">return</span> val;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> (!onRejected) {</span><br><span class="line">        onRejected = <span class="function"><span class="keyword">function</span> (<span class="params">reason</span>) </span>{</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(reason);</span><br><span class="line">        }</span><br><span class="line">    }    </span><br><span class="line">    <span class="keyword">var</span> self = <span class="keyword">this</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> nextPromise = <span class="keyword">new</span> MyPromise(<span class="function"><span class="keyword">function</span> (<span class="params">res, rej</span>) </span>{</span><br><span class="line">        <span class="keyword">if</span> (self.status === <span class="string">&apos;Fulfilled&apos;</span>) {</span><br><span class="line">            setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">                <span class="keyword">try</span> {</span><br><span class="line">                    <span class="comment">// var nextResolveValue = onFulfilled(self.resolveValue);</span></span><br><span class="line">                    <span class="comment">// res(nextResolveValue);</span></span><br><span class="line">                    <span class="keyword">var</span> nextResolveValue = onFulfilled(self.resolveValue);</span><br><span class="line">                    ResolutionRetrunPromise(nextPromise, nextResolveValue, res, rej);</span><br><span class="line">                }<span class="keyword">catch</span>(e) {</span><br><span class="line">                    rej(e);</span><br><span class="line">                }</span><br><span class="line"></span><br><span class="line">            }, <span class="number">0</span>);</span><br><span class="line">        }</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">if</span> (self.status === <span class="string">&apos;Rejected&apos;</span>) {</span><br><span class="line">            setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">                <span class="keyword">try</span> {</span><br><span class="line">                    <span class="keyword">var</span> nextRejectValue = onRejected(self.rejectReason);</span><br><span class="line">                    ResolutionRetrunPromise(nextPromise, nextRejectValue, res, rej);</span><br><span class="line">                }<span class="keyword">catch</span>(e) {</span><br><span class="line">                    rej(e);</span><br><span class="line">                }</span><br><span class="line"></span><br><span class="line">            }, <span class="number">0</span>);</span><br><span class="line">        }</span><br><span class="line">    </span><br><span class="line">        <span class="comment">// </span></span><br><span class="line">        <span class="keyword">if</span> (self.status === <span class="string">&apos;pending&apos;</span>) { </span><br><span class="line">            self.ResolveCallBackList.push(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">                <span class="keyword">try</span> {</span><br><span class="line">                    <span class="keyword">var</span> nextResolveValue = onFulfilled(self.resolveValue);</span><br><span class="line">                    ResolutionRetrunPromise(nextPromise, nextResolveValue, res, rej);</span><br><span class="line">                }<span class="keyword">catch</span>(e) {</span><br><span class="line">                    rej(e);</span><br><span class="line">                }</span><br><span class="line">            });</span><br><span class="line">    </span><br><span class="line">            self.RejectCallBackList.push(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">                setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">                    <span class="keyword">try</span> {</span><br><span class="line">                        <span class="keyword">var</span> nextRejectValue = onRejected(self.rejectReason);</span><br><span class="line">                        ResolutionRetrunPromise(nextPromise, nextRejectValue, res, rej);</span><br><span class="line">                    }<span class="keyword">catch</span>(e) {</span><br><span class="line">                        rej(e);</span><br><span class="line">                    }</span><br><span class="line">                }, <span class="number">0</span>);</span><br><span class="line">            });        </span><br><span class="line">        }</span><br><span class="line">    });</span><br><span class="line">    <span class="keyword">return</span> nextPromise;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">MyPromise.race = <span class="function"><span class="keyword">function</span>(<span class="params">promiseArr</span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> MyPromise(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>{</span><br><span class="line">        promiseArr.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">promise, index</span>) </span>{</span><br><span class="line">           promise.then(resolve, reject);</span><br><span class="line">        });</span><br><span class="line">    });</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure><p>&#x200B;                        </p><h4 id="Iterator"><a href="#Iterator" class="headerlink" title="Iterator"></a>Iterator</h4><p>&#x8FED;&#x4EE3;&#x6A21;&#x5F0F;&#xFF1A;<br>&#x200B;    &#x2003;&#x2003;&#x63D0;&#x4F9B;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x987A;&#x5E8F;&#x83B7;&#x5F97;&#x805A;&#x5408;&#x5BF9;&#x8C61;&#x4E2D;&#x7684;&#x5404;&#x4E2A;&#x5143;&#x7D20;&#xFF0C;&#x662F;&#x4E00;&#x79CD;&#x6700;&#x7B80;&#x5355;&#x4E5F;&#x6700;&#x5E38;&#x89C1;&#x7684;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x8BA9;&#x7528;<br>&#x6237;&#x900F;&#x8FC7;&#x7279;&#x5B9A;&#x7684;&#x63A5;&#x53E3;&#x5DE1;&#x8BBF;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x800C;&#x4E0D;&#x7528;&#x4E86;&#x89E3;&#x5E95;&#x5C42;&#x7684;&#x5B9E;&#x73B0;&#x3002;</p><p>&#x200B;                </p><p>&#x8FED;&#x4EE3;&#x5668;&#x7B80;&#x4ECB;&#xFF1A;<br>&#x200B;    &#x2003;&#x2003;&#x4F9D;&#x7167;&#x4E0E;&#x8FED;&#x4EE3;&#x6A21;&#x5F0F;&#x7684;&#x601D;&#x60F3;&#x800C;&#x5B9E;&#x73B0;&#xFF0C;&#x5206;&#x4E3A;&#x5185;&#x90E8;&#x8FED;&#x4EE3;&#x5668;&#x548C;&#x5916;&#x90E8;&#x8FED;&#x4EE3;&#x5668;&#x3002;</p><p>&#x5185;&#x90E8;&#x8FED;&#x4EE3;&#x5668;&#xFF1A;&#x672C;&#x8EAB;&#x662F;&#x51FD;&#x6570;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x5185;&#x90E8;&#x5B9A;&#x4E49;&#x597D;&#x8FED;&#x4EE3;&#x89C4;&#x5219;&#xFF0C;&#x5B8C;&#x5168;&#x63A5;&#x624B;&#x6574;&#x4E2A;&#x8FED;&#x4EE3;&#x8FC7;&#x7A0B;&#xFF0C;&#x5916;&#x90E8;&#x53EA;&#x9700;&#x8981;&#x4E00;&#x6B21;&#x521D;&#x59CB;&#x8C03;&#x7528;&#x3002;<br>&#x200B;    &#x2003;&#x2003;&#x5982;&#xFF1A;Array.prototype.forEach &#x3001;jQuery.each &#x5185;&#x90E8;&#x8FED;&#x4EE3;&#x5668;</p><p>&#x5916;&#x90E8;&#x8FED;&#x4EE3;&#x5668;&#xFF1A;&#x672C;&#x8EAB;&#x662F;&#x51FD;&#x6570;&#xFF0C;&#x6267;&#x884C;&#x8FD4;&#x56DE;&#x8FED;&#x4EE3;&#x5BF9;&#x8C61;&#xFF0C;&#x8FED;&#x4EE3;&#x4E0B;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x5FC5;&#x987B;&#x663E;&#x793A;&#x8C03;&#x7528;&#xFF0C;&#x8C03;&#x7528;&#x590D;&#x6742;&#x5EA6;&#x589E;&#x52A0;&#xFF0C;&#x4F46;&#x7075;&#x6D3B;&#x6027;&#x589E;&#x5F3A;&#x3002;</p><p>&#x2003;&#x2003;&#x5982;&#xFF1A;function outerItreator(){} &#x5916;&#x90E8;&#x8FED;&#x4EE3;&#x5668;</p><p>&#x200B;                </p><p>&#x80FD;&#x591F;&#x88AB;&#x8FED;&#x4EE3;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5176;&#x539F;&#x578B;&#x4E0A;&#x6709; Symbol.iterator&#xFF0C;&#x5982;&#x6570;&#x7EC4; arguments &#x7B49;</p><p>&#x5BF9;&#x8C61;&#x4E0A;&#x662F;&#x6CA1;&#x6709;&#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7ED9;&#x5B83;&#x52A0;&#x4E0A;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = {</span><br><span class="line">    <span class="number">0</span>: <span class="string">&apos;a&apos;</span>,</span><br><span class="line">    <span class="number">1</span>: <span class="string">&apos;b&apos;</span>,</span><br><span class="line">    <span class="number">2</span>: <span class="string">&apos;c&apos;</span>,</span><br><span class="line">    length: <span class="number">3</span>,</span><br><span class="line">    [<span class="built_in">Symbol</span>.iterator]: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        <span class="keyword">let</span> curIndex = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">let</span> next = <span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">            <span class="keyword">return</span> {</span><br><span class="line">                value: <span class="keyword">this</span>[curIndex],</span><br><span class="line">                done: <span class="keyword">this</span>.length == ++curIndex,</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> {</span><br><span class="line">            next</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line"><span class="built_in">console</span>.log([...obj]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> p <span class="keyword">of</span> obj) {</span><br><span class="line">    <span class="built_in">console</span>.log(p)</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure><p>#### </p><h4 id="Symbol"><a href="#Symbol" class="headerlink" title="Symbol"></a>Symbol</h4><p>&#x7B2C;&#x4E03;&#x79CD;&#x6570;&#x636E;&#x7ED3;&#x6784; Symbol&#x3002;&#x7279;&#x70B9;&#x662F;&#x5177;&#x6709;&#x552F;&#x4E00;&#x6027;</p><p>&#x4F8B;&#x5B50;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> os = <span class="built_in">Symbol</span>(<span class="string">&apos;abc&apos;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(os);</span><br><span class="line"><span class="keyword">let</span> os2 = <span class="built_in">Symbol</span>({</span><br><span class="line">    name: <span class="string">&apos;cst&apos;</span>,</span><br><span class="line">    toString: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&apos;qi&apos;</span></span><br><span class="line">    }</span><br><span class="line">});</span><br><span class="line"><span class="built_in">console</span>.log(os2);</span><br><span class="line"></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="keyword">let</span> os2 = <span class="built_in">Symbol</span>(<span class="string">&apos;abc&apos;</span>);    <span class="comment">// os os2 &#x5E76;&#x4E0D;&#x662F;&#x540C;&#x4E00;&#x4E2A;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="keyword">let</span> prop = <span class="string">&apos;name&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = {</span><br><span class="line">    [os2]: <span class="string">&apos;cst2&apos;</span>,</span><br><span class="line">    [os]: <span class="string">&apos;cst&apos;</span></span><br><span class="line">}</span><br><span class="line"><span class="comment">// &#x53D6;&#x503C;&#x7528; obj[os]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// arr set map arguments nodelist</span></span><br><span class="line"><span class="comment">// itertor&#x51FD;&#x6570;</span></span><br><span class="line"><span class="built_in">console</span>.log( <span class="built_in">Symbol</span>.iterator , <span class="built_in">Symbol</span>(<span class="string">&apos;Symbol.iterator&apos;</span>));</span><br></pre></td></tr></tbody></table></figure><p>&#x200B;                        </p><h4 id="ES6-Generator"><a href="#ES6-Generator" class="headerlink" title="ES6 - Generator"></a>ES6 - Generator</h4><p>genarator &#x662F;&#x8FED;&#x4EE3;&#x751F;&#x6210;&#x5668;&#x3002;&#x672C;&#x8EAB;&#x662F;&#x51FD;&#x6570;&#xFF0C;&#x6267;&#x884C;&#x540E;&#x8FD4;&#x56DE;&#x8FED;&#x4EE3;&#x5BF9;&#x8C61;&#xFF0C;&#x51FD;&#x6570;&#x5185;&#x90E8;&#x8981;&#x914D;&#x5408;yield&#x4F7F;<br>&#x7528;Generator&#x51FD;&#x6570;&#x4F1A;&#x5206;&#x6BB5;&#x6267;&#x884C;&#xFF0C;&#x9047;&#x5230;yield&#x5373;&#x6682;&#x505C;&#x3002;</p><p>generator &#x7279;&#x70B9;&#xFF1A;</p><p>&#x2003;&#x2003;1 function&#x548C;&#x51FD;&#x6570;&#x540D;&#x4E4B;&#x95F4;&#x9700;&#x8981;&#x5E26; *</p><p>&#x2003;&#x2003;2 &#x51FD;&#x6570;&#x4F53;&#x5185;&#x90E8;yield&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x4EA7;&#x51FA;&#x4E0D;&#x540C;&#x7684;&#x5185;&#x90E8;&#x72B6;&#x6001;&#xFF08;&#x503C;&#xFF09;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Generator &#x751F;&#x6210;&#x8FD9;&#x4E2A;&#x8FED;&#x4EE3;&#x5BF9;&#x8C61;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">test</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">&apos;a&apos;</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&apos;1&apos;</span>);</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">&apos;b&apos;</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&apos;2&apos;</span>);</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">&apos;c&apos;</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&apos;3&apos;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&apos;d&apos;</span>;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">let</span> oG = test();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log( oG.next() );</span><br><span class="line"><span class="built_in">console</span>.log( oG.next() );</span><br><span class="line"><span class="built_in">console</span>.log( oG.next() );</span><br><span class="line"><span class="built_in">console</span>.log( oG.next() );</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">test</span> (<span class="params"></span>) </span>{</span><br><span class="line">                    </span><br><span class="line">    <span class="keyword">let</span> value1 = <span class="keyword">yield</span> <span class="string">&apos;a&apos;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(value1);          </span><br><span class="line">    <span class="keyword">let</span> value2 = <span class="keyword">yield</span> <span class="string">&apos;b&apos;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(value2);         </span><br><span class="line">    <span class="keyword">let</span> value3 = <span class="keyword">yield</span> <span class="string">&apos;c&apos;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(value3);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&apos;d&apos;</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> oG = test();</span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="built_in">console</span>.log( oG.next(<span class="string">&apos;yi&apos;</span>) );    <span class="comment">// &#x5565;&#x90FD;&#x4E0D;&#x4F1A;&#x6253;&#x5370;</span></span><br><span class="line">oG.next(<span class="string">&apos;qi&apos;</span>);     <span class="comment">// yi</span></span><br><span class="line">oG.next(<span class="string">&apos;he&apos;</span>);         <span class="comment">// qi</span></span><br><span class="line">oG.next(<span class="string">&apos;mu&apos;</span>);    <span class="comment">// he</span></span><br></pre></td></tr></tbody></table></figure><p>&#x603B;&#xFF1A;&#x4E0A;&#x9762;&#x4EE3;&#x7801;&#x4E2D;&#x6700;&#x540E;&#x6253;&#x5370;&#x7684;&#x5185;&#x5BB9; &#x53D6;&#x51B3;&#x4E8E;next()&#x4E2D;&#x4F20;&#x7684;&#x4E1C;&#x897F;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x4EA7;&#x51FA;&#x7684;&#x4E1C;&#x897F;</p><p>&#x8FED;&#x4EE3;&#x5668;&#x4EE3;&#x7801;&#x4FEE;&#x6539;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">iterator&#x51FD;&#x6570;&#x7684;&#x76EE;&#x7684; &#x6267;&#x884C;&#x8FD4;&#x56DE;&#x53EF;&#x4EE5;&#x8FED;&#x4EE3;&#x7684;&#x5BF9;&#x8C61;</span><br><span class="line"><span class="keyword">let</span> obj = {</span><br><span class="line">    <span class="number">0</span>: <span class="string">&apos;a&apos;</span>,</span><br><span class="line">    <span class="number">1</span>: <span class="string">&apos;b&apos;</span>,</span><br><span class="line">    <span class="number">2</span>: <span class="string">&apos;c&apos;</span>,</span><br><span class="line">    length: <span class="number">3</span>,</span><br><span class="line">    [<span class="built_in">Symbol</span>.iterator]: <span class="function"><span class="keyword">function</span> *(<span class="params"></span>) </span>{</span><br><span class="line">        <span class="keyword">let</span> currIndex = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (currIndex != <span class="keyword">this</span>.length) {</span><br><span class="line">            <span class="keyword">yield</span> <span class="keyword">this</span>[currIndex];</span><br><span class="line">            currIndex++;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;es6 总结&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>redux 总结</title>
    <link href="https://orange-way.github.io//posts/39058069/"/>
    <id>https://orange-way.github.io//posts/39058069/</id>
    <published>2019-03-19T09:32:34.000Z</published>
    <updated>2019-03-20T03:20:44.921Z</updated>
    
    <content type="html"><![CDATA[<p>redux &#x662F;&#x72EC;&#x7ACB;&#x7684;&#xFF0C;react&#x53EF;&#x4EE5;&#x5F15;&#x5165;&#x5B83;&#x6765;&#x89E3;&#x51B3;&#x72B6;&#x6001;&#x7BA1;&#x7406;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x548C; vuex &#x5728; vue &#x4E2D;&#x8D77;&#x7684;&#x4F5C;&#x7528;&#x4E00;&#x6837; <a id="more"></a></p><p>redux &#x7684;&#x5177;&#x4F53;&#x8FC7;&#x7A0B;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A;</p><p><img src="/posts/39058069/one.jpg" alt=""></p><p>&#x6B65;&#x9AA4;&#xFF1A;</p><h4 id="&#x5B89;&#x88C5;redux&#xFF1A;"><a href="#&#x5B89;&#x88C5;redux&#xFF1A;" class="headerlink" title="&#x5B89;&#x88C5;redux&#xFF1A;"></a>&#x5B89;&#x88C5;redux&#xFF1A;</h4><p>npm install redux &#x2013;save</p><p>&#x200B;                        </p><h4 id="&#x8FD9;&#x6B21;&#x4F9D;&#x7136;&#x7528;-Todolist-&#x4E3E;&#x4F8B;"><a href="#&#x8FD9;&#x6B21;&#x4F9D;&#x7136;&#x7528;-Todolist-&#x4E3E;&#x4F8B;" class="headerlink" title="&#x8FD9;&#x6B21;&#x4F9D;&#x7136;&#x7528; Todolist &#x4E3E;&#x4F8B;"></a>&#x8FD9;&#x6B21;&#x4F9D;&#x7136;&#x7528; Todolist &#x4E3E;&#x4F8B;</h4><p>&#x9875;&#x9762;&#x5982;&#x4E0B;&#xFF1A;</p><p><img src="/posts/39058069/two.png" alt=""></p><h4 id="&#x65B0;&#x5EFA;-store-&#x6587;&#x4EF6;&#x5939;"><a href="#&#x65B0;&#x5EFA;-store-&#x6587;&#x4EF6;&#x5939;" class="headerlink" title="&#x65B0;&#x5EFA; store &#x6587;&#x4EF6;&#x5939;"></a>&#x65B0;&#x5EFA; store &#x6587;&#x4EF6;&#x5939;</h4><p>&#x5904;&#x7406;&#x72B6;&#x6001;&#x7684;&#x4E1C;&#x897F;&#x653E;&#x5230;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#xFF0C;&#x76EE;&#x5F55;&#x5982;&#x4E0B;:</p><p><img src="/posts/39058069/three.png" alt=""></p><h4 id="getState-&#x83B7;&#x53D6;-store-&#x4E2D;&#x7684;&#x503C;"><a href="#getState-&#x83B7;&#x53D6;-store-&#x4E2D;&#x7684;&#x503C;" class="headerlink" title="getState &#x83B7;&#x53D6; store &#x4E2D;&#x7684;&#x503C;"></a>getState &#x83B7;&#x53D6; store &#x4E2D;&#x7684;&#x503C;</h4><p>todoList.js:</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, { Component } <span class="keyword">from</span> <span class="string">&apos;react&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&apos;../store&apos;</span>;   <span class="comment">//&#x5F15;&#x5165; store</span></span><br><span class="line"></span><br><span class="line">state = store.getState()</span><br></pre></td></tr></tbody></table></figure><p>&#x200B;                            </p><h4 id="&#x901A;&#x8FC7;-dispatch-&#x6539;&#x53D8;-store-&#x4E2D;&#x7684;&#x503C;"><a href="#&#x901A;&#x8FC7;-dispatch-&#x6539;&#x53D8;-store-&#x4E2D;&#x7684;&#x503C;" class="headerlink" title="&#x901A;&#x8FC7; dispatch &#x6539;&#x53D8; store &#x4E2D;&#x7684;&#x503C;"></a>&#x901A;&#x8FC7; dispatch &#x6539;&#x53D8; store &#x4E2D;&#x7684;&#x503C;</h4><p>todoList.js:</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, { Component } <span class="keyword">from</span> <span class="string">&apos;react&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&apos;../store&apos;</span>;   <span class="comment">//&#x5F15;&#x5165; store</span></span><br><span class="line"></span><br><span class="line">&lt;input value={ <span class="keyword">this</span>.state.inpVal } onChange={ <span class="keyword">this</span>.handleChange }&gt;<span class="xml"><span class="tag">&lt;/<span class="name">input</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#x4E2D; &#x901A;&#x8FC7; dispatch &#x53BB;&#x6539;&#x53D8; store &#x7684;&#x503C;</span></span><br><span class="line"> handleChange = <span class="function">(<span class="params">e</span>) =&gt;</span> {</span><br><span class="line">    <span class="keyword">const</span> action = {</span><br><span class="line">      type: <span class="string">&apos;CHANGE_INPUT_VAL&apos;</span>,</span><br><span class="line">      value: e.target.value</span><br><span class="line">    }</span><br><span class="line">    store.dispatch(action);</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure><p>&#x200B;                            </p><h4 id="reducer-&#x4E2D;&#x5B9A;&#x4E49;&#x5982;&#x4F55;&#x53BB;&#x6539;&#x53D8;-store-&#x4E2D;&#x7684;&#x503C;"><a href="#reducer-&#x4E2D;&#x5B9A;&#x4E49;&#x5982;&#x4F55;&#x53BB;&#x6539;&#x53D8;-store-&#x4E2D;&#x7684;&#x503C;" class="headerlink" title="reducer &#x4E2D;&#x5B9A;&#x4E49;&#x5982;&#x4F55;&#x53BB;&#x6539;&#x53D8; store &#x4E2D;&#x7684;&#x503C;"></a>reducer &#x4E2D;&#x5B9A;&#x4E49;&#x5982;&#x4F55;&#x53BB;&#x6539;&#x53D8; store &#x4E2D;&#x7684;&#x503C;</h4><p>store/index.js, &#x901A;&#x8FC7;&#x5F15;&#x5165; redux &#x4E2D;&#x7684; createStore &#x6765;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; store</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> { createStore } <span class="keyword">from</span> <span class="string">&apos;redux&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> reducer <span class="keyword">from</span> <span class="string">&apos;./reducer&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = createStore(</span><br><span class="line">  reducer,</span><br><span class="line">  <span class="built_in">window</span>.__REDUX_DEVTOOLS_EXTENSION__ &amp;&amp; <span class="built_in">window</span>.__REDUX_DEVTOOLS_EXTENSION__()</span><br><span class="line">);</span><br><span class="line"><span class="comment">// window &#x8FD9;&#x53E5;&#x662F;&#x4E3A;&#x4E86;&#x63A7;&#x5236;&#x53F0;&#x4E2D;&#x80FD;&#x6253;&#x5F00; redux</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store;</span><br></pre></td></tr></tbody></table></figure><p>store/reducer.js</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initState = {</span><br><span class="line">  inpVal: <span class="string">&apos;&apos;</span>,</span><br><span class="line">  list: [<span class="string">&apos;&#x84DD;&#x5929;&apos;</span>, <span class="string">&apos;&#x767D;&#x4E91;&apos;</span>, <span class="string">&apos;&#x9633;&#x5149;&apos;</span>, <span class="string">&apos;&#x5927;&#x6D77;&apos;</span>]</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (state=initState, action) =&gt; {</span><br><span class="line">  <span class="keyword">const</span> newState = <span class="built_in">JSON</span>.parse( <span class="built_in">JSON</span>.stringify(state));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">switch</span> (action.type) {</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&apos;CHANGE_INPUT_VAL&apos;</span>:</span><br><span class="line">      newState.inpVal = action.value;</span><br><span class="line">      <span class="keyword">return</span> newState;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&apos;ADD_TODO_ITEM&apos;</span>:</span><br><span class="line">      newState.list.push(action.value);</span><br><span class="line">      newState.inpVal = <span class="string">&apos;&apos;</span>;</span><br><span class="line">      <span class="keyword">return</span> newState;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&apos;DELETE_TODO_ITEM&apos;</span>:</span><br><span class="line">      newState.list.splice(action.index, <span class="number">1</span>);</span><br><span class="line">      <span class="keyword">return</span> newState;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> state;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>&#x200B;                </p><h4 id="subscribe-&#x76D1;&#x63A7;-store-&#x4E2D;&#x503C;&#x7684;&#x53D8;&#x5316;"><a href="#subscribe-&#x76D1;&#x63A7;-store-&#x4E2D;&#x503C;&#x7684;&#x53D8;&#x5316;" class="headerlink" title="subscribe  &#x76D1;&#x63A7; store &#x4E2D;&#x503C;&#x7684;&#x53D8;&#x5316;"></a>subscribe  &#x76D1;&#x63A7; store &#x4E2D;&#x503C;&#x7684;&#x53D8;&#x5316;</h4><p>todoList.js:</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">componentDidMount () {</span><br><span class="line">   store.subscribe(<span class="keyword">this</span>.handleStoreChange);   <span class="comment">// &#x8BA2;&#x9605;&#x4E86; store &#x4E2D;&#x7684;&#x503C;</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">handleStoreChange = <span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">   <span class="keyword">this</span>.setState(store.getState());</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>&#x200B;                </p><p>&#x901A;&#x8FC7; redux &#x7BA1;&#x7406;&#x72B6;&#x6001;&#x7684;&#x8FC7;&#x7A0B;&#x57FA;&#x672C;&#x5B9E;&#x73B0;&#x4E86;&#xFF0C;todoList.js &#x603B;&#x548C;&#x8D77;&#x6765;&#x5C31;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, { Component } <span class="keyword">from</span> <span class="string">&apos;react&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&apos;../store&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">c</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>{</span><br><span class="line"></span><br><span class="line">  state = store.getState()</span><br><span class="line"></span><br><span class="line">  componentDidMount () {</span><br><span class="line">    store.subscribe(<span class="keyword">this</span>.handleStoreChange);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  render () {</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &lt;input value={ <span class="keyword">this</span>.state.inpVal } onChange={ <span class="keyword">this</span>.handleChange }&gt;<span class="xml"><span class="tag">&lt;/<span class="name">input</span>&gt;</span></span></span><br><span class="line">          &lt;button onClick={ <span class="keyword">this</span>.handleAdd }&gt;&#x6DFB;&#x52A0;&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>div&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">          {</span><br><span class="line">            <span class="keyword">this</span>.state.list.map( <span class="function">(<span class="params">item, index</span>) =&gt;</span> (</span><br><span class="line">              &lt;li key={item + index}&gt;</span><br><span class="line">                { item }</span><br><span class="line">                &lt;button onClick={ ()=&gt;{ <span class="keyword">this</span>.handleDelete(index) } }&gt;X&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">              &lt;/</span>li&gt;</span><br><span class="line">            ))</span><br><span class="line">          }</span><br><span class="line">        &lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>&gt;</span><br><span class="line">    )</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  handleChange = <span class="function">(<span class="params">e</span>) =&gt;</span> {</span><br><span class="line">    <span class="keyword">const</span> action = {</span><br><span class="line">      type: <span class="string">&apos;CHANGE_INPUT_VAL&apos;</span>,</span><br><span class="line">      value: e.target.value</span><br><span class="line">    }</span><br><span class="line">    store.dispatch(action);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  handleAdd = <span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">    <span class="keyword">const</span> action = {</span><br><span class="line">      type: <span class="string">&apos;ADD_TODO_ITEM&apos;</span>,</span><br><span class="line">      value: <span class="keyword">this</span>.state.inpVal</span><br><span class="line">    }</span><br><span class="line">    store.dispatch( action );</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  handleDelete = <span class="function">(<span class="params">index</span>) =&gt;</span> {</span><br><span class="line">    <span class="keyword">const</span> action = {</span><br><span class="line">      type: <span class="string">&apos;DELETE_TODO_ITEM&apos;</span>,</span><br><span class="line">      index</span><br><span class="line">    }</span><br><span class="line">    store.dispatch(action);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  handleStoreChange = <span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">    <span class="keyword">this</span>.setState(store.getState());</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> c;</span><br></pre></td></tr></tbody></table></figure><pre><code>&#x4F46; action &#x8FD9;&#x6837;&#x653E;&#x5728;&#x7EC4;&#x4EF6;&#x4E2D;&#x82E5;&#x662F;&#x51FA;&#x9519;&#x4E86;&#x4E5F;&#x4E0D;&#x592A;&#x597D;&#x627E;&#xFF0C;&#x6240;&#x4EE5;&#x628A;&#x5B83;&#x6574;&#x5408;&#x8D77;&#x6765;&#x653E;&#x5728;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x5939;&#x4E2D;, &#x6240;&#x4EE5;&#x4E0B;&#x9762;&#x51E0;&#x4E2A;&#x90FD;&#x662F;&#x6574;&#x7406;&#x4EE3;&#x7801;</code></pre><p>&#x200B;                        </p><h4 id="action-&#x62BD;&#x79BB;&#x6210;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;"><a href="#action-&#x62BD;&#x79BB;&#x6210;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;" class="headerlink" title="action &#x62BD;&#x79BB;&#x6210;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;"></a>action &#x62BD;&#x79BB;&#x6210;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;</h4><p>&#x5728; store &#x4E2D;&#x6574;&#x5408; actionTypes&#xFF0C;&#x5E76;&#x628A;&#x9700;&#x8981;&#x7684; action &#x5BFC;&#x51FA;&#xFF0C;&#x5728;&#x8FD9;&#x6837;&#x5728;&#x5176;&#x4ED6;&#x7EC4;&#x4EF6;&#x4E2D;&#x76F4;&#x63A5;&#x8C03;&#x7528;&#x5C31;&#x884C;&#x4E86;</p><p>store/actionTypes.js : </p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> CHANGE_INPUT_VAL = <span class="string">&apos;CHANGE_INPUT_VAL&apos;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> ADD_TODO_ITEM = <span class="string">&apos;ADD_TODO_ITEM&apos;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> DELETE_TODO_ITEM = <span class="string">&apos;DELETE_TODO_ITEM&apos;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> COUNT_ADD = <span class="string">&apos;COUNT_ADD&apos;</span>;</span><br></pre></td></tr></tbody></table></figure><p>store/actionCreators.js : </p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> Types <span class="keyword">from</span> <span class="string">&apos;./actionTypes&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getTodoChangeInputValAction = <span class="function">(<span class="params">value</span>) =&gt;</span> {</span><br><span class="line">  <span class="keyword">return</span> {</span><br><span class="line">    type: Types.CHANGE_INPUT_VAL,</span><br><span class="line">    value</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getTodoAddItemAction = <span class="function">(<span class="params">value</span>) =&gt;</span> {</span><br><span class="line">  <span class="keyword">return</span> {</span><br><span class="line">    type: Types.ADD_TODO_ITEM,</span><br><span class="line">    value</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getTodoDeleteItemAction = <span class="function">(<span class="params">index</span>) =&gt;</span> {</span><br><span class="line">  <span class="keyword">return</span> {</span><br><span class="line">    type: Types.DELETE_TODO_ITEM,</span><br><span class="line">    index</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getCountAddAction = <span class="function">(<span class="params">n</span>) =&gt;</span> {</span><br><span class="line">  <span class="keyword">return</span> {</span><br><span class="line">    type: Types.COUNT_ADD,</span><br><span class="line">    n</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>&#x5728; todoList.js &#x4E2D;&#x76F4;&#x63A5;&#x4F7F;&#x7528; actionCreators&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, { Component } <span class="keyword">from</span> <span class="string">&apos;react&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&apos;../store&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> Actions <span class="keyword">from</span> <span class="string">&apos;../store/actionCreators&apos;</span>;</span><br><span class="line"></span><br><span class="line">  handleChange = <span class="function">(<span class="params">e</span>) =&gt;</span> {</span><br><span class="line">    <span class="keyword">const</span> action = Actions.getTodoChangeInputValAction(e.target.value);</span><br><span class="line">    store.dispatch(action);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  handleAdd = <span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">    <span class="keyword">const</span> action = Actions.getTodoAddItemAction( <span class="keyword">this</span>.state.inpVal );</span><br><span class="line">    store.dispatch( action );</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure><p>&#x200B;                        </p><h4 id="&#x62BD;&#x79BB;-reducer"><a href="#&#x62BD;&#x79BB;-reducer" class="headerlink" title="&#x62BD;&#x79BB; reducer"></a>&#x62BD;&#x79BB; reducer</h4><p>&#x73B0;&#x5728; &#x8FD9;&#x4E2A;&#x9875;&#x9762;&#x6709;&#x4E24;&#x4E2A;&#x5C0F;&#x529F;&#x80FD;&#xFF0C;&#x4E00;&#x4E2A;&#x662F; todolist&#xFF0C;&#x4E00;&#x4E2A;&#x662F;counter &#xFF0C;&#x4F46;&#x4ED6;&#x4EEC;&#x7684; reducer &#x90FD;&#x662F;&#x5199;&#x5728;&#x4E00;&#x8D77;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x6B21;&#x628A;&#x5B83;&#x4EEC;&#x4E24;&#x4E2A;&#x62BD;&#x79BB;&#x51FA;&#x6765;&#xFF0C;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x5177;&#x4F53;&#x5982;&#x4E0B;&#xFF1A;</p><p><img src="/posts/39058069/four.png" alt=""></p><p>&#x5176;&#x4E2D;&#xFF0C;store/reducer/counter.js : </p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> Types <span class="keyword">from</span> <span class="string">&apos;../actionTypes&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> initState = {</span><br><span class="line">  count: <span class="number">0</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (state=initState, action) =&gt; {</span><br><span class="line">  <span class="keyword">const</span> newState = <span class="built_in">JSON</span>.parse( <span class="built_in">JSON</span>.stringify(state));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">switch</span> (action.type) {</span><br><span class="line">    <span class="keyword">case</span> Types.COUNT_ADD:</span><br><span class="line">      newState.count = newState.count + action.n;</span><br><span class="line">      <span class="keyword">return</span> newState;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> state;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>store/reducer/todoList.js : </p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> Types <span class="keyword">from</span> <span class="string">&apos;../actionTypes&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> initState = {</span><br><span class="line">  inpVal: <span class="string">&apos;&apos;</span>,</span><br><span class="line">  list: [<span class="string">&apos;&#x84DD;&#x5929;&apos;</span>, <span class="string">&apos;&#x767D;&#x4E91;&apos;</span>, <span class="string">&apos;&#x9633;&#x5149;&apos;</span>, <span class="string">&apos;&#x5927;&#x6D77;&apos;</span>]</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (state=initState, action) =&gt; {</span><br><span class="line">  <span class="keyword">const</span> newState = <span class="built_in">JSON</span>.parse( <span class="built_in">JSON</span>.stringify(state));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">switch</span> (action.type) {</span><br><span class="line">    <span class="keyword">case</span> Types.CHANGE_INPUT_VAL:</span><br><span class="line">      newState.inpVal = action.value;</span><br><span class="line">      <span class="keyword">return</span> newState;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">case</span> Types.ADD_TODO_ITEM:</span><br><span class="line">      newState.list.push(action.value);</span><br><span class="line">      newState.inpVal = <span class="string">&apos;&apos;</span>;</span><br><span class="line">      <span class="keyword">return</span> newState;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">case</span> Types.DELETE_TODO_ITEM:</span><br><span class="line">      newState.list.splice(action.index, <span class="number">1</span>);</span><br><span class="line">      <span class="keyword">return</span> newState;</span><br><span class="line"></span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> state;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>store/reducer/index.js , &#x6211;&#x4EEC;&#x7528; redux &#x4E2D;&#x7684; combineReducers &#xFF0C;&#x628A;&#x4E24;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;&#x7684; actionCreators&#x6574;&#x5408;&#x5728;&#x4E00;&#x8D77;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> { combineReducers } <span class="keyword">from</span> <span class="string">&apos;redux&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> todoList <span class="keyword">from</span> <span class="string">&apos;./todoList&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> counter <span class="keyword">from</span> <span class="string">&apos;./counter&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> combineReducers({</span><br><span class="line">  todoList,</span><br><span class="line">  counter</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure><p>reducer&#x6574;&#x5408;&#x540E;&#x4F7F;&#x7528;&#x7684;&#x51FD;&#x6570;&#x540D;&#x6709;&#x6CA1;&#x6709;&#x53D8;&#x5316;&#xFF0C;&#x5728; component/counter.js &#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, { Component } <span class="keyword">from</span> <span class="string">&apos;react&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&apos;../store&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> { getCountAddAction } <span class="keyword">from</span> <span class="string">&apos;../store/actions/counter&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">c</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>{</span><br><span class="line"></span><br><span class="line">  state = store.getState().counter</span><br><span class="line"></span><br><span class="line">  componentDidMount () {</span><br><span class="line">    store.subscribe(<span class="function"><span class="params">()</span>=&gt;</span>{</span><br><span class="line">      <span class="keyword">this</span>.setState(store.getState().counter)</span><br><span class="line">    })</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  render () {</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        { <span class="keyword">this</span>.state.count }</span><br><span class="line">        &lt;button onClick={ <span class="keyword">this</span>.handleClick }&gt;add&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    )</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  handleClick = <span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">    <span class="keyword">const</span> action = getCountAddAction(<span class="number">3</span>);</span><br><span class="line">    store.dispatch(action);</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> c;</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;redux 是独立的，react可以引入它来解决状态管理的问题，和 vuex 在 vue 中起的作用一样&lt;/p&gt;
    
    </summary>
    
    
      <category term="react" scheme="https://orange-way.github.io/tags/react/"/>
    
      <category term="redux" scheme="https://orange-way.github.io/tags/redux/"/>
    
  </entry>
  
  <entry>
    <title>react-redux 总结</title>
    <link href="https://orange-way.github.io//posts/adc7e95b/"/>
    <id>https://orange-way.github.io//posts/adc7e95b/</id>
    <published>2019-02-24T03:21:23.000Z</published>
    <updated>2019-04-16T02:47:12.747Z</updated>
    
    <content type="html"><![CDATA[<p>&#x5728; react &#x4E2D; &#x5F15;&#x5165; redux &#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x72B6;&#x6001;&#x7BA1;&#x7406;&#xFF0C; &#x4F46;&#x6709;&#x4E9B;&#x5730;&#x65B9;&#x6709;&#x70B9;&#x5197;&#x4F59;&#xFF0C;&#x6240;&#x4EE5; react &#x80AF;&#x5B9A;&#x662F;&#x4F1A;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x6B21;&#x603B;&#x7ED3; react-redux &#xFF0C;&#x8FD9;&#x4E2A;&#x5E93;&#x662F;&#x7528;&#x6765;&#x8FDE;&#x63A5; react &#x548C; redux &#x7684; <a id="more"></a></p><p>&#x5177;&#x4F53;&#x4F7F;&#x7528;&#x6B65;&#x9AA4;&#x5982;&#x4E0B;&#xFF1A;</p><h4 id="1-&#x5B89;&#x88C5;-react-redux"><a href="#1-&#x5B89;&#x88C5;-react-redux" class="headerlink" title="1 &#x5B89;&#x88C5; react-redux"></a>1 &#x5B89;&#x88C5; react-redux</h4><p>npm install react-redux &#x2013;save</p><p>&#x200B;                        </p><h4 id="2-&#x5F15;&#x5165;-react-redux"><a href="#2-&#x5F15;&#x5165;-react-redux" class="headerlink" title="2 &#x5F15;&#x5165; react-redux"></a>2 &#x5F15;&#x5165; react-redux</h4><p>index.js :</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&apos;react&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> { render } <span class="keyword">from</span> <span class="string">&apos;react-dom&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> { Provider } <span class="keyword">from</span> <span class="string">&apos;react-redux&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&apos;./store&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> TodoList <span class="keyword">from</span> <span class="string">&apos;./components/TodoList&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> Counter <span class="keyword">from</span> <span class="string">&apos;./components/Counter&apos;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">render(</span><br><span class="line">  &lt;Provider store={store}&gt;</span><br><span class="line">    &lt;Counter /&gt;</span><br><span class="line">    &lt;TodoList /&gt;</span><br><span class="line">  &lt;<span class="regexp">/Provider&gt;, </span></span><br><span class="line"><span class="regexp">  window.root</span></span><br><span class="line"><span class="regexp">);</span></span><br></pre></td></tr></tbody></table></figure><p>&#x6CE8;&#x610F;&#xFF1A;</p><p>1 Provider&#xFF1A;&#x54EA;&#x4E2A;&#x7EC4;&#x4EF6;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x5B83;&#xFF0C;&#x5C31;&#x628A;&#x90A3;&#x4E2A;&#x7EC4;&#x4EF6;&#x653E;&#x5728;&#x5B83;&#x91CC;&#x9762;&#xFF0C;&#x5B83;&#x4E5F;&#x662F;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;</p><p>2 store&#xFF1A;&#x662F;&#x8981;&#x4F20;&#x8FDB;&#x53BB;&#x7684;store</p><p>&#x200B;                    </p><h4 id="3-connect"><a href="#3-connect" class="headerlink" title="3 connect"></a>3 connect</h4><p>&#x653E;&#x5728; Provider &#x91CC;&#x7684;&#x7EC4;&#x4EF6;&#x8981;&#x8C03;&#x7528;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x7528;&#x6765;&#x8FDE;&#x63A5;store</p><p>component/counter.js :</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, { Component } <span class="keyword">from</span> <span class="string">&apos;react&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> { bindActionCreators } <span class="keyword">from</span> <span class="string">&apos;redux&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> {connect} <span class="keyword">from</span> <span class="string">&apos;react-redux&apos;</span>;</span><br><span class="line"><span class="comment">// import { getCountAddAction } from &apos;../store/actions/counter&apos;;</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> actions <span class="keyword">from</span> <span class="string">&apos;../store/actions/counter&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Counter</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>{</span><br><span class="line"></span><br><span class="line">  render () {</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        { <span class="keyword">this</span>.props.count }</span><br><span class="line">        &lt;button onClick={ <span class="keyword">this</span>.handleClick }&gt;add&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    )</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  handleClick = <span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">    <span class="keyword">this</span>.props.add(<span class="number">6</span>)   </span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// const mapStateToProps = (state) =&gt; ({</span></span><br><span class="line"><span class="comment">//   count: state.counter.count</span></span><br><span class="line"><span class="comment">// })</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mapStateToProps = <span class="function">(<span class="params">state</span>) =&gt;</span> state.counter;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1 &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x5B9A;&#x4E49;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x5C5E;&#x6027;&#x4E3A;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x4E2D;&#x8C03;&#x7528; dispatch</span></span><br><span class="line"><span class="comment">// const mapDispatchToProps = (dispatch) =&gt; ({</span></span><br><span class="line"><span class="comment">//   getCountAddAction: (val) =&gt; {</span></span><br><span class="line"><span class="comment">//     dispatch(getCountAddAction(val))</span></span><br><span class="line"><span class="comment">//   }</span></span><br><span class="line"><span class="comment">// })</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2 redux &#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x51FD;&#x6570;bindActionCreators&#xFF0C;&#x7ED1;&#x5B9A;&#x52A8;&#x4F5C;&#x521B;&#x5EFA;&#x8005;&#xFF0C;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x5C31;&#x662F;mapDispatchToProps&#x6240;&#x9700;&#x8981;&#x7684;&#x8FD4;&#x56DE;&#x503C;</span></span><br><span class="line"><span class="comment">// const mapDispatchToProps = (dispatch) =&gt; bindActionCreators(actions, dispatch)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 3 &#x7531;&#x4E8E;&#x6BCF;&#x6B21;&#x90FD;&#x662F;&#x76F8;&#x540C;&#x7684;&#x6B65;&#x9AA4;&#xFF0C;&#x6240;&#x4EE5; react &#x5141;&#x8BB8;&#x6211;&#x4EEC;&#x76F4;&#x63A5;&#x4F20; action &#x8FDB;&#x53BB;</span></span><br><span class="line"><span class="comment">// actions </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x7531;&#x4E8E;&#x6BCF;&#x6B21;mapDispatchToProps&#x90FD;&#x662F; &#x4F20; dispatch &#x8FDB;&#x53BB;&#xFF0C;&#x7136;&#x540E;&#x8FD4;&#x56DE;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> connect(mapStateToProps, actions)(Counter);</span><br></pre></td></tr></tbody></table></figure><p>store/reducers/counter.js :</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> Types <span class="keyword">from</span> <span class="string">&apos;../actionTypes&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> initState = {</span><br><span class="line">  count: <span class="number">0</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (state=initState, action) =&gt; {</span><br><span class="line">  <span class="keyword">const</span> newState = <span class="built_in">JSON</span>.parse( <span class="built_in">JSON</span>.stringify(state));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">switch</span> (action.type) {</span><br><span class="line">    <span class="keyword">case</span> Types.COUNT_ADD:</span><br><span class="line">      newState.count = newState.count + action.n;</span><br><span class="line">      <span class="keyword">return</span> newState;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> state;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>store/actions/counter.js : </p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> Types <span class="keyword">from</span> <span class="string">&apos;../actionTypes&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> add = <span class="function">(<span class="params">n</span>) =&gt;</span> {</span><br><span class="line">  <span class="keyword">return</span> {</span><br><span class="line">    type: Types.COUNT_ADD,</span><br><span class="line">    n</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>&#x6CE8;&#x610F;&#xFF1A;</p><p>1 connect&#xFF1A;&#x63A5;&#x6536;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;mapStateToProps&#xFF0C;mapDispatchToProps</p><p>2 mapStateToProps&#xFF1A;&#x628A;&#x8981;&#x8BA2;&#x9605;store&#x4E2D;&#x7684;&#x54EA;&#x4E2A;&#x503C;&#x4F20;&#x8FDB;&#x53BB;</p><p>3 mapDispatchToProps&#xFF1A;&#x8C03;&#x7528;&#x7684;&#x662F;&#x54EA;&#x4E2A;action &#x4F20;&#x8FDB;&#x53BB;</p><p>4 &#x8FD9;&#x6837;&#x5728;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6; handleClick &#x4E2D;&#x5C31;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; this.props&#x8C03;&#x7528; store &#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;this.props.add(5)</p><p>&#x200B;                        </p><p>&#x5230;&#x8FD9;&#x91CC;&#xFF0C;react-redux &#x7684;&#x4F7F;&#x7528;&#x6B65;&#x9AA4;&#x5927;&#x4F53;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF0C;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x53D1;&#x73B0; &#x4EE3;&#x7801;&#x90FD;&#x662F;&#x6709;&#x95EE;&#x9898;&#x89E3;&#x51B3;&#x95EE;&#x9898;&#xFF0C;&#x518D;&#x8FDB;&#x4E00;&#x6B65;&#x4F18;&#x5316;&#x518D;&#x4F18;&#x5316;&#xFF01;</p><p>&#x200B;                    </p><h4 id="4-redux-thunk&#x3001;redux-promise&#x3001;redux-logger&#x3001;redux-saga-&#x4E2D;&#x95F4;&#x4ECB;"><a href="#4-redux-thunk&#x3001;redux-promise&#x3001;redux-logger&#x3001;redux-saga-&#x4E2D;&#x95F4;&#x4ECB;" class="headerlink" title="4 redux-thunk&#x3001;redux-promise&#x3001;redux-logger&#x3001;redux-saga &#x4E2D;&#x95F4;&#x4ECB;"></a>4 redux-thunk&#x3001;redux-promise&#x3001;redux-logger&#x3001;redux-saga &#x4E2D;&#x95F4;&#x4ECB;</h4><p>&#x5F53;&#x6211;&#x4EEC;&#x5728;&#x7EC4;&#x4EF6;&#x4E2D;&#x9700;&#x8981;&#x83B7;&#x53D6;&#x4E00;&#x4E9B;&#x521D;&#x59CB;&#x6570;&#x636E;&#xFF0C;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x5E76;&#x4E0D;&#x662F;&#x81EA;&#x5DF1;&#x79C1;&#x6709;&#x7684;&#xFF0C;&#x662F;&#x9700;&#x8981;&#x4F20;&#x7ED9;store&#x7684;&#xFF0C;&#x800C;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x6700;&#x521D;&#x662F;&#x901A;&#x8FC7;axios&#x7B49;&#x5F02;&#x6B65;&#x65B9;&#x5F0F;&#x83B7;&#x53D6;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x628A;&#x8FD9;&#x4E2A;axios&#x65B9;&#x6CD5;&#x5199;&#x5728; componentDidMount &#x65B9;&#x6CD5;&#x4E2D;&#xFF0C;&#x4F46;&#x8FD9;&#x6837;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x662F;&#xFF1A;&#x7EC4;&#x4EF6;&#x5728; componentDidMount &#x83B7;&#x53D6;&#x6570;&#x636E;&#xFF0C;&#x901A;&#x8FC7; dispatch &#x4F20;&#x7ED9; store</p><p>&#x65E2;&#x7136;&#x662F;&#x8FD9;&#x6837;&#xFF0C;&#x90A3;&#x5E72;&#x561B;&#x4E0D;&#x76F4;&#x63A5;&#x5728; store &#x4E2D;&#x53BB;&#x83B7;&#x53D6;</p><p>store/actions/todoList.js :</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> Types <span class="keyword">from</span> <span class="string">&apos;../actionTypes&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&apos;axios&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getInitList = <span class="function"><span class="params">list</span> =&gt;</span> {</span><br><span class="line">    </span><br><span class="line">  <span class="comment">// 1 axios&#x8BF7;&#x6C42;&#x662F;&#x5F02;&#x6B65;&#x7684;&#xFF0C;&#x663E;&#x7136;&#x4E0D;&#x53EF;&#x4EE5;</span></span><br><span class="line">  <span class="comment">// let data;</span></span><br><span class="line">  <span class="comment">// axios.get(&apos;list.json&apos;).then(res =&gt; {</span></span><br><span class="line">  <span class="comment">//   data = res;</span></span><br><span class="line">  <span class="comment">// })</span></span><br><span class="line">    </span><br><span class="line">  <span class="comment">// 2 &#x662F; return &#x4E86;&#xFF0C;&#x4F46;&#x5E76;&#x6CA1;&#x6709;&#x8FD4;&#x56DE;&#x51FA;&#x6765;</span></span><br><span class="line">  <span class="comment">// return () =&gt; ({</span></span><br><span class="line">  <span class="comment">//   axios.get(&apos;list.json&apos;).then(res =&gt; {</span></span><br><span class="line">  <span class="comment">//     dispatch({</span></span><br><span class="line">  <span class="comment">//       type: Types.GET_INIT_LIST,</span></span><br><span class="line">  <span class="comment">//       list: res</span></span><br><span class="line">  <span class="comment">//     })</span></span><br><span class="line">  <span class="comment">//   })</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// return {</span></span><br><span class="line">  <span class="comment">//   type: Types.GET_INIT_LIST,</span></span><br><span class="line">  <span class="comment">//   list: data</span></span><br><span class="line">  <span class="comment">// }</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>&#x55EF;&#xFF0C;react &#x662F;&#x4E00;&#x4E2A;&#x6210;&#x719F;&#x7684;&#x6846;&#x67B6;&#xFF0C;&#x5B83;&#x663E;&#x7136;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x522B;&#x7684;&#x65B9;&#x5F0F;&#x5728; store &#x4E2D;&#x83B7;&#x53D6;&#xFF0C;&#x914D;&#x548C;redux &#x4E2D;&#x7684; redux-thunk&#x3001;redux-promise &#x53EF;&#x4EE5;&#x5B9E;&#x73B0;</p><h6 id="redux-thunk"><a href="#redux-thunk" class="headerlink" title="redux-thunk"></a>redux-thunk</h6><p>&#x5B89;&#x88C5;&#xFF1A;npm install redux-thunk &#x2013;save</p><p>store/index.js :</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> { createStore, applyMiddleware } <span class="keyword">from</span> <span class="string">&apos;redux&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> reducer <span class="keyword">from</span> <span class="string">&apos;./reducers&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> thunk <span class="keyword">from</span> <span class="string">&apos;redux-thunk&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = createStore(</span><br><span class="line">  reducer,</span><br><span class="line">  applyMiddleware(thunk)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store;</span><br></pre></td></tr></tbody></table></figure><p>store/actions/todoList.js :</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> Types <span class="keyword">from</span> <span class="string">&apos;../actionTypes&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&apos;axios&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getInitList = <span class="function"><span class="params">list</span> =&gt;</span> {</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> <span class="function"><span class="params">dispatch</span> =&gt;</span> {</span><br><span class="line">    axios.get(<span class="string">&apos;list.json&apos;</span>).then(<span class="function"><span class="params">res</span> =&gt;</span> {</span><br><span class="line">      dispatch({</span><br><span class="line">        type: Types.GET_INIT_LIST,</span><br><span class="line">        list: res</span><br><span class="line">      })</span><br><span class="line">    })</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h6 id="redux-promise"><a href="#redux-promise" class="headerlink" title="redux-promise"></a>redux-promise</h6><p>&#x5B89;&#x88C5;&#xFF1A;npm install redux-promise &#x2013;save</p><p>store/index.js &#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> { createStore, applyMiddleware } <span class="keyword">from</span> <span class="string">&apos;redux&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> reducer <span class="keyword">from</span> <span class="string">&apos;./reducers&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> thunk <span class="keyword">from</span> <span class="string">&apos;redux-thunk&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> promise <span class="keyword">from</span> <span class="string">&apos;redux-promise&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = createStore(</span><br><span class="line">  reducer,</span><br><span class="line">  applyMiddleware(thunk, promise)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store;</span><br></pre></td></tr></tbody></table></figure><p>store/actions/todoList.js :</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> Types <span class="keyword">from</span> <span class="string">&apos;../actionTypes&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&apos;axios&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getInitList = <span class="function"><span class="params">list</span> =&gt;</span> {</span><br><span class="line">    </span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>( <span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> {</span><br><span class="line">    axios.get(<span class="string">&apos;list.json&apos;</span>).then(<span class="function"><span class="params">res</span> =&gt;</span> {</span><br><span class="line">      resolve({</span><br><span class="line">        type: Types.GET_INIT_LIST,</span><br><span class="line">        list: res</span><br><span class="line">      })</span><br><span class="line">    })</span><br><span class="line">  })</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h6 id="redux-logger"><a href="#redux-logger" class="headerlink" title="redux-logger"></a>redux-logger</h6><p>&#x8FD9;&#x4E2A;&#x4E2D;&#x95F4;&#x4ECB; &#x662F;&#x4E3A;&#x4E86;&#x77E5;&#x9053;&#x5728;&#x4EFB;&#x52A1;&#x6D3E;&#x53D1;&#x4E4B;&#x524D;&#x548C;&#x6D3E;&#x53D1;&#x4E4B;&#x540E;&#x7684;&#x4E00;&#x4E2A;&#x72B6;&#x6001;</p><p>&#x5B89;&#x88C5;&#xFF1A;npm install redux-logger &#x2013;save</p><p>store/index.js :</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> { createStore, applyMiddleware, compose } <span class="keyword">from</span> <span class="string">&apos;redux&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> reducer <span class="keyword">from</span> <span class="string">&apos;./reducers&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> thunk <span class="keyword">from</span> <span class="string">&apos;redux-thunk&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> promise <span class="keyword">from</span> <span class="string">&apos;redux-promise&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> logger <span class="keyword">from</span> <span class="string">&apos;redux-logger&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = createStore(</span><br><span class="line">  reducer,</span><br><span class="line">  applyMiddleware(thunk, promise, logger)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store;</span><br></pre></td></tr></tbody></table></figure><p>&#x8FD9;&#x65F6;&#x5019;&#x5C31;&#x53EF;&#x4EE5;&#x5728;&#x63A7;&#x5236;&#x53F0;&#x770B;&#x5230;&#x4EFB;&#x52A1;&#x6D3E;&#x53D1;&#x524D;&#x548C;&#x6D3E;&#x53D1;&#x540E;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;</p><p><img src="/posts/adc7e95b/five.png" alt=""></p><p>&#x5728;&#x524D;&#x9762;&#x7684; index.js &#x4E2D;&#x628A; window&#x90A3;&#x4E00;&#x53E5;&#x5220;&#x9664;&#x4E86;&#xFF0C;&#x4F46;&#x5B83;&#x662F;&#x7528;&#x6765;&#x5728;&#x63A7;&#x5236;&#x53F0;&#x6253;&#x5F00; redux &#x7684;&#xFF0C;&#x73B0;&#x5728;&#x628A;&#x5B83;&#x52A0;&#x56DE;&#x6765;&#xFF0C;&#x8FD9;&#x4E2A;&#x5728;github&#x4E0A;&#x6709;&#x4F7F;&#x7528;&#x8BF4;&#x660E;</p><p>index.js :</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> { createStore, applyMiddleware, compose } <span class="keyword">from</span> <span class="string">&apos;redux&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> reducer <span class="keyword">from</span> <span class="string">&apos;./reducers&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> thunk <span class="keyword">from</span> <span class="string">&apos;redux-thunk&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> promise <span class="keyword">from</span> <span class="string">&apos;redux-promise&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> logger <span class="keyword">from</span> <span class="string">&apos;redux-logger&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> composeEnhancers = <span class="built_in">window</span>.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = createStore(</span><br><span class="line">  reducer,</span><br><span class="line">  composeEnhancers( applyMiddleware(thunk, promise, logger) )</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store;</span><br></pre></td></tr></tbody></table></figure><h6 id="redux-saga"><a href="#redux-saga" class="headerlink" title="redux-saga"></a>redux-saga</h6><p>&#x8FD9;&#x4E2A;&#x4E2D;&#x95F4;&#x4ECB;&#x4F5C;&#x7528;&#x548C; redux-thunk &#x4E00;&#x6837;&#xFF0C;&#x4E5F;&#x662F;&#x5728; action &#x4E2D;&#x53EF;&#x4EE5;&#x8C03;&#x7528;&#x4E00;&#x6B21;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#xFF0C;&#x4F46;&#x4F7F;&#x7528;&#x7684;&#x65B9;&#x5F0F;&#x6709;&#x5F88;&#x5927;&#x4E0D;&#x540C;</p><p>&#x5B89;&#x88C5;&#xFF1A;npm install redux-saga &#x2013;save</p><p>store/index.js :</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> { createStore, applyMiddleware } <span class="keyword">from</span> <span class="string">&apos;redux&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> reducer <span class="keyword">from</span> <span class="string">&apos;./reducers&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> createSagaMiddleware <span class="keyword">from</span> <span class="string">&apos;redux-saga&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> mySaga <span class="keyword">from</span> <span class="string">&apos;./sagas&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> sagaMiddleware = createSagaMiddleware();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = createStore(</span><br><span class="line">  reducer,</span><br><span class="line">  applyMiddleware(sagaMiddleware)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">sagaMiddleware.run(mySaga);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store;</span><br></pre></td></tr></tbody></table></figure><p>store/sagas.js , &#x5728;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;&#x96C6;&#x4E2D;&#x5904;&#x7406;&#x5BF9;&#x5F02;&#x6B65;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x5B83;&#x80FD;&#x591F;&#x611F;&#x77E5;&#x5230;&#x6BCF;&#x4E00;&#x6B21;&#x4EFB;&#x52A1;&#x6D3E;&#x53D1;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x5F53;&#x6D3E;&#x53D1;&#x67D0;&#x4E2A;&#x4EFB;&#x52A1;&#x65F6;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x6267;&#x884C;&#x76F8;&#x5E94;&#x7684;&#x65B9;&#x6CD5;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> { takeEvery, put } <span class="keyword">from</span> <span class="string">&apos;redux-saga/effects&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&apos;axios&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> Types <span class="keyword">from</span> <span class="string">&apos;./actionTypes&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> actions <span class="keyword">from</span> <span class="string">&apos;./actions/todoList&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">mySaga</span> (<span class="params"></span>) </span>{</span><br><span class="line">  <span class="keyword">yield</span> takeEvery(Types.ADD_TODO_ITEM, addItem);</span><br><span class="line">  <span class="keyword">yield</span> takeEvery(Types.GET_TODO_DATA,  getTodoData);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">addItem</span> (<span class="params"></span>) </span>{</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&apos;add&apos;</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">getTodoData</span> (<span class="params"></span>) </span>{</span><br><span class="line">  <span class="keyword">try</span> {</span><br><span class="line">    <span class="keyword">const</span> data = <span class="keyword">yield</span> axios.get(<span class="string">&apos;list.json&apos;</span>);</span><br><span class="line">    <span class="keyword">const</span> action = actions.getInitList(data);</span><br><span class="line">    <span class="keyword">yield</span> put(action);</span><br><span class="line">  } <span class="keyword">catch</span> (err) {</span><br><span class="line">    <span class="built_in">console</span>.log(err);</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"><span class="comment">// put: &#x8FD9;&#x91CC;&#x4E0D;&#x9700;&#x8981;&#x7528; dispatch &#x8FDB;&#x884C;&#x4EFB;&#x52A1;&#x7684;&#x6D3E;&#x53D1;&#xFF0C;&#x5B83;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A; put &#x65B9;&#x6CD5;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x5B83;&#x6765;&#x8FDB;&#x884C;&#x4EFB;&#x52A1;&#x7684;&#x6D3E;&#x53D1;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> mySaga;</span><br></pre></td></tr></tbody></table></figure><p>component/todoList.js :</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">componentDidMount () {</span><br><span class="line">  <span class="keyword">this</span>.props.getTodoData();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>&#x8FD9;&#x56DB;&#x4E2A;&#x4E2D;&#x95F4;&#x4ECB;&#x662F;&#x76EE;&#x524D;&#x6211;&#x4E86;&#x89E3;&#x5230;&#x7684;&#xFF0C;&#x57FA;&#x672C;&#x533A;&#x522B;&#x5982;&#x4E0B;&#xFF1A;</p><p>redux-thunk&#xFF1A;&#x5E2E;&#x52A9;action&#x63A5;&#x53D7;&#x51FD;&#x6570;,&#x80FD;&#x5728;redux&#x53D1;&#x9001;&#x4E00;&#x6B21;&#x5F02;&#x6B65;&#x8BF7;&#x6C42;</p><p>redux-promise&#xFF1A;&#x5E2E;&#x52A9;action&#x63A5;&#x6536;promise</p><p>redux-logger&#xFF1A;&#x4E86;&#x89E3;&#x6D3E;&#x53D1;&#x4E4B;&#x524D;&#x548C;&#x6D3E;&#x53D1;&#x4E4B;&#x540E;&#x7684;&#x72B6;&#x6001;</p><p>redux-saga&#xFF1A;&#x548C;redux-thunk&#x6709;&#x70B9;&#x76F8;&#x4F3C;,&#x4E5F;&#x80FD;&#x5728;redux&#x4E2D;&#x53D1;&#x9001;&#x4E00;&#x6B21;&#x5F02;&#x6B65;&#x8BF7;&#x6C42;,&#x4F46;&#x4E24;&#x8005;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x6709;&#x5F88;&#x5927;&#x4E0D;&#x540C;</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;在 react 中 引入 redux 可以实现状态管理， 但有些地方有点冗余，所以 react 肯定是会解决这个问题的，所以这次总结 react-redux ，这个库是用来连接 react 和 redux 的&lt;/p&gt;
    
    </summary>
    
    
      <category term="react" scheme="https://orange-way.github.io/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>react-router</title>
    <link href="https://orange-way.github.io//posts/bb8ca5e1/"/>
    <id>https://orange-way.github.io//posts/bb8ca5e1/</id>
    <published>2019-02-22T05:43:59.000Z</published>
    <updated>2019-04-16T02:47:22.958Z</updated>
    
    <content type="html"><![CDATA[<p>&#x8DEF;&#x7531;&#x5206;&#x4E3A; HashRouter &#x548C; BrowserRouter&#xFF0C;HashRouter &#x662F;&#x5E26;&#x6709; # &#xFF0C;&#x800C; BrowserRouter &#x5219;&#x6CA1;&#x6709;<a id="more"></a></p><p>&#x4F7F;&#x7528;react-router&#x7684;demo&#x56FE;&#x5982;&#x4E0B;&#xFF1A;</p><p><img src="/posts/bb8ca5e1/one.png" alt=""></p><p><img src="/posts/bb8ca5e1/two.png" alt=""></p><p>&#x6B65;&#x9AA4;&#x5982;&#x4E0B;&#xFF1A;</p><h4 id="1-&#x5B89;&#x88C5;-react-router"><a href="#1-&#x5B89;&#x88C5;-react-router" class="headerlink" title="1 &#x5B89;&#x88C5; react-router"></a>1 &#x5B89;&#x88C5; react-router</h4><p><code>npm install react-router-dom --save</code>    </p><p>&#x200B;                        </p><h4 id="2-&#x5F15;&#x5165;&#x8FD9;&#x4E2A;-BrowserRouter-&#xFF08;&#x4F7F;&#x7528;&#x8F83;&#x591A;&#xFF09;"><a href="#2-&#x5F15;&#x5165;&#x8FD9;&#x4E2A;-BrowserRouter-&#xFF08;&#x4F7F;&#x7528;&#x8F83;&#x591A;&#xFF09;" class="headerlink" title="2 &#x5F15;&#x5165;&#x8FD9;&#x4E2A; BrowserRouter &#xFF08;&#x4F7F;&#x7528;&#x8F83;&#x591A;&#xFF09;"></a>2 &#x5F15;&#x5165;&#x8FD9;&#x4E2A; BrowserRouter &#xFF08;&#x4F7F;&#x7528;&#x8F83;&#x591A;&#xFF09;</h4><p> index.js&#x4E2D; &#xFF0C;&#x5982;&#x4E0B;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> { </span><br><span class="line">  BrowserRouter <span class="keyword">as</span> Router, </span><br><span class="line">  Route,</span><br><span class="line">  Switch,</span><br><span class="line">  Redirect</span><br><span class="line">} <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br><span class="line"></span><br><span class="line">render(</span><br><span class="line">  &lt;Router&gt;</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      &lt;App&gt;</span><br><span class="line">        &lt;div className=<span class="string">&quot;content&quot;</span>&gt;</span><br><span class="line">          &lt;Switch&gt;</span><br><span class="line">            &lt;Route path=<span class="string">&quot;/&quot;</span> exact component={Home}&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line">            &lt;Route path=<span class="string">&quot;/activities&quot;</span> component={Activities}&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line">            {<span class="comment">/* &lt;Route path=&quot;/topics&quot; component={Topics}&gt;&lt;/Route&gt; */</span>}</span><br><span class="line">            &lt;PrivateRoute path=<span class="string">&quot;/topics&quot;</span> component={Topics}&gt;<span class="xml"><span class="tag">&lt;/<span class="name">PrivateRoute</span>&gt;</span></span></span><br><span class="line">            &lt;Route path=<span class="string">&quot;/login&quot;</span> component={Login}&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line">            &lt;Route path=<span class="string">&quot;/article/:id&quot;</span> component={Article}&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line">            &lt;Route path=<span class="string">&quot;/error.html&quot;</span> component={NoMatch}&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line">            &lt;Redirect to=<span class="string">&quot;/error.html&quot;</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Redirect</span>&gt;</span></span></span><br><span class="line">          &lt;<span class="regexp">/Switch&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>div&gt;</span><br><span class="line">      &lt;<span class="regexp">/App&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>&gt;</span><br><span class="line">  &lt;<span class="regexp">/Router&gt;,</span></span><br><span class="line"><span class="regexp">  document.getElementById(&quot;root&quot;)</span></span><br><span class="line"><span class="regexp">);</span></span><br></pre></td></tr></tbody></table></figure><p>&#x6CE8;&#x610F;&#xFF1A;</p><p>1) exact&#xFF1A;&#x662F;&#x5B8C;&#x5168;&#x5339;&#x914D;&#xFF0C;&#x4E00;&#x6A21;&#x4E00;&#x6837;&#x624D;&#x53EF;&#x4EE5;</p><p>2) switch&#xFF1A;&#x662F;&#x5339;&#x914D;&#x5230;&#x4E00;&#x4E2A;&#x5C31;&#x4E0D;&#x4F1A;&#x5F80;&#x4E0B;&#x627E;&#x4E86;</p><p>3) Redirect&#xFF1A;&#x91CD;&#x5B9A;&#x5411;</p><p>4) Router&#xFF1A;&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x4E2A;&#x5B50;&#x5143;&#x7D20;</p><p>5) &#x8FD9;&#x91CC;&#x662F;&#x628A;Router&#x8FD9;&#x4E2A;&#x7EC4;&#x4EF6;&#x653E;&#x5728;&#x4E86;App&#x7EC4;&#x4EF6;&#x91CC;&#xFF0C;&#x5F53;&#x6709;&#x4E1C;&#x897F;&#x653E;&#x5165;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x4E2D;&#x65F6;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x505A;&#xFF0C;&#x4F46;&#x5177;&#x4F53;&#x653E;&#x5728;App</p><p>&#x7EC4;&#x4EF6;&#x7684;&#x54EA;&#x91CC;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;App&#x7EC4;&#x4EF6;&#x4E2D;&#x5B9A;&#x4E49;&#xFF0C;<code>{ this.props.children }</code> </p><p>&#x200B;                            </p><h4 id="3-&#x8DEF;&#x7531;&#x8DF3;&#x8F6C;&#x7528;-Link&#x3001;NavLink"><a href="#3-&#x8DEF;&#x7531;&#x8DF3;&#x8F6C;&#x7528;-Link&#x3001;NavLink" class="headerlink" title="3 &#x8DEF;&#x7531;&#x8DF3;&#x8F6C;&#x7528; Link&#x3001;NavLink"></a>3 &#x8DEF;&#x7531;&#x8DF3;&#x8F6C;&#x7528; Link&#x3001;NavLink</h4><p>&#x53EF;&#x4EE5;&#x62BD;&#x79BB;&#x6210;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, { Component } <span class="keyword">from</span> <span class="string">&apos;react&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> {Link&#xFF0C;NavLink} <span class="keyword">from</span> <span class="string">&apos;react-router-dom&apos;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&apos;./nav.style.css&apos;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Nav</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>{</span><br><span class="line">  _handleClick = <span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.props.history)</span><br><span class="line">    <span class="keyword">this</span>.props.history.push(<span class="string">&apos;/&apos;</span>)</span><br><span class="line">  }</span><br><span class="line">  render () {</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div className=<span class="string">&quot;nav&quot;</span>&gt;</span><br><span class="line">        &lt;span className=<span class="string">&quot;logo&quot;</span> onClick={<span class="keyword">this</span>._handleClick}&gt;&#x5927;&#x592A;&#x9633;LOGO&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">        &lt;NavLink to=&quot;/</span><span class="string">&quot; exact&gt;&#x9996;&#x9875;&lt;/NavLink&gt;</span></span><br><span class="line"><span class="string">        &lt;NavLink to=&quot;</span>/activities<span class="string">&quot;&gt;&#x52A8;&#x6001;&lt;/NavLink&gt;</span></span><br><span class="line"><span class="string">        &lt;NavLink to=&quot;</span>/topics<span class="string">&quot;&gt;&#x8BDD;&#x9898;&lt;/NavLink&gt;</span></span><br><span class="line"><span class="string">        &lt;NavLink to=&quot;</span>/login<span class="string">&quot;&gt;&#x767B;&#x9646;&lt;/NavLink&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">    )</span></span><br><span class="line"><span class="string">  }</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">}</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">export default Nav;</span></span><br></pre></td></tr></tbody></table></figure><p>&#x6CE8;&#x610F;&#xFF1A;</p><p>1)  Link &#x6E32;&#x67D3;&#x7684;&#x662F;a&#x6807;&#x7B7E;&#xFF0C;&#x5B83;&#x5E76;&#x4E0D;&#x80FD;&#x6539;&#x53D8;&#x6E32;&#x67D3;&#x7684;&#x662F;&#x54EA;&#x4E2A;&#x5143;&#x7D20;&#xFF0C;&#x8981;&#x60F3;&#x6539;&#x53D8;&#x53EA;&#x80FD;&#x62DB;&#x522B;&#x7684;&#x65B9;&#x6CD5;</p><p>2)  Link &#x5BF9;&#x4E8E;&#x5F53;&#x524D;&#x9009;&#x4E2D;&#x7684;a&#x6807;&#x7B7E;&#x5E76;&#x6CA1;&#x6709;&#x7279;&#x6B8A;&#x7684;class &#x6216;&#x662F;&#x5176;&#x4ED6;&#xFF0C;&#x4F46; NavLink &#x6709;</p><p>3)  NavLink &#x9664;&#x4E86;&#x5BF9;&#x5F53;&#x524D;&#x9009;&#x4E2D;&#x7684;a&#x6807;&#x7B7E;&#x6DFB;&#x52A0;&#x4E86; class &#xFF1A;active&#xFF0C;&#x4F46;&#x5176;&#x4E5F;&#x662F;&#x5305;&#x542B;&#x7684;&#x5173;&#x7CFB;&#xFF0C;&#x6240;&#x4EE5;&#x4F7F;&#x7528;&#x5B8C;&#x5168;&#x5339;&#x914D;&#xFF0C;&#x52A0;&#x4E0A;exact&#x8FD9;&#x4E2A;&#x5C5E;&#x6027;</p><p>4)  &#x901A;&#x8FC7;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#x8DF3;&#x8F6C;&#x7684;&#x8BDD;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>this.props.history.push(&apos;/&apos;</code>)` </p><p>&#x200B;                    </p><h4 id="4-&#x4E8C;&#x7EA7;&#x8DEF;&#x7531;"><a href="#4-&#x4E8C;&#x7EA7;&#x8DEF;&#x7531;" class="headerlink" title="4  &#x4E8C;&#x7EA7;&#x8DEF;&#x7531;"></a>4  &#x4E8C;&#x7EA7;&#x8DEF;&#x7531;</h4><p>&#x628A;&#x4E8C;&#x7EA7;&#x8DEF;&#x7531;&#x4E5F;&#x62BD;&#x79BB;&#x6210;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;,activitiesnav.js</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, { Component } <span class="keyword">from</span> <span class="string">&apos;react&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> {NavLink} <span class="keyword">from</span> <span class="string">&apos;react-router-dom&apos;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Activitiesnav</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>{</span><br><span class="line"></span><br><span class="line">  render () {</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;NavLink to=<span class="string">&quot;/activities/recommended&quot;</span> exact&gt;&#x63A8;&#x8350;&lt;<span class="regexp">/NavLink&gt;</span></span><br><span class="line"><span class="regexp">        &lt;NavLink to=&quot;/</span>activities/all<span class="string">&quot;&gt;&#x7EFC;&#x5408;&lt;/NavLink&gt;</span></span><br><span class="line"><span class="string">        &lt;NavLink to=&quot;</span>/activities/articles<span class="string">&quot;&gt;&#x6587;&#x7AE0;&lt;/NavLink&gt;</span></span><br><span class="line"><span class="string">        &lt;NavLink to=&quot;</span>/activities/pins<span class="string">&quot;&gt;&#x6CB8;&#x70B9;&lt;/NavLink&gt;</span></span><br><span class="line"><span class="string">      &lt;/div&gt;</span></span><br><span class="line"><span class="string">    )</span></span><br><span class="line"><span class="string">  }</span></span><br><span class="line"><span class="string">}</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">export default Activitiesnav;</span></span><br></pre></td></tr></tbody></table></figure><p>activities.js:</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">render () {</span><br><span class="line">   <span class="keyword">return</span> (</span><br><span class="line">       &lt;div&gt;</span><br><span class="line">         &#x52A8;&#x6001;</span><br><span class="line">         &lt;Activitiesnav&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Activitiesnav</span>&gt;</span></span></span><br><span class="line">         &lt;Switch&gt;</span><br><span class="line">           &lt;Route path=<span class="string">&quot;/activities/recommended&quot;</span> exact component={ Recommended }&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line">           &lt;Route path=<span class="string">&quot;/activities/all&quot;</span> component={ All }&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line">           &lt;Route path=<span class="string">&quot;/activities/articles&quot;</span> component={ Articles }&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line">           &lt;Route path=<span class="string">&quot;/activities/pins&quot;</span> component={ Pins }&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line">           &lt;Redirect to=<span class="string">&quot;/activities/recommended&quot;</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Redirect</span>&gt;</span></span></span><br><span class="line">         &lt;<span class="regexp">/Switch&gt;</span></span><br><span class="line"><span class="regexp">       &lt;/</span>div&gt;</span><br><span class="line">   )</span><br><span class="line"> }</span><br></pre></td></tr></tbody></table></figure><p>&#x6CE8;&#x610F;&#xFF1A;&#x5C3D;&#x91CF;&#x4E00;&#x4E2A;&#x5BFC;&#x822A;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;</p><p><img src="/posts/bb8ca5e1/three.png" alt=""></p><p>&#x200B;                    </p><h4 id="5-&#x52A8;&#x6001;&#x8DEF;&#x7531;"><a href="#5-&#x52A8;&#x6001;&#x8DEF;&#x7531;" class="headerlink" title="5 &#x52A8;&#x6001;&#x8DEF;&#x7531;"></a>5 &#x52A8;&#x6001;&#x8DEF;&#x7531;</h4><p>&#x4E0D;&#x901A;&#x8FC7;Link&#x8FD9;&#x4E9B;&#x533A;&#x8DF3;&#x8F6C;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5728;&#x9875;&#x9762;&#x7EA7;&#x7EC4;&#x4EF6;&#x4E2D;&#x533A;&#x8DF3;&#x8F6C;&#xFF0C;&#x5728;Route&#x7EC4;&#x4EF6;&#x91CC;&#xFF08;&#x901A;&#x8FC7;Route&#x6E32;&#x67D3;&#x51FA;&#x6765;&#x7684;&#x7EC4;&#x4EF6;&#xFF09;&#x6709;&#x4E09;&#x4E2A;&#x65B9;&#x6CD5;&#xFF1A;props &#x3001;history&#x3001;match&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; <code>this.props.history.push()</code> &#x6765;&#x5B9E;&#x73B0;&#x8DF3;&#x8F6C;</p><p>&#x200B;                            </p><h4 id="6-withRouter"><a href="#6-withRouter" class="headerlink" title="6  withRouter"></a>6  withRouter</h4><p>&#x89E3;&#x51B3;Link&#x3001;NavLink&#x53EA;&#x80FD;&#x6E32;&#x67D3;a&#x6807;&#x7B7E;&#x7684;&#x95EE;&#x9898;&#xFF1A;</p><p>&#x4E00;&#xFF1A;&#x5F53;&#x6211;&#x4EEC;&#x4E0D;&#x6E32;&#x67D3;&#x6210;a&#x6807;&#x7B7E;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6B64;&#x65F6;&#x4E0D;&#x80FD;&#x4F7F;&#x7528;Link&#x3001;NavLink&#xFF0C;&#x8DF3;&#x8F6C;&#x7684;&#x529F;&#x80FD;&#x6211;&#x4EEC;&#x53EA;&#x80FD;&#x901A;&#x8FC7;click&#x4E8B;&#x4EF6;&#x6765;&#x5904;&#x7406;&#xFF0C;&#x800C;&#x6B64;&#x65F6; nav.js&#x4E0D;&#x662F;&#x9875;&#x9762;&#x7EA7;&#x7EC4;&#x4EF6;&#xFF0C;&#x4E0D;&#x80FD;&#x8BBF;&#x95EE;history&#xFF0C;&#x4F46;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;index.js&#x4E2D;&#xFF0C;&#x7528;Route&#x5C06;&#x8FD9;&#x4E2A;Nav&#x5305;&#x88F9;&#x8D77;&#x6765;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x9AD8;&#x9636;&#x7EC4;&#x4EF6;&#xFF08;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x53EF;&#x4EE5;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#xFF09;&#xFF0C;&#x4F46;route&#x662F;&#x9875;&#x9762;&#x7EA7;&#x7EC4;&#x4EF6;&#x7528;&#x7684;&#xFF0C;&#x5E76;&#x4E0D;&#x662F;&#x8BF4;&#x5FC5;&#x987B;&#x8FD9;&#x6837;&#xFF0C;&#x53EA;&#x662F;&#x8BF4;&#x5C3D;&#x91CF;&#x9875;&#x9762;&#x7EA7;&#x7EC4;&#x4EF6;&#x548C;&#x5BFC;&#x822A;&#x8FD9;&#x4E9B;&#x5206;&#x5F00;&#xFF0C;&#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x7528; withRouter&#x9694;&#x4E00;&#x5C42;&#xFF0C;nav.js&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, { Component } <span class="keyword">from</span> <span class="string">&apos;react&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> {NavLink, withRouter} <span class="keyword">from</span> <span class="string">&apos;react-router-dom&apos;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&apos;./nav.style.css&apos;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//withRouter &#x8FC7;&#x7A0B;</span></span><br><span class="line"><span class="comment">// const withRouter = (Component) =&gt; () =&gt; &lt;Route component={Component}&gt;&lt;/Route&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Nav</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>{</span><br><span class="line">  _handleClick = <span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.props.history)</span><br><span class="line">    <span class="keyword">this</span>.props.history.push(<span class="string">&apos;/&apos;</span>)</span><br><span class="line">  }</span><br><span class="line">  render () {</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div className=<span class="string">&quot;nav&quot;</span>&gt;</span><br><span class="line">        &lt;span className=<span class="string">&quot;logo&quot;</span> onClick={<span class="keyword">this</span>._handleClick}&gt;&#x5927;&#x592A;&#x9633;LOGO&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">        &lt;NavLink to=&quot;/</span><span class="string">&quot; exact&gt;&#x9996;&#x9875;&lt;/NavLink&gt;</span></span><br><span class="line"><span class="string">        &lt;NavLink to=&quot;</span>/activities<span class="string">&quot;&gt;&#x52A8;&#x6001;&lt;/NavLink&gt;</span></span><br><span class="line"><span class="string">        &lt;NavLink to=&quot;</span>/topics<span class="string">&quot;&gt;&#x8BDD;&#x9898;&lt;/NavLink&gt;</span></span><br><span class="line"><span class="string">        &lt;NavLink to=&quot;</span>/login<span class="string">&quot;&gt;&#x767B;&#x9646;&lt;/NavLink&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">    )</span></span><br><span class="line"><span class="string">  }</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">}</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">export default withRouter(Nav);</span></span><br></pre></td></tr></tbody></table></figure><p>&#x4E8C;&#xFF1A;&#x5199;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#xFF0C;&#x5B9E;&#x73B0;&#x7528;span&#x6807;&#x7B7E;&#x6765;&#x6E32;&#x67D3;</p><p>menuLink.js:</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&apos;react&apos;</span></span><br><span class="line"><span class="keyword">import</span> {Route} <span class="keyword">from</span> <span class="string">&apos;react-router-dom&apos;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//component &#x53EA;&#x53BB;&#x6E32;&#x67D3;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#xFF0C;&#x4E14;&#x8DEF;&#x5F84;&#x8981;&#x5339;&#x914D;</span></span><br><span class="line"><span class="comment">//render &#x4E0E;&#x5F53;&#x524D;&#x8DEF;&#x5F84;&#x5339;&#x914D;&#x624D;&#x6E32;&#x67D3;&#xFF0C;&#x4E0D;&#x5339;&#x914D;&#x5219;&#x4E0D;&#x6E32;&#x67D3;</span></span><br><span class="line"><span class="comment">//children &#x4E0E;&#x5F53;&#x524D;&#x8DEF;&#x5F84;&#x5339;&#x914D;&#x624D;&#x4F1A;&#x6709;match</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> MenuLink = <span class="function">(<span class="params">{to, ...props}</span>) =&gt;</span> {</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;Route path={to} {...props} children={(p) =&gt; {</span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">        &lt;span onClick={() =&gt; { p.history.push(to) }}</span><br><span class="line">         className={p.match ? <span class="string">&apos;active&apos;</span>: <span class="string">&apos;&apos;</span>}&gt;</span><br><span class="line">          {props.children}</span><br><span class="line">        &lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">      )</span></span><br><span class="line"><span class="regexp">    }}&gt;&lt;/</span>Route&gt;</span><br><span class="line">  )</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> MenuLink</span><br></pre></td></tr></tbody></table></figure><p>nav.js&#x4E2D;&#x8FD9;&#x6837;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, { Component } <span class="keyword">from</span> <span class="string">&apos;react&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> {NavLink, withRouter} <span class="keyword">from</span> <span class="string">&apos;react-router-dom&apos;</span></span><br><span class="line"><span class="keyword">import</span> MenuLink <span class="keyword">from</span> <span class="string">&apos;../Menuink&apos;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&apos;./nav.style.css&apos;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const withRouter = (Component) =&gt; () =&gt; &lt;Route component={Component}&gt;&lt;/Route&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Nav</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>{</span><br><span class="line">  _handleClick = <span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.props.history)</span><br><span class="line">    <span class="keyword">this</span>.props.history.push(<span class="string">&apos;/&apos;</span>)</span><br><span class="line">  }</span><br><span class="line">  render () {</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div className=<span class="string">&quot;nav&quot;</span>&gt;</span><br><span class="line">        &lt;span className=<span class="string">&quot;logo&quot;</span> onClick={<span class="keyword">this</span>._handleClick}&gt;&#x5927;&#x592A;&#x9633;LOGO&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">        &lt;MenuLink to=&quot;/</span><span class="string">&quot; exact&gt;&#x9996;&#x9875;&lt;/MenuLink&gt;</span></span><br><span class="line"><span class="string">        &lt;MenuLink to=&quot;</span>/activities<span class="string">&quot;&gt;&#x52A8;&#x6001;&lt;/MenuLink&gt;</span></span><br><span class="line"><span class="string">        &lt;MenuLink to=&quot;</span>/topics<span class="string">&quot;&gt;&#x8BDD;&#x9898;&lt;/MenuLink&gt;</span></span><br><span class="line"><span class="string">        &lt;MenuLink to=&quot;</span>/login<span class="string">&quot;&gt;&#x767B;&#x9646;&lt;/MenuLink&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">    )</span></span><br><span class="line"><span class="string">  }</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">}</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">export default withRouter(Nav);</span></span><br></pre></td></tr></tbody></table></figure><p>&#x200B;        </p><p>&#x200B;                                    </p><h4 id="7-&#x8DEF;&#x7531;&#x6743;&#x9650;&#x63A7;&#x5236;"><a href="#7-&#x8DEF;&#x7531;&#x6743;&#x9650;&#x63A7;&#x5236;" class="headerlink" title="7 &#x8DEF;&#x7531;&#x6743;&#x9650;&#x63A7;&#x5236;"></a>7 &#x8DEF;&#x7531;&#x6743;&#x9650;&#x63A7;&#x5236;</h4><p>&#x5728;js&#x4E2D;&#x5224;&#x65AD;&#x53BB;&#x54EA;&#xFF0C;&#x6761;&#x4EF6;&#x662F;&#x5426;&#x6EE1;&#x8DB3;&#xFF0C;&#x6761;&#x4EF6;&#x6EE1;&#x8DB3;&#x4E4B;&#x540E;&#x53BB;&#x54EA;&#xFF0C;&#x6CA1;&#x6EE1;&#x8DB3;&#x53BB;&#x54EA;&#xFF0C;&#x6839;&#x636E;history match history&#x4EE5;&#x53CA;&#x5176;&#x4ED6;&#x65B9;&#x5F0F;&#x6765;&#x8FDB;&#x884C;&#x6743;&#x9650;&#x63A7;&#x5236;</p><p>&#x5F53;&#x5728;&#x8FDB;&#x5165;&#x67D0;&#x4E2A;&#x8DEF;&#x7531;&#x65F6;&#x5224;&#x65AD;&#x53BB;&#x54EA;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x628A;&#x8FD9;&#x90E8;&#x5206;&#x7684;&#x903B;&#x8F91;&#x62BD;&#x79BB;&#x51FA;&#x6765;&#xFF0C;PrivateRoute.js</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&apos;react&apos;</span></span><br><span class="line"><span class="keyword">import</span> {Route, Redirect} <span class="keyword">from</span> <span class="string">&apos;react-router-dom&apos;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> PrivateRoute  = <span class="function">(<span class="params">{component: Component, ...props}</span>) =&gt;</span> {</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;Route {...props} render={(props) =&gt; {</span><br><span class="line">      <span class="keyword">const</span> isLogin = <span class="built_in">document</span>.cookie.includes(<span class="string">&apos;login=true&apos;</span>)</span><br><span class="line">      <span class="keyword">if</span>(isLogin) {</span><br><span class="line">        <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">Component</span>&gt;</span><span class="tag">&lt;/<span class="name">Component</span>&gt;</span></span></span><br><span class="line">      }<span class="keyword">else</span> {</span><br><span class="line">        alert(<span class="string">&apos;&#x8FD8;&#x6CA1;&#x6709;&#x767B;&#x9646;&#xFF0C;&#x8BF7;&#x5148;&#x767B;&#x9646;&apos;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">Redirect</span> <span class="attr">to</span>=<span class="string">{{</span></span></span></span><br><span class="line"><span class="xml">          pathname: &apos;/login&apos;,</span></span><br><span class="line"><span class="xml">          state: {</span></span><br><span class="line"><span class="xml">            from: props.location.pathname</span></span><br><span class="line"><span class="xml">          }</span></span><br><span class="line"><span class="xml">        }}&gt;<span class="tag">&lt;/<span class="name">Redirect</span>&gt;</span></span></span><br><span class="line">      }</span><br><span class="line">    }}&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> PrivateRoute</span><br></pre></td></tr></tbody></table></figure><p>&#x200B;                    </p><h4 id="8-customLink"><a href="#8-customLink" class="headerlink" title="8 customLink"></a>8 customLink</h4><p>&#x5F53;&#x79BB;&#x5F00;&#x67D0;&#x4E2A;&#x9875;&#x9762;&#x65F6;&#x9700;&#x8981;&#x63D0;&#x793A;&#x65F6;&#x91C7;&#x7528;&#xFF0C;Prompt&#xFF0C;&#x5982;&#x52A8;&#x6001;&#x9875;&#x9762;activities.js&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, { Component } <span class="keyword">from</span> <span class="string">&apos;react&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> { Route, Switch, Redirect, Prompt } <span class="keyword">from</span> <span class="string">&apos;react-router-dom&apos;</span></span><br><span class="line"><span class="keyword">import</span> Activitiesnav <span class="keyword">from</span> <span class="string">&apos;../../allComp/activitiesnav/activitiesnav&apos;</span></span><br><span class="line"><span class="keyword">import</span> Recommended <span class="keyword">from</span> <span class="string">&apos;./recommended/Recommended&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> All <span class="keyword">from</span> <span class="string">&apos;./all/All&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> Articles <span class="keyword">from</span> <span class="string">&apos;./articles/Articles&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> Pins <span class="keyword">from</span> <span class="string">&apos;./pins/Pins&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Activities</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>{</span><br><span class="line"></span><br><span class="line">  render () {</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;&gt;</span><br><span class="line">        &lt;Prompt message={(location) =&gt; {</span><br><span class="line">          <span class="keyword">const</span> toPath = location.pathname.includes(<span class="string">&apos;/activities&apos;</span>)</span><br><span class="line">          <span class="keyword">if</span>(toPath){</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">          }</span><br><span class="line">          <span class="keyword">return</span> <span class="built_in">window</span>.confirm(<span class="string">&apos;&#x4F60;&#x786E;&#x5B9A;&#x8981;&#x79BB;&#x5F00;&#x5417;&apos;</span>)</span><br><span class="line">        }}/&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &#x52A8;&#x6001;</span><br><span class="line">          &lt;Activitiesnav&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Activitiesnav</span>&gt;</span></span></span><br><span class="line">          &lt;Switch&gt;</span><br><span class="line">            &lt;Route path=<span class="string">&quot;/activities/recommended&quot;</span> exact component={ Recommended }&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line">            &lt;Route path=<span class="string">&quot;/activities/all&quot;</span> component={ All }&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line">            &lt;Route path=<span class="string">&quot;/activities/articles&quot;</span> component={ Articles }&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line">            &lt;Route path=<span class="string">&quot;/activities/pins&quot;</span> component={ Pins }&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line">            &lt;Redirect to=<span class="string">&quot;/activities/recommended&quot;</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Redirect</span>&gt;</span></span></span><br><span class="line">          &lt;<span class="regexp">/Switch&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>div&gt;</span><br><span class="line">      &lt;<span class="regexp">/&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  }</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">}</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default Activities;</span></span><br></pre></td></tr></tbody></table></figure><p>&#x6CE8;&#x610F;&#xFF1A;message&#x4E3A;true&#xFF0C;&#x4E0D;&#x4F1A;&#x963B;&#x62E6;&#xFF0C;&#x4E3A;false&#xFF0C;&#x54EA;&#x90FD;&#x53BB;&#x4E0D;&#x4E86;</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;路由分为 HashRouter 和 BrowserRouter，HashRouter 是带有 # ，而 BrowserRouter 则没有&lt;/p&gt;
    
    </summary>
    
    
      <category term="react" scheme="https://orange-way.github.io/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>react 中使用axios</title>
    <link href="https://orange-way.github.io//posts/cab0df60/"/>
    <id>https://orange-way.github.io//posts/cab0df60/</id>
    <published>2019-02-20T05:31:34.000Z</published>
    <updated>2019-04-16T02:45:52.538Z</updated>
    
    <content type="html"><![CDATA[<p>&#x8FD9;&#x91CC;&#x603B;&#x7ED3; react &#x4E2D; axios &#x8BF7;&#x6C42;&#x6570;&#x636E;&#x3001;&#x62E6;&#x622A;&#x5668;<a id="more"></a></p><h4 id="1-&#x9996;&#x5148;&#x5B89;&#x88C5;axios"><a href="#1-&#x9996;&#x5148;&#x5B89;&#x88C5;axios" class="headerlink" title="1 &#x9996;&#x5148;&#x5B89;&#x88C5;axios"></a>1 &#x9996;&#x5148;&#x5B89;&#x88C5;axios</h4><p>npm install axios &#x2013;save</p><p>&#x200B;                        </p><h4 id="2-&#x5F15;&#x5165;axios"><a href="#2-&#x5F15;&#x5165;axios" class="headerlink" title="2 &#x5F15;&#x5165;axios"></a>2 &#x5F15;&#x5165;axios</h4><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&apos;axios&apos;</span>;</span><br></pre></td></tr></tbody></table></figure><p>&#x200B;                        </p><h4 id="3-&#x901A;&#x8FC7;-axios-&#x83B7;&#x53D6;&#x6570;&#x636E;"><a href="#3-&#x901A;&#x8FC7;-axios-&#x83B7;&#x53D6;&#x6570;&#x636E;" class="headerlink" title="3 &#x901A;&#x8FC7; axios &#x83B7;&#x53D6;&#x6570;&#x636E;"></a>3 &#x901A;&#x8FC7; axios &#x83B7;&#x53D6;&#x6570;&#x636E;</h4><p>todoList.js</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TodoList</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>{</span><br><span class="line">  componentDidMount () {</span><br><span class="line">    axios.get(<span class="string">&apos;/list.json&apos;</span>).then(<span class="function"><span class="params">res</span> =&gt;</span> {</span><br><span class="line">      <span class="keyword">this</span>.props.getInitList(res);</span><br><span class="line">    })</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  render () {</span><br><span class="line">    <span class="keyword">const</span> { inpVal, list } = <span class="keyword">this</span>.props;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        todoList</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  }</span></span><br><span class="line"><span class="regexp">}</span></span><br></pre></td></tr></tbody></table></figure><p>&#x200B;                            </p><h4 id="4-&#x62E6;&#x622A;&#x5668;"><a href="#4-&#x62E6;&#x622A;&#x5668;" class="headerlink" title="4 &#x62E6;&#x622A;&#x5668;"></a>4 &#x62E6;&#x622A;&#x5668;</h4><p>&#x62E6;&#x622A;&#x5668;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x7BB1;&#x5B50;&#xFF0C;&#x628A; axios &#x8FD4;&#x56DE;&#x56DE;&#x6765;&#x7684;&#x4E1C;&#x897F;&#x653E;&#x8FDB;&#x53BB;&#xFF0C;&#x7136;&#x540E;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7ECF;&#x8FC7;&#x5904;&#x7406;&#x7684;&#x4E1C;&#x897F;</p><p>todoList.js &#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, { Component } <span class="keyword">from</span> <span class="string">&apos;react&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> { connect } <span class="keyword">from</span> <span class="string">&apos;react-redux&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> actions <span class="keyword">from</span> <span class="string">&apos;../store/actions/todoList&apos;</span>;</span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&apos;axios&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x5904;&#x7406;&#x8FD4;&#x56DE;&#x7684;&#x4E1C;&#x897F;</span></span><br><span class="line">axios.interceptors.response.use(<span class="function"><span class="params">res</span> =&gt;</span> {</span><br><span class="line">  <span class="keyword">if</span>(res.data.code === <span class="number">0</span>) {</span><br><span class="line">    <span class="keyword">return</span> res.data.data;</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(<span class="string">&apos;&#x8BF7;&#x6C42;&#x51FA;&#x9519;&apos;</span>);</span><br><span class="line">})</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TodoList</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>{</span><br><span class="line">  componentDidMount () {</span><br><span class="line">    axios.get(<span class="string">&apos;/list.json&apos;</span>).then(<span class="function"><span class="params">res</span> =&gt;</span> {</span><br><span class="line">      <span class="keyword">this</span>.props.getInitList(res);</span><br><span class="line">    })</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  render () {</span><br><span class="line">    <span class="keyword">const</span> { inpVal, list } = <span class="keyword">this</span>.props;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        todoList</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  }</span></span><br><span class="line"><span class="regexp">}</span></span><br></pre></td></tr></tbody></table></figure><p>&#x5F53;&#x6BCF;&#x6B21;&#x8BF7;&#x6C42;&#x90FD;&#x4F1A;&#x8BBE;&#x7F6E;token&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x7EDF;&#x4E00;&#x8BBE;&#x7F6E;token&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">axios.interceptors.request.use(<span class="function"><span class="params">config</span> =&gt;</span> {</span><br><span class="line">  config.headers.token = <span class="string">&apos;slkjkdflksdflksdjflksdhfl&apos;</span>;</span><br><span class="line">  <span class="keyword">return</span> config;</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;这里总结 react 中 axios 请求数据、拦截器&lt;/p&gt;
    
    </summary>
    
    
      <category term="react" scheme="https://orange-way.github.io/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>react 生命周期</title>
    <link href="https://orange-way.github.io//posts/2d6a78f7/"/>
    <id>https://orange-way.github.io//posts/2d6a78f7/</id>
    <published>2019-02-19T08:12:03.000Z</published>
    <updated>2019-04-16T02:46:11.938Z</updated>
    
    <content type="html"><![CDATA[<p>&#x751F;&#x547D;&#x5468;&#x671F;&#x5C31;&#x662F;&#x4ECE;&#x51FA;&#x751F;&#x5230;&#x6B7B;&#x4EA1;&#x7684;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#xFF0C;&#x751F;&#x547D;&#x5468;&#x671F;&#x51FD;&#x6570;&#x5C31;&#x662F;&#x5230;&#x54EA;&#x4E2A;&#x65F6;&#x95F4;&#x5C31;&#x4F1A;&#x6267;&#x884C;&#x54EA;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x4E3B;&#x8981;&#x770B;&#x56FE;&#x5C31;&#x597D;&#x4E86;&#xFF0C;&#x7F51;&#x4E0A;&#x6709;&#x5F88;&#x591A;&#x8FD9;&#x79CD;&#x56FE;<a id="more"></a></p><p>&#x5728; react 16.3 &#x7684;&#x58F0;&#x660E;&#x5468;&#x671F;&#x5982;&#x4E0B;&#xFF1A;</p><p><img src="/posts/2d6a78f7/oldLifeCycle.jpg" alt=""></p><p>&#x200B;                        </p><p>&#x5728; react 16.3 &#x7248;&#x672C;&#x4EE5;&#x540E;&#x79FB;&#x9664;&#x4E86;&#x4E09;&#x4E2A; componentWillMount componentWillReceiveProps componentWillUpdate&#x8FD9;&#x4E09;&#x4E2A;&#xFF0C;&#x589E;&#x52A0;&#x4E86; getDerivedStateFromProps getSnapShotBeforeUpdate &#x8FD9;&#x4E24;&#x4E2A;</p><p><img src="/posts/2d6a78f7/newLifeCycle.jpg" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;生命周期就是从出生到死亡的这个过程，生命周期函数就是到哪个时间就会执行哪个函数，主要看图就好了，网上有很多这种图&lt;/p&gt;
    
    </summary>
    
    
      <category term="react" scheme="https://orange-way.github.io/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>react 之 TodoList</title>
    <link href="https://orange-way.github.io//posts/5921316d/"/>
    <id>https://orange-way.github.io//posts/5921316d/</id>
    <published>2019-02-14T08:46:57.000Z</published>
    <updated>2019-04-16T02:44:43.065Z</updated>
    
    <content type="html"><![CDATA[<p>&#x8FD9;&#x6B21;&#x662F;&#x7528;TodoList&#x6765;&#x603B;&#x7ED3;&#x4E00;&#x4E9B;react&#x4E2D;&#x7684;&#x70B9;&#xFF0C;&#x5982;vue&#x4E2D;&#x7684;v-model&#x5728;react&#x4E2D;&#x8981;&#x600E;&#x4E48;&#x505A;&#xFF0C;&#x7EC4;&#x4EF6;&#x4E4B;&#x95F4;&#x600E;&#x4E48;&#x4F20;&#x503C;&#xFF0C;&#x5C5E;&#x6027;&#x6821;&#x9A8C;&#x7B49;<a id="more"></a></p><p>TodoList&#x5C0F;&#x7EC3;&#x4E60;&#x7684;&#x9875;&#x9762;&#x5982;&#x4E0B;&#xFF1A;</p><p>&#x200B;                </p><p><img src="/posts/5921316d/todoList.png" alt=""></p><h4 id="state-&#x3001;setState"><a href="#state-&#x3001;setState" class="headerlink" title="state &#x3001;setState"></a>state &#x3001;setState</h4><p>&#x9996;&#x5148;&#xFF0C;react&#x4E2D;&#x6CA1;&#x6709;v-model&#xFF0C;&#x6240;&#x4EE5;input&#x4E2D;&#x7684;&#x6570;&#x636E;&#x53CC;&#x5411;&#x7ED1;&#x5B9A;&#x9700;&#x8981; state&#xFF0C;onChange&#xFF0C;setState&#x6765;&#x914D;&#x5408;</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">import React from &apos;react&apos;;</span><br><span class="line"></span><br><span class="line">class TodoList extends React.Component {</span><br><span class="line"></span><br><span class="line">  // &#x72B6;&#x6001;</span><br><span class="line">  state = {</span><br><span class="line">    inpVal: &apos;&apos;,</span><br><span class="line">    list: [&apos;&#x84DD;&#x5929;&apos;, &apos;&#x767D;&#x4E91;&apos;, &apos;&#x9752;&#x5C71;&apos;],</span><br><span class="line">    count: 0</span><br><span class="line">  }</span><br><span class="line">  handleChange = e =&gt; {</span><br><span class="line">    this.setState({</span><br><span class="line">      inpVal: e.target.value</span><br><span class="line">    })</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  handleClick = () =&gt; {</span><br><span class="line">    this.setState({</span><br><span class="line">      list: [...this.state.list, this.state.inpVal],</span><br><span class="line">      inpVal: &apos;&apos;</span><br><span class="line">    })</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  handleDelete = index =&gt; {</span><br><span class="line">    const list = this.state.list;</span><br><span class="line">    list.splice(index, 1);</span><br><span class="line"></span><br><span class="line">    this.setState({</span><br><span class="line">      list</span><br><span class="line">    })</span><br><span class="line">  }</span><br><span class="line">  render() {</span><br><span class="line">    return (</span><br><span class="line">      &lt;&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &lt;input type=&quot;text&quot; value={ this.state.inpVal } onChange={ this.handleChange } /&gt;</span><br><span class="line">          &lt;button onClick={ this.handleClick }&gt;&#x6DFB;&#x52A0;&lt;/button&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">          {</span><br><span class="line">            this.state.list.map( (item, index) =&gt; (</span><br><span class="line">              &lt;li key={ item }&gt;</span><br><span class="line">                { item }</span><br><span class="line">                &lt;button onClick={ () =&gt; { this.handleDelete(index) } }&gt;X&lt;/button&gt;</span><br><span class="line">              &lt;/li&gt;</span><br><span class="line">            ))</span><br><span class="line">          }</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">      &lt;/&gt;</span><br><span class="line">    )</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">export default TodoList;</span><br></pre></td></tr></tbody></table></figure><p>&#x6CE8;&#x610F;&#xFF1A;</p><p>&#x200B;    1 &#x5728;&#x7ED1;&#x5B9A;&#x4E8B;&#x4EF6;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8981;&#x6CE8;&#x610F;this&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x53EF;&#x4EE5;&#x5199;<code>onChange={ this.handleChange }</code> &#x6210; &#x6216;&#x8005; &#x7528;&#x6587;&#x4E2D;&#x7684;&#x8FD9;&#x79CD;&#x7BAD;&#x5934;&#x51FD;&#x6570;&#x7684;&#x65B9;&#x5F0F;</p><p>&#x200B;    2 input&#x7ED1;&#x5B9A;&#x7684;&#x662F;state&#x4E2D;&#x7684;&#x503C;&#xFF0C;&#x6240;&#x4EE5;&#x521A;&#x5F00;&#x59CB;&#x6CA1;&#x7ED1;&#x5B9A;onChange&#x4E8B;&#x4EF6;&#x65F6;&#x4F1A;&#x53D1;&#x73B0;&#x65E0;&#x6CD5;&#x8F93;&#x5165;&#xFF0C;&#x56E0;&#x4E3A;state&#x4E0D;&#x80FD;&#x76F4;&#x63A5;&#x6539;&#x53D8;&#xFF0C;&#x9700;&#x8981;&#x901A;&#x8FC7;setState&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x6539;&#x53D8;state&#x4E2D;&#x7684;&#x503C;&#xFF0C;&#x6DFB;&#x52A0;&#x6309;&#x94AE;&#x4E5F;&#x662F;&#x540C;&#x6837;&#x7684;&#x9053;&#x7406;&#xFF0C;list&#x9700;&#x8981;&#x901A;&#x8FC7;setState&#x6765;&#x6539;&#x53D8;</p><p>&#x200B;    3 &#x5F53;&#x9700;&#x8981;&#x4F20;&#x53C2;&#x65F6;&#xFF0C;&#x4F7F;&#x7528; <code>onClick={ () =&gt; { this.handleDelete(index) } }</code>, &#x800C;&#x4E0D;&#x662F; <code>onClick={ this.handleDelete(index) }</code>, &#x540E;&#x8005;&#x5728;&#x7ED1;&#x5B9A;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x4F1A;&#x6267;&#x884C;&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x524D;&#x8005;&#xFF0C;&#x5F53;&#x7136;&#x4E5F;&#x53EF;&#x4EE5;&#x5199;&#x6210; <code>bind(this</code>)</p><p>&#x200B;    4 &#x5F53;&#x4F7F;&#x7528;map&#x7684;&#x65B9;&#x6CD5;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x52A0;&#x4E2A;key&#x503C;&#x6765;&#x8868;&#x660E;&#x552F;&#x4E00;&#x6027;&#xFF0C;&#x5C3D;&#x91CF;&#x4E0D;&#x8981;&#x7528;index&#xFF08;&#x56E0;&#x4E3A;&#x5F53;list&#x7684;&#x503C;&#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;&#x9875;&#x9762;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x6E32;&#x67D3;&#x7684;&#x65F6;&#x5019;&#xFF0C;react&#x662F;&#x6839;&#x636E;key&#x6765;&#x548C;&#x4E0A;&#x4E00;&#x6B21;&#x7684;&#x8FDB;&#x884C;&#x5BF9;&#x6BD4;&#x7684;&#xFF0C;&#x82E5;key&#x7684;&#x8FD9;&#x4E2A;&#x5143;&#x7D20;&#x4F9D;&#x7136;&#xFF09;</p><p>&#x200B;                </p><p>&#x73B0;&#x5728;&#x6709;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x5982;&#x4E0B;</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">state = {</span><br><span class="line">    count: 0</span><br><span class="line">}</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;span&gt;{ this.state.count }&lt;/span&gt;</span><br><span class="line">    &lt;button onClick={ this.handleAdd }&gt;&#x6DFB;&#x52A0;&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">handleAdd = () =&gt;{</span><br><span class="line"></span><br><span class="line">    //this.setState({</span><br><span class="line">    //  count: 2</span><br><span class="line">    //})</span><br><span class="line">this.setState((prevState) =&gt; {</span><br><span class="line">      return {</span><br><span class="line">        count: prevState.count + 1</span><br><span class="line">      }</span><br><span class="line">    })</span><br><span class="line">    this.setState((prevState) =&gt; {</span><br><span class="line">      return {</span><br><span class="line">        count: prevState.count + 2</span><br><span class="line">      }</span><br><span class="line">    })</span><br><span class="line">    this.setState((prevState) =&gt; {</span><br><span class="line">      return {</span><br><span class="line">        count: prevState.count + 3</span><br><span class="line">      }</span><br><span class="line">    })</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>&#x5F53;&#x70B9;&#x51FB;&#x6DFB;&#x52A0;&#x6309;&#x94AE;&#x65F6;&#xFF0C;count &#x4F1A;&#x52A0; 6 &#x5417;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#xFF0C;&#x8FD9;&#x91CC;&#x53EA;&#x52A0;&#x4E86; 3 &#xFF0C;&#x800C;&#x8FD9;&#x51E0;&#x53E5;&#x6362;&#x4E2A;&#x4F4D;&#x7F6E;&#x4F1A;&#x53D1;&#x73B0;&#xFF0C;&#x52A0;&#x7684;&#x503C;&#x53D8;&#x4E86;&#xFF0C;&#x4F46;&#x59CB;&#x7EC8;&#x4E0D;&#x662F; &#x52A0; 6 &#xFF0C;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;setState&#x4F1A;&#x6709;&#x4E2A;&#x4E8B;&#x4EF6;&#x961F;&#x5217;&#xFF0C;&#x5F53;&#x5BF9;&#x6BD4;&#x53D1;&#x73B0;&#x6539;&#x53D8;&#x7684;&#x662F;&#x540C;&#x4E00;&#x4E2A;state&#x5C5E;&#x6027;&#x65F6;&#xFF0C;&#x4F1A;&#x8FDB;&#x884C;&#x540E;&#x9762;&#x7684;&#x8986;&#x76D6;&#x524D;&#x9762;&#x7684;</p><p>&#x200B;                                </p><h4 id="&#x53D7;&#x63A7;&#x7EC4;&#x4EF6;&#x3001;&#x975E;&#x53D7;&#x63A7;&#x7EC4;&#x4EF6;"><a href="#&#x53D7;&#x63A7;&#x7EC4;&#x4EF6;&#x3001;&#x975E;&#x53D7;&#x63A7;&#x7EC4;&#x4EF6;" class="headerlink" title="&#x53D7;&#x63A7;&#x7EC4;&#x4EF6;&#x3001;&#x975E;&#x53D7;&#x63A7;&#x7EC4;&#x4EF6;"></a>&#x53D7;&#x63A7;&#x7EC4;&#x4EF6;&#x3001;&#x975E;&#x53D7;&#x63A7;&#x7EC4;&#x4EF6;</h4><p>&#x200B;    &#x53D7;&#x63A7;&#x7EC4;&#x4EF6;&#x548C;&#x975E;&#x53D7;&#x63A7;&#x7EC4;&#x4EF6;&#x7684;&#x533A;&#x522B;&#x5C31;&#x662F;&#xFF1A;&#x662F;&#x5426;&#x53D7;&#x72B6;&#x6001;&#x5F71;&#x54CD;</p><p>&#x200B;    &#x53D7;&#x63A7;&#x7EC4;&#x4EF6;&#x5C31;&#x662F;&#x4E0A;&#x9762;&#x5199;&#x7684;&#x90A3;&#x79CD;, input&#x6846;&#x7684;&#x503C;&#x53D7;state&#x4E2D;&#x7684;&#x5F71;&#x54CD;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x662F;&#x53D7;&#x63A7;&#x7EC4;&#x4EF6;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">&quot;text&quot;</span> value={ <span class="keyword">this</span>.state.inpVal } onChange={ <span class="keyword">this</span>.handleChange } /&gt;</span><br></pre></td></tr></tbody></table></figure><p>&#x200B;    &#x975E;&#x53D7;&#x63A7;&#x7EC4;&#x4EF6;&#x5C31;&#x662F;&#x7ED9;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x8D77;&#x4E86;&#x4E2A;&#x540D;&#x5B57;&#xFF0C;&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x540D;&#x5B57;&#x627E;&#x5230;&#x8FD9;&#x4E2A;&#x7EC4;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x53BB;&#x83B7;&#x53D6;&#x4E00;&#x4E9B;&#x4FE1;&#x606F;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x65B9;&#x5F0F;&#x4E00;&#xFF1A;</span></span><br><span class="line"><span class="comment">// &#x8FD9;&#x6837;&#x5C31;&#x76F8;&#x5F53;&#x4E8E; this.inp = &lt;input type=&quot;text&quot; /&gt;&#xFF0C;this.inp.value &#x5C31;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x5230;&#x8FD9;&#x4E2A;input&#x7684;&#x503C;&#x4E86;</span></span><br><span class="line">&lt;input type=<span class="string">&quot;text&quot;</span> ref={ (dom) =&gt; {<span class="keyword">this</span>.inp = dom} } /&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x65B9;&#x5F0F;&#x4E8C;&#xFF1A;</span></span><br><span class="line"><span class="comment">// this.inp.current.value &#x5C31;&#x53EF;&#x4EE5;&#x83B7;&#x5F97;&#x8FD9;&#x4E2A;input&#x7684;&#x503C;&#x4E86;</span></span><br><span class="line">inp = React.createRef() <span class="comment">// 16.3&#x4EE5;&#x540E;</span></span><br><span class="line">&lt;input type=<span class="string">&quot;text&quot;</span> ref={ <span class="keyword">this</span>.inp } } /&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x8FD9;&#x6837;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x53D7;&#x63A7;&#x7EC4;&#x4EF6;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x5728;input&#x6709;&#x6240;&#x6539;&#x53D8;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x4F1A;&#x89E6;&#x53D1;setState&#xFF0C;&#x800C;&#x975E;&#x53D7;&#x63A7;&#x7EC4;&#x4EF6;&#x5E76;&#x4E0D;&#x4F1A;</span></span><br></pre></td></tr></tbody></table></figure><p>&#x200B;                            </p><h4 id="&#x5C5E;&#x6027;&#x6821;&#x9A8C;"><a href="#&#x5C5E;&#x6027;&#x6821;&#x9A8C;" class="headerlink" title="&#x5C5E;&#x6027;&#x6821;&#x9A8C;"></a>&#x5C5E;&#x6027;&#x6821;&#x9A8C;</h4><p>&#x5F53;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x4F20;&#x503C;&#x7ED9;&#x53E6;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x4EE5;&#x4E0B;&#x51E0;&#x6B65;&#xFF1A;</p><p>&#x7236;&#x7EC4;&#x4EF6;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = {</span><br><span class="line">  name: <span class="string">&apos;&#x5C0F;&#x5B89;&apos;</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">  sex: <span class="string">&apos;&#x5973;&apos;</span>,</span><br><span class="line">  figure: {</span><br><span class="line">    weight: <span class="number">95</span>,</span><br><span class="line">    height: <span class="number">168</span></span><br><span class="line">  },</span><br><span class="line">  hobby: [<span class="string">&apos;&#x770B;&#x7535;&#x5F71;&apos;</span>, <span class="string">&apos;&#x770B;&#x4E66;&apos;</span>],</span><br><span class="line">  salary: <span class="number">100</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">render(<span class="xml"><span class="tag">&lt;<span class="name">Person</span> {<span class="attr">...person</span>}&gt;</span><span class="tag">&lt;/<span class="name">Person</span>&gt;</span></span>, <span class="built_in">document</span>.getElementById(<span class="string">&apos;root&apos;</span>))</span><br><span class="line"><span class="comment">// &#x8FD9;&#x91CC;&#x4E5F;&#x53EF;&#x4EE5;&#x628A; {...person} &#x5199;&#x6210; person&#xFF0C;&#x4E0D;&#x8FC7;&#x540E;&#x8005;&#x8BD5;&#x5957;&#x4E86;&#x4E00;&#x5C42;</span></span><br></pre></td></tr></tbody></table></figure><p>&#x5B50;&#x7EC4;&#x4EF6;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> { name, age, sex, figure, hobby, salary } = <span class="keyword">this</span>.props</span><br><span class="line"></span><br><span class="line"> &lt;div&gt;{name} &#x4E2A;&#x4EBA;&#x8D44;&#x6599;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp"> &lt;div&gt;&#x5E74;&#x9F84;&#xFF1A;{ age }&lt;/</span>div&gt;</span><br><span class="line"> &lt;div&gt;&#x6027;&#x522B;&#xFF1A;{ sex }&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp"> ...</span></span><br></pre></td></tr></tbody></table></figure><p>&#x5F53;&#x7136;&#x4E5F;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x5C5E;&#x6027;&#xFF0C;&#x6BD4;&#x5982;name&#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#xFF0C;&#x7236;&#x7EC4;&#x4EF6;&#x6709;&#x4F20; name&#xFF0C;&#x90A3;&#x5C31;&#x7528;&#x7236;&#x7EC4;&#x4EF6;&#x4F20;&#x8FC7;&#x6765;&#x7684;&#xFF0C;&#x6CA1;&#x6709;&#x90A3;&#x5C31;&#x7528;&#x81EA;&#x5DF1;&#x7684;&#xFF0C;&#x5982;&#x4E0B;&#xFF08;&#x5B50;&#x7EC4;&#x4EF6;&#x4E2D;&#xFF09;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> defaultProps = {</span><br><span class="line">  name: <span class="string">&apos;duyi&apos;</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>&#x5B50;&#x7EC4;&#x4EF6;&#x901A;&#x8FC7; <code>this.props</code>  &#x83B7;&#x53D6;&#x7236;&#x7EC4;&#x4EF6;&#x4F20;&#x8FC7;&#x6765;&#x7684;&#x503C;(props&#x4E2D;&#x7684;&#x503C;&#x662F;&#x53EA;&#x8BFB;&#x7684;)&#xFF0C;&#x4F46;&#x5F53;&#x7EC4;&#x4EF6;&#x9700;&#x8981;number&#x800C;&#x7236;&#x7EC4;&#x4EF6;&#x4F20;&#x7684;&#x662F;string &#x65F6;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x5C5E;&#x6027;&#x6821;&#x9A8C;&#x4E86;&#xFF0C;&#x5C5E;&#x6027;&#x6821;&#x9A8C;&#x9700;&#x8981;&#x4EE5;&#x4E0B;&#x51E0;&#x6B65;&#xFF1A;</p><p>1 &#x5B89;&#x88C5;  <code>prop-types</code>  &#xFF1A;<code>npm install prop-type --save</code></p><p>2 &#x5728;&#x5B50;&#x7EC4;&#x4EF6;&#x5F15;&#x5165;&#x5B83;&#xFF1A;</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import PropTypes from &apos;prop-types&apos;;</span><br></pre></td></tr></tbody></table></figure><p>3 &#x5B9A;&#x4E49;&#x6240;&#x9700;&#x8981;&#x7684;&#x5C5E;&#x6027;&#x5404;&#x662F;&#x4EC0;&#x4E48;&#x7C7B;&#x578B;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x8FD9;&#x4E9B;&#x5728;github&#x5B98;&#x7F51;&#x4E0A;&#x90FD;&#x6709;</span></span><br><span class="line">  <span class="keyword">static</span> propTypes = {</span><br><span class="line">    name: PropTypes.string,</span><br><span class="line">    age: PropTypes.number,</span><br><span class="line">    sex: PropTypes.oneOf([<span class="string">&apos;&#x7537;&apos;</span>, <span class="string">&apos;&#x5973;&apos;</span>]),</span><br><span class="line">    figure: PropTypes.objectOf(PropTypes.number),</span><br><span class="line">    hobby: PropTypes.arrayOf(PropTypes.string),</span><br><span class="line">    salary (props, propsName, componentName) {</span><br><span class="line">      <span class="keyword">if</span>(props[propsName] &lt; <span class="number">10000</span>) {</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Error</span>(</span><br><span class="line">          <span class="string">`<span class="subst">${componentName}</span>&#x7EC4;&#x4EF6;&#x4F20;&#x9012;&#x8FC7;&#x6765;&#x7684;<span class="subst">${propsName}</span>&#x5C5E;&#x6027;&#x7684;&#x503C;&#x592A;&#x5C0F;&#x5566;&#xFF0C;&#x5E94;&#x8BE5;&#x5927;&#x4E8E;1&#x4E07;`</span></span><br><span class="line">        );</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure><p>&#x8FD9;&#x6837;&#x5C5E;&#x6027;&#x6821;&#x9A8C;&#x5C31;&#x597D;&#x4E86;</p><h4 id="&#x7EC4;&#x4EF6;&#x4EA4;&#x4E92;"><a href="#&#x7EC4;&#x4EF6;&#x4EA4;&#x4E92;" class="headerlink" title="&#x7EC4;&#x4EF6;&#x4EA4;&#x4E92;"></a>&#x7EC4;&#x4EF6;&#x4EA4;&#x4E92;</h4><p>&#x8FD8;&#x662F;&#x4EE5; &#x8FD9;&#x4E2A;TodoList&#x4E3A;&#x4F8B;&#xFF0C;&#x628A;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x5206;&#x6210;&#x4E86;&#x4E0B;&#x9762;&#x8FD9;&#x6837;&#x7684;&#x51E0;&#x4E2A;&#x7EC4;&#x4EF6;&#xFF1A;</p><p><img src="/posts/5921316d/comp.png" alt="&#x56FE;&#x4E00;"></p><p>&#x200B;                        </p><p>&#x200B;                </p><p>&#x7236;&#x5B50;&#x7EC4;&#x4EF6;&#x4E4B;&#x95F4;&#x7684;&#x4F20;&#x503C;&#x5982;&#x524D;&#x9762;&#x90A3;&#x6837;&#xFF0C;&#x4F46;&#x5982;&#x679C;&#x8DF3;&#x7EA7;&#x4F20;&#x503C;&#x7684;&#x8BDD;&#xFF0C;&#x4E00;&#x5C42;&#x4E00;&#x5C42;&#x4F20;&#x4E0B;&#x53BB;&#x6BD4;&#x8F83;&#x9EBB;&#x70E6;&#xFF0C;&#x6240;&#x4EE5;react&#x4E2D;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;content&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x6765;&#x4F20;&#xFF08;content &#x662F; 16&#x7248;&#x672C;&#x4E4B;&#x540E;&#x51FA;&#x73B0;&#x7684; &#xFF09;&#xFF0C;&#x6D41;&#x7A0B;&#x662F;&#x4E0B;&#x9762;&#x8FD9;&#x6837;:</p><p><img src="/posts/5921316d/content.png" alt=""></p><p>&#x800C;&#x4F7F;&#x7528;&#x6B65;&#x9AA4;&#x662F;&#xFF0C;&#x628A;&#x7956;&#x7236;&#x7EC4;&#x4EF6;&#x7528;<code>Provider</code> &#x5305;&#x88F9;&#x8D77;&#x6765;&#xFF0C;&#x628A;&#x5B59;&#x5B50;&#x7EC4;&#x4EF6;<code>Consumer</code> &#x5305;&#x88F9;&#x8D77;&#x6765;&#xFF0C;&#x5177;&#x4F53;&#x6B65;&#x9AA4;&#x5982;&#x4E0B;&#xFF1A;</p><p>1 content &#x662F;react&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x5148;&#x5F15;&#x5165;, content.js&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&apos;react&apos;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> {Provider, Consumer} = React.createContext();</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> {</span><br><span class="line">  Provider, </span><br><span class="line">  Consumer</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>2 TodoWrap.js</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">_handledelete = <span class="function">(<span class="params">index</span>) =&gt;</span> {</span><br><span class="line">    <span class="keyword">const</span> list = [...this.state.list];</span><br><span class="line">    list.splice(index, <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">this</span>.setState({</span><br><span class="line">      list</span><br><span class="line">    });</span><br><span class="line">  }; </span><br><span class="line"></span><br><span class="line">render() {</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;Provider value={{ <span class="attr">_handledelete</span>: <span class="keyword">this</span>._handledelete }} &gt;    <span class="comment">//value&#x540D;&#x5B57;&#x662F;&#x56FA;&#x5B9A;&#x7684;</span></span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &lt;input type=<span class="string">&quot;text&quot;</span> ref={<span class="keyword">this</span>.task} /&gt;</span><br><span class="line">          &lt;button onClick={<span class="keyword">this</span>._handleClick}&gt;&#x6DFB;&#x52A0;&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>div&gt;</span><br><span class="line">        &lt;Todolistcomp list={<span class="keyword">this</span>.state.list} fn={<span class="keyword">this</span>._handledelete}/&gt;</span><br><span class="line">      &lt;<span class="regexp">/Provider&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  }</span></span><br></pre></td></tr></tbody></table></figure><p>3 TodoItem.js, consumer&#x4E2D;&#x9700;&#x8981;&#x5199;&#x6210;&#x8FD9;&#x79CD;&#x7BAD;&#x5934;&#x51FD;&#x6570;&#x7684;&#x5F62;&#x5F0F;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, { Component } <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> { Consumer } <span class="keyword">from</span> <span class="string">&quot;./content&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Todoitemcomp</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>{</span><br><span class="line">  _handledelete = <span class="function"><span class="params">index</span> =&gt;</span> {</span><br><span class="line">    <span class="keyword">this</span>.props._handledelete(index);</span><br><span class="line">  };</span><br><span class="line">  render() {</span><br><span class="line">    <span class="keyword">const</span> { task, index } = <span class="keyword">this</span>.props;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;Consumer&gt;</span><br><span class="line">        {({ _handledelete}) =&gt; (</span><br><span class="line">          &lt;li&gt;</span><br><span class="line">            {task}</span><br><span class="line">            &lt;button onClick={() =&gt; _handledelete(index)}&gt;X&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">          &lt;/</span>li&gt;</span><br><span class="line">        )}</span><br><span class="line">      &lt;<span class="regexp">/Consumer&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  }</span></span><br><span class="line"><span class="regexp">}</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default Todoitemcomp;</span></span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;这次是用TodoList来总结一些react中的点，如vue中的v-model在react中要怎么做，组件之间怎么传值，属性校验等&lt;/p&gt;
    
    </summary>
    
    
      <category term="react" scheme="https://orange-way.github.io/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>react入门</title>
    <link href="https://orange-way.github.io//posts/6e179f43/"/>
    <id>https://orange-way.github.io//posts/6e179f43/</id>
    <published>2019-02-01T02:45:19.000Z</published>
    <updated>2019-04-16T02:44:02.779Z</updated>
    
    <content type="html"><![CDATA[<p>&#x200B;    &#x5F00;&#x59CB;&#x5B66;&#x4E60;react&#x4E86;&#xFF0C;&#x603B;&#x542C;&#x4EBA;&#x8BF4;react&#x6BD4;vue&#x8981;&#x590D;&#x6742;&#xFF0C;&#x6240;&#x4EE5;&#x5B66;&#x7684;&#x65F6;&#x5019;&#x603B;&#x628A;&#x4E24;&#x4E2A;&#x6846;&#x67B6;&#x5B9E;&#x73B0;&#x540C;&#x4E00;&#x4E2A;&#x529F;&#x80FD;&#x7684;&#x65B9;&#x5F0F;&#x5BF9;&#x6BD4;&#xFF0C;&#x55EF;&#xFF0C;&#x786E;&#x5B9E;&#x89C9;&#x5F97;vue&#x7B80;&#x5355;&#x4E00;&#x70B9;&#x54C8;&#x54C8;&#x54C8;&#xFF01;&#x597D;&#x4E86;&#xFF0C;&#x5F00;&#x59CB;&#x8BB0;&#x5F55;react&#x7684;&#x5B66;&#x4E60;&#x603B;&#x7ED3;&#xFF0C;&#x5F88;&#x611F;&#x8C22;<a href="http://huziketang.mangojuice.top/books/react/" target="_blank" rel="noopener">react &#x5C0F;&#x4E66;</a>, &#x6211;&#x89C9;&#x5F97;&#x5199;&#x7684;&#x5F88;&#x597D;<a id="more"></a></p><p>&#x200B;        </p><h4 id="&#x5B89;&#x88C5;&#x3001;&#x521B;&#x5EFA;react&#x9879;&#x76EE;"><a href="#&#x5B89;&#x88C5;&#x3001;&#x521B;&#x5EFA;react&#x9879;&#x76EE;" class="headerlink" title="&#x5B89;&#x88C5;&#x3001;&#x521B;&#x5EFA;react&#x9879;&#x76EE;"></a>&#x5B89;&#x88C5;&#x3001;&#x521B;&#x5EFA;react&#x9879;&#x76EE;</h4><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x9996;&#x5148;&#x786E;&#x4FDD;&#x5B89;&#x88C5;&#x4E86;node&#x548C;npm</span><br><span class="line">npm install -g create-react-app  //&#x5B89;&#x88C5;create-react-app &#x547D;&#x4EE4;&#xFF0C;&#x8FD9;&#x4E2A;&#x662F;&#x7528;&#x6765;&#x521B;&#x5EFA;react&#x9879;&#x76EE;&#x7684;</span><br><span class="line">create-react-app react-pritice   //&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;react-pritice&#x7684;react&#x9879;&#x76EE;</span><br><span class="line"><span class="built_in">cd</span> react-pritice                 //&#x8FDB;&#x5165;&#x8FD9;&#x4E2A;&#x9879;&#x76EE;&#x91CC;</span><br><span class="line">npm start                        //&#x542F;&#x52A8;&#x9879;&#x76EE;&#xFF0C;&#x9879;&#x76EE;&#x8FD0;&#x884C;&#x8D77;&#x6765;&#x4E86;</span><br></pre></td></tr></tbody></table></figure><h4 id="JSX&#x8BED;&#x6CD5;"><a href="#JSX&#x8BED;&#x6CD5;" class="headerlink" title="JSX&#x8BED;&#x6CD5;"></a>JSX&#x8BED;&#x6CD5;</h4><p>&#x8FD9;&#x4E2A;&#x90E8;&#x5206;&#x770B;<a href="http://huziketang.mangojuice.top/books/react/lesson6" target="_blank" rel="noopener">react &#x5C0F;&#x4E66;</a>, &#x770B;&#x5B83;&#x5C31;&#x61C2;&#x4E86;&#xFF0C;&#x5176;&#x4E2D;&#x8BF4;react&#x4E3A;&#x4E86;&#x80FD;&#x76F4;&#x63A5;&#x5728;js&#x4E2D;&#x5199;html&#xFF0C;&#x6240;&#x4EE5;&#x6269;&#x5C55;&#x4E86;js&#x7136;&#x540E;&#x6210;&#x4E86;jsx&#xFF0C;  <strong>JSX &#x5176;&#x5B9E;&#x5C31;&#x662F; JavaScript &#x5BF9;&#x8C61;</strong>&#xFF0C;&#x770B;&#x5B8C;&#x8FD9;&#x90E8;&#x5206;&#x6211;&#x7684;&#x7406;&#x89E3;&#x662F;&#xFF0C;jsx&#x4EA7;&#x751F;&#x7684;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x4E0A;&#x6709;&#x4E09;&#x4E2A;&#x5C5E;&#x6027;&#xFF0C;&#x5206;&#x522B;&#x662F; tags&#x3001;attr&#x3001;children&#xFF0C;&#x7136;&#x540E;&#x901A;&#x8FC7;ReactDom.render()&#x6E32;&#x67D3;&#x51FA;dom&#xFF0C;&#x7136;&#x540E;&#x63D2;&#x5165;&#x9875;&#x9762;</p><p>&#x200B;                    </p><h4 id="&#x51FD;&#x6570;&#x7EC4;&#x4EF6;&#x548C;&#x7C7B;&#x7EC4;&#x4EF6;"><a href="#&#x51FD;&#x6570;&#x7EC4;&#x4EF6;&#x548C;&#x7C7B;&#x7EC4;&#x4EF6;" class="headerlink" title="&#x51FD;&#x6570;&#x7EC4;&#x4EF6;&#x548C;&#x7C7B;&#x7EC4;&#x4EF6;"></a>&#x51FD;&#x6570;&#x7EC4;&#x4EF6;&#x548C;&#x7C7B;&#x7EC4;&#x4EF6;</h4><p>&#x51FD;&#x6570;&#x7EC4;&#x4EF6;&#xFF1A;&#x5BF9;&#x6BD4;&#x7C7B;&#x7EC4;&#x4EF6;&#xFF0C;&#x63A5;&#x6536;props&#xFF0C;&#x53EA;&#x7528;&#x6765;&#x5C55;&#x793A;&#x9875;&#x9762;&#xFF0C;&#x6CA1;&#x6709;this&#xFF0C;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;&#x751F;&#x547D;&#x5468;&#x671F;</p><p>&#x7C7B;&#x7EC4;&#x4EF6;&#xFF1A;this &#x3001;&#x751F;&#x547D;&#x5468;&#x671F;&#x7B49;&#x90FD;&#x662F;&#x6709;&#x7684;</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">import React, {Component} from &apos;react&apos;</span><br><span class="line"></span><br><span class="line">//&#x51FD;&#x6570;&#x7EC4;&#x4EF6;&#xFF1A;</span><br><span class="line">function FuncComp(props)  {</span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;&#x65E5;&#x671F;&#xFF1A;{props.date}&lt;/p&gt;</span><br><span class="line">      &lt;p&gt;&#x5929;&#x6C14;&#xFF1A;{props.weather}&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  )</span><br><span class="line">}</span><br><span class="line">//&#x7C7B;&#x7EC4;&#x4EF6;</span><br><span class="line">class LeiComp extends Component{</span><br><span class="line">  state = {</span><br><span class="line">    date: &apos;2019-1-1&apos;,</span><br><span class="line">    weather: &apos;&#x6674;&apos;</span><br><span class="line">  }</span><br><span class="line">  render () {</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h2&gt;&#x5177;&#x4F53;&#x7684;&#x4FE1;&#x606F;&#x5982;&#x4E0B;&#xFF1A;&lt;/h2&gt;</span><br><span class="line">        &lt;FuncComp date={this.state.date} weather={this.state.weather}&gt;&lt;/FuncComp&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">export default LeiComp</span><br></pre></td></tr></tbody></table></figure><p>&#x672C;&#x6B21;&#x603B;&#x7ED3;&#x5230;&#x8FD9;&#x91CC;&#xFF0C;&#x5176;&#x4ED6;&#x7684;&#x7528;&#x4E00;&#x4E2A;Todolist&#x7684;&#x5C0F;&#x7EC3;&#x4E60;&#x6765;&#x603B;&#x7ED3;</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;​    开始学习react了，总听人说react比vue要复杂，所以学的时候总把两个框架实现同一个功能的方式对比，嗯，确实觉得vue简单一点哈哈哈！好了，开始记录react的学习总结，很感谢&lt;a href=&quot;http://huziketang.mangojuice.top/books/react/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;react 小书&lt;/a&gt;, 我觉得写的很好&lt;/p&gt;
    
    </summary>
    
    
      <category term="react" scheme="https://orange-way.github.io/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>vue 中 input 的使用</title>
    <link href="https://orange-way.github.io//posts/270b770c/"/>
    <id>https://orange-way.github.io//posts/270b770c/</id>
    <published>2019-01-26T03:37:09.000Z</published>
    <updated>2019-04-16T02:41:37.125Z</updated>
    
    <content type="html"><![CDATA[<p>vue &#x4E2D; &#x5BF9; input &#x5305;&#x88C5;&#x4E86;&#x4E00;&#x4E9B;&#x65B9;&#x6CD5;&#xFF0C;&#x6709;&#x4E00;&#x4E9B;&#x5F88;&#x65B9;&#x4FBF;&#xFF0C;&#x5982;<code>v-model</code>  &#x53CC;&#x5411;&#x6570;&#x636E;&#x7ED1;&#x5B9A;&#xFF0C;&#x8FD8;&#x6709; <code>v-on:input</code>, &#x4E5F;&#x53EF;&#x4EE5;&#x5199;&#x6210;<code>@input</code> &#xFF0C;&#x800C; <code>v-model = &apos;inpVal&apos;</code> &#x884C;&#x4E3A;&#x7C7B;&#x4F3C;&#x4E8E; <code>@input=&apos;inpVal=$event.target.value&apos;</code>  <a id="more"></a></p><p>&#x200B;                    </p><h4 id="input-&#x57FA;&#x672C;&#x77E5;&#x8BC6;"><a href="#input-&#x57FA;&#x672C;&#x77E5;&#x8BC6;" class="headerlink" title="input &#x57FA;&#x672C;&#x77E5;&#x8BC6;"></a>input &#x57FA;&#x672C;&#x77E5;&#x8BC6;</h4><p>&#x5047;&#x8BBE;&#x662F;&#x505A;&#x641C;&#x7D22;&#x6548;&#x679C;&#xFF0C;&#x82E5;&#x662F;&#x68C0;&#x6D4B;&#x5230; input &#x6709;&#x8F93;&#x5165;&#x5C31;&#x641C;&#x7D22;&#xFF0C;&#x90A3;&#x53EF;&#x4EE5;&#x91C7;&#x7528;&#x4E0B;&#x9762;&#x8FD9;&#x79CD;&#xFF0C;&#x76D1;&#x542C; v-model &#x7684;&#x53D8;&#x5316;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">&quot;text&quot;</span> placeholder=<span class="string">&quot;&#x641C;&#x7D22;&quot;</span> v-model=<span class="string">&quot;inputValue&quot;</span> @focus=<span class="string">&quot;hwSearchFocus($event)&quot;</span></span><br><span class="line">  @blur.prevent=<span class="string">&quot;hwLostFocus()&quot;</span> @keyup.enter=<span class="string">&quot;searchAllClick&quot;</span>&gt;</span><br></pre></td></tr></tbody></table></figure><p>&#x82E5;&#x662F;&#x68C0;&#x6D4B;&#x5230;&#x952E;&#x76D8;&#x6709;&#x6240;&#x53D8;&#x5316;&#x5C31;&#x641C;&#x7D22;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x91C7;&#x7528;&#x4E0B;&#x9762;&#x8FD9;&#x79CD;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">&quot;text&quot;</span> @keyup.enter=<span class="string">&quot;enterToSearch&quot;</span> @blur=<span class="string">&quot;lostFocus&quot;</span> @keyup=<span class="string">&quot;searchInput&quot;</span> @keydown=<span class="string">&quot;searchClear&quot;</span>&gt;</span><br></pre></td></tr></tbody></table></figure><p>1 @keyup&#xFF1A;&#x76D1;&#x542C;&#x952E;&#x76D8;&#x7684;&#x52A8;&#x5411;&#xFF0C;&#x54EA;&#x6015;&#x6B64;&#x65F6;&#x6CA1;&#x6709;&#x8F93;&#x5165;&#x5230;input&#x4E2D;</p><p>2 @keyup.enter&#xFF1A;&#x56DE;&#x8F66;&#x4E8B;&#x4EF6;</p><p>3 @focus&#xFF1A;input &#x6846;&#x83B7;&#x5F97;&#x7126;&#x70B9;</p><p>4 @blur&#xFF1A;input &#x6846;&#x5931;&#x53BB;&#x7126;&#x70B9;</p><p>5 v-model&#xFF1A;input &#x6846;&#x6570;&#x636E;&#x53CC;&#x5411;&#x7ED1;&#x5B9A;&#xFF0C;&#x53EF;&#x4EE5;&#x5728; watch &#x4E2D;&#x68C0;&#x6D4B;&#x5230; input &#x7684; value &#x7684;&#x53D8;&#x5316;</p><p>6 @input&#xFF1A;&#x76D1;&#x542C; input &#x4E2D;&#x7684; value &#x7684;&#x53D8;&#x5316;</p><p>&#x7EFC;&#x4E0A;&#xFF1A;&#x5982;&#x679C;&#x5728;&#x505A;&#x641C;&#x7D22;&#x6846;&#x65F6;&#xFF0C;&#x8981;&#x6C42;&#x952E;&#x76D8;&#x53EA;&#x8981;&#x6709;&#x53D8;&#x5316;&#x5C31;&#x641C;&#x7D22;&#x90A3;&#x5C31;&#x91C7;&#x7528;&#x952E;&#x76D8;&#x7684;&#x76D1;&#x542C;&#x4E8B;&#x4EF6;keyup&#xFF0C;&#x8981;&#x662F;&#x8981;&#x6C42;input&#x7684;&#x503C;&#x6709;&#x53D8;&#x5316;&#x624D;&#x641C;&#x7D22;&#xFF0C;&#x90A3;&#x5C31;&#x91C7;&#x7528;@input&#x6216;&#x662F;&#x5728;watch&#x4E2D;&#x76D1;&#x63A7;v-model</p><p>&#x200B;                </p><h4 id="&#x641C;&#x7D22;&#x6846;"><a href="#&#x641C;&#x7D22;&#x6846;" class="headerlink" title="&#x641C;&#x7D22;&#x6846;"></a>&#x641C;&#x7D22;&#x6846;</h4><p>&#x73B0;&#x5728;&#x8981;&#x6C42;&#x4E00;&#x4E2A;&#x641C;&#x7D22;&#x6846;&#xFF0C;&#x5F53;&#x641C;&#x7D22;&#x6846;&#x6709;&#x7126;&#x70B9;&#x4F46;&#x6846;&#x5185;&#x6CA1;&#x6709;&#x5185;&#x5BB9;&#x65F6;&#x663E;&#x793A;&#x70ED;&#x95E8;&#x641C;&#x7D20;&#xFF0C;&#x5728;&#x641C;&#x7D22;&#x6846;&#x7684;&#x503C;&#x6709;&#x53D8;&#x5316;&#x4E14;&#x6709;&#x503C;&#x65F6;&#x53BB;&#x641C;&#x7D22;&#x6570;&#x636E;&#xFF0C;&#x641C;&#x7D22;&#x51FA;&#x7684;&#x5185;&#x5BB9;&#x663E;&#x793A;&#x5728;&#x4E0B;&#x9762;&#xFF0C;&#x5E76;&#x628A;&#x5F53;&#x524D;&#x641C;&#x7D22;&#x503C;&#x53D8;&#x5170;&#x8272;</p><p><img src="/posts/270b770c/one.png" alt="">    <img src="/posts/270b770c/two.png" alt=""></p><p>&#x8FD9;&#x91CC;&#x91C7;&#x7528;&#x5728; watch &#x4E2D;&#x76D1;&#x542C; v-model &#x7684;&#x503C;&#x5F97;&#x65B9;&#x5F0F;</p><p>input&#x6846;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">&quot;text&quot;</span> placeholder=<span class="string">&quot;&#x641C;&#x7D22;&#x97F3;&#x4E50;&#x3001;&#x6B4C;&#x5355;&#x3001;&#x4E13;&#x8F91;&#x3001;&#x6B4C;&#x624B;&quot;</span> v-model=<span class="string">&quot;inputValue&quot;</span> @focus=<span class="string">&quot;hwSearchFocus($event)&quot;</span></span><br><span class="line">@blur.prevent=<span class="string">&quot;hwLostFocus()&quot;</span> </span><br><span class="line">@keyup.enter=<span class="string">&quot;searchAllClick&quot;</span>&gt;</span><br><span class="line"> </span><br><span class="line">&lt;!-- &#x641C;&#x7D22;&#x5185;&#x5BB9;: input&#x6709;&#x503C; --&gt;</span><br><span class="line">&lt;div ref=<span class="string">&quot;hwSearShow&quot;</span>&gt;&#x641C;&#x7D22;&#x5185;&#x5BB9;&#x663E;&#x793A;&lt;<span class="regexp">/div&gt;   </span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;!-- &#x641C;&#x7D22;&#x5185;&#x5BB9;&#xFF1A;input&#x5185;&#x5BB9;&#x4E3A;&#x7A7A; --&gt;</span></span><br><span class="line"><span class="regexp">&lt;div ref=&quot;hwSearShowNull&quot;&gt;&#x70ED;&#x95E8;&#x641C;&#x7D22;&lt;/</span>div&gt;</span><br></pre></td></tr></tbody></table></figure><p>&#x5F53;&#x83B7;&#x5F97;&#x7126;&#x70B9;&#x4F46;&#x65E0;&#x641C;&#x7D22;&#x503C;&#x65F6;&#xFF0C;&#x76D1;&#x542C; focus &#x65B9;&#x6CD5;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">hwSearchFocus(e) {</span><br><span class="line">     <span class="keyword">if</span> (<span class="keyword">this</span>.inputValue) {</span><br><span class="line">       </span><br><span class="line">     } <span class="keyword">else</span> {</span><br><span class="line">       <span class="keyword">this</span>.historyResult();</span><br><span class="line">     }</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">&apos;focus&apos;</span>);</span><br><span class="line">   },</span><br><span class="line">   historyResult() {</span><br><span class="line">     <span class="comment">//&#x83B7;&#x53D6;&#x70ED;&#x95E8;&#x641C;&#x7D22;</span></span><br><span class="line">     <span class="keyword">this</span>.axios({</span><br><span class="line">       method: <span class="string">&apos;POST&apos;</span>,</span><br><span class="line">       url: <span class="keyword">this</span>.$store.state.siteStr + <span class="string">&apos;WEB&apos;</span></span><br><span class="line">     }).then(<span class="function"><span class="params">res</span> =&gt;</span> {</span><br><span class="line">       <span class="keyword">if</span> (res.data.errCode === <span class="string">&apos;0001&apos;</span>) {</span><br><span class="line">         <span class="keyword">this</span>.hwSearchNull = res.data.data.hotSongs.splice(<span class="number">0</span>, <span class="number">5</span>);</span><br><span class="line">         <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) {</span><br><span class="line">           <span class="keyword">this</span>.hwSearchNull[i].searchedTimes = <span class="keyword">this</span>.hwSearchNull[i].searchedTimes &gt; <span class="number">9999</span> ? <span class="built_in">Math</span>.floor(<span class="keyword">this</span>.hwSearchNull[</span><br><span class="line">             i].searchedTimes / <span class="number">10000</span> * <span class="number">10</span>) / <span class="number">10</span> + <span class="string">&apos;&#x4E07;&apos;</span> : num</span><br><span class="line">         }</span><br><span class="line">       }</span><br><span class="line">     }).catch(<span class="function"><span class="params">err</span> =&gt;</span> {</span><br><span class="line">       <span class="built_in">console</span>.log(err)</span><br><span class="line">     })</span><br><span class="line">       </span><br><span class="line">     <span class="keyword">this</span>.$refs.hwSearShowNull.style.display = <span class="string">&apos;inline-block&apos;</span>;</span><br><span class="line">   },</span><br></pre></td></tr></tbody></table></figure><p>&#x5F53;&#x641C;&#x7D22;&#x6709;&#x7126;&#x70B9;&#xFF0C;&#x4E14;&#x6709;&#x8F93;&#x5165;&#x65F6;, &#x663E;&#x793A;&#x641C;&#x7D22;&#x5185;&#x5BB9;&#x5E76;&#x628A;&#x641C;&#x7D22;&#x8BCD;&#x53D8;&#x5170;&#x8272;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">hwSearchFocus(e) {</span><br><span class="line">     <span class="keyword">this</span>.inputLostFocusBool = <span class="string">&apos;&apos;</span>;</span><br><span class="line">     <span class="keyword">if</span> (<span class="keyword">this</span>.inputValue) {</span><br><span class="line">       <span class="keyword">this</span>.querySearchResult(<span class="keyword">this</span>.inputValue);</span><br><span class="line">       <span class="keyword">this</span>.$refs.hwSearShow.style.display = <span class="string">&quot;inline-block&quot;</span>;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">this</span>.searchKNullShowBool = <span class="string">&apos;&apos;</span>;</span><br><span class="line">       <span class="keyword">this</span>.$refs.hwSearShowNull.style.display = <span class="string">&apos;none&apos;</span>;</span><br><span class="line">     } <span class="keyword">else</span> {</span><br><span class="line">       <span class="keyword">this</span>.historyResult();</span><br><span class="line">     }</span><br><span class="line">   },</span><br><span class="line">       </span><br><span class="line">   <span class="comment">//&#x641C;&#x7D22;&#x7ED3;&#x679C;</span></span><br><span class="line">   querySearchResult(newVal) {</span><br><span class="line">     <span class="keyword">this</span>.unformatSongName = [];</span><br><span class="line">     <span class="keyword">this</span>.axios({</span><br><span class="line">       method: <span class="string">&quot;POST&quot;</span>,</span><br><span class="line">       url: <span class="keyword">this</span>.$store.state.siteStr + <span class="string">&quot;WEB&quot;</span>,</span><br><span class="line">       data: <span class="keyword">this</span>.qs.stringify({</span><br><span class="line">         searchName: newVal,</span><br><span class="line">         num: <span class="number">5</span></span><br><span class="line">       })</span><br><span class="line">     }).then(<span class="function"><span class="params">res</span> =&gt;</span> {</span><br><span class="line">       <span class="keyword">this</span>.$refs.hwSearShow.style.display = <span class="string">&quot;inline-block&quot;</span>;</span><br><span class="line">       <span class="comment">//*&#x641C;&#x7D22;&#x8BCD;&#x6B63;&#x5219;</span></span><br><span class="line">       <span class="keyword">this</span>.reg = <span class="built_in">eval</span>(<span class="string">&quot;/(&quot;</span> + newVal + <span class="string">&quot;)/gi&quot;</span>);</span><br><span class="line">       <span class="keyword">this</span>.searchInfo = res.data.data;</span><br><span class="line">       <span class="comment">//&#x6B4C;&#x66F2;</span></span><br><span class="line">       <span class="keyword">if</span> (<span class="keyword">this</span>.searchInfo.SongListInfo.length &gt; <span class="number">0</span>) {</span><br><span class="line">         <span class="keyword">this</span>.$refs.serachSongEle.style.display = <span class="string">&quot;block&quot;</span>;</span><br><span class="line">         <span class="keyword">this</span>.hwSearchSong = <span class="keyword">this</span>.searchInfo.SongListInfo;</span><br><span class="line">         <span class="keyword">if</span> (<span class="keyword">this</span>.hwSearchSong.length === <span class="number">1</span>) {</span><br><span class="line">           <span class="keyword">this</span>.songN = <span class="number">1</span>;</span><br><span class="line">         } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.hwSearchSong.length &lt; <span class="number">4</span>) {</span><br><span class="line">           <span class="keyword">this</span>.songN = <span class="keyword">this</span>.hwSearchSong.length;</span><br><span class="line">         } <span class="keyword">else</span> {</span><br><span class="line">           <span class="keyword">this</span>.songN = <span class="number">4</span>;</span><br><span class="line">         }</span><br><span class="line">         <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.songN; i++) {</span><br><span class="line">           <span class="keyword">this</span>.unformatSongName.push(<span class="keyword">this</span>.hwSearchSong[i].songName);</span><br><span class="line">           <span class="keyword">this</span>.songNameArr = <span class="keyword">this</span>.hwSearchSong[i].songName.split(<span class="keyword">this</span>.reg);</span><br><span class="line">           <span class="keyword">this</span>.hwSearchSong[i].songNameF = <span class="keyword">this</span>.songNameArr;</span><br><span class="line">         }</span><br><span class="line">       } <span class="keyword">else</span> {</span><br><span class="line">         <span class="keyword">this</span>.$refs.serachSongEle.style.display = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">       }</span><br><span class="line">     }).catch(<span class="function"><span class="params">err</span> =&gt;</span> {</span><br><span class="line">       <span class="built_in">console</span>.log(err);</span><br><span class="line">     });</span><br><span class="line">   },</span><br></pre></td></tr></tbody></table></figure><p>&#x5F53;input &#x5931;&#x53BB;&#x7126;&#x70B9;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  &#x641C;&#x7D22;&#x6846;&#x5931;&#x53BB;&#x7126;&#x70B9;&#x65F6;, &#x9690;&#x85CF;&#x70ED;&#x95E8;&#x641C;&#x7D22;div &#x548C; &#x641C;&#x7D20;&#x5185;&#x5BB9;div</span></span><br><span class="line">   hwLostFocus(e) {</span><br><span class="line">     <span class="keyword">if</span> ((<span class="keyword">this</span>.searchKShowBool === <span class="string">&apos;&apos;</span>) &amp;&amp; (<span class="keyword">this</span>.searchKNullShowBool === <span class="string">&apos;&apos;</span>)) {</span><br><span class="line">       <span class="keyword">this</span>.$refs.hwSearShow.style.display = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">       <span class="keyword">this</span>.$refs.hwSearShowNull.style.display = <span class="string">&apos;none&apos;</span>;</span><br><span class="line">     }</span><br><span class="line">     <span class="keyword">this</span>.inputLostFocusBool = <span class="literal">true</span>;</span><br><span class="line">   },</span><br></pre></td></tr></tbody></table></figure><p>&#x5B9E;&#x65F6;&#x76D1;&#x542C;input&#x7684;&#x503C;&#x5F97;&#x53D8;&#x5316;&#xFF0C;&#x8FD9;&#x91CC;&#x8981;&#x6CE8;&#x610F;&#x5F53;&#x6211;&#x9010;&#x4E2A;&#x51CF;&#x5C11;input&#x7684;&#x5185;&#x5BB9;&#x65F6;&#xFF0C;&#x662F;&#x53EF;&#x4EE5;&#x8FBE;&#x5230;input&#x6709;&#x7126;&#x70B9;&#x4E14;&#x65E0;&#x641C;&#x7D22;&#x503C;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x6240;&#x4EE5;&#x4E5F;&#x8981;&#x6CE8;&#x610F;&#x8FD9;&#x70B9;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">watch: {</span><br><span class="line">   inputValue(newVal, oldVal) {</span><br><span class="line">     <span class="keyword">this</span>.searchResultBool = <span class="string">&apos;&apos;</span>;</span><br><span class="line">     <span class="keyword">if</span> (newVal === <span class="string">&quot;&quot;</span>) {</span><br><span class="line">       <span class="keyword">this</span>.searchKShowBool = <span class="string">&apos;&apos;</span>;</span><br><span class="line">       <span class="keyword">this</span>.$refs.hwSearShow.style.display = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">       <span class="keyword">this</span>.historyResult();</span><br><span class="line">       <span class="keyword">return</span>;</span><br><span class="line">     }</span><br><span class="line">     <span class="keyword">this</span>.querySearchResult(newVal);</span><br><span class="line">     <span class="keyword">this</span>.searchKNullShowBool = <span class="string">&apos;&apos;</span>;</span><br><span class="line">     <span class="keyword">this</span>.$refs.hwSearShowNull.style.display = <span class="string">&apos;none&apos;</span>;</span><br><span class="line">   },</span><br><span class="line"> },</span><br></pre></td></tr></tbody></table></figure><p>&#x200B;                    </p><h4 id="&#x6027;&#x522B;&#x9009;&#x62E9;"><a href="#&#x6027;&#x522B;&#x9009;&#x62E9;" class="headerlink" title="&#x6027;&#x522B;&#x9009;&#x62E9;"></a>&#x6027;&#x522B;&#x9009;&#x62E9;</h4><p>&#x6709;&#x65F6;&#x4F1A;&#x7528;&#x5230;&#x7528;&#x6237;&#x6027;&#x522B;&#x9009;&#x62E9;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x8FD9;&#x91CC;&#x5B9E;&#x73B0;&#x4E0B;&#x8FD9;&#x4E2A;&#x5C0F;&#x529F;&#x80FD;</p><p><img src="/posts/270b770c/three.png" alt=""></p><p>&#x53EF;&#x4EE5;&#x7528; input radio &#x6765;&#x5B9E;&#x73B0;&#xFF08;&#x6216;&#x8005;&#x7528;v-for &#x548C; v-model &#x6765;&#x914D;&#x5408;&#x4F7F;&#x7528;&#xFF09;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">&quot;radio&quot;</span> name=<span class="string">&quot;sexSelect&quot;</span>&gt;&#x7537;</span><br><span class="line">&lt;input type=<span class="string">&quot;radio&quot;</span> name=<span class="string">&quot;sexSelect&quot;</span>&gt;&#x5973;</span><br><span class="line">&lt;input type=<span class="string">&quot;radio&quot;</span> name=<span class="string">&quot;sexSelect&quot;</span>&gt;&#x4FDD;&#x5BC6;</span><br></pre></td></tr></tbody></table></figure><p>&#x4F46;&#x73B0;&#x5728;&#x84DD;&#x6E56;&#x4E0A;&#x5728;&#x5706;&#x70B9;&#x548C;&#x6027;&#x522B;&#x4E2D;&#x95F4;&#x6709;&#x4E00;&#x4E9B;&#x8DDD;&#x79BB;&#xFF0C;&#x7136;&#x540E;&#x6682;&#x65F6;&#x6CA1;&#x627E;&#x5230;&#x8C03;&#x8FD9;&#x4E2A;&#x8DDD;&#x79BB;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x5728;&#x8FD9;&#x91CC;&#x5957;&#x4E86;&#x4E00;&#x4E2A;span&#xFF0C;&#x4F46;&#x76EE;&#x524D;&#x4E0D;&#x77E5;&#x9053;&#x5BF9;&#x4E0D;&#x5BF9;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">sexSelected: [{</span><br><span class="line">          value: <span class="string">&apos;&#x7537;&apos;</span>,</span><br><span class="line">          ischeck: <span class="literal">false</span></span><br><span class="line">        }, {</span><br><span class="line">          value: <span class="string">&apos;&#x5973;&apos;</span>,</span><br><span class="line">          ischeck: <span class="literal">true</span></span><br><span class="line">        }, {</span><br><span class="line">          value: <span class="string">&apos;&#x4FDD;&#x5BC6;&apos;</span>,</span><br><span class="line">          ischeck: <span class="literal">false</span></span><br><span class="line">        }],</span><br><span class="line"></span><br><span class="line">&lt;input type=<span class="string">&quot;radio&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;perMsgChange-sexI&quot;</span> name=<span class="string">&quot;sexSelect&quot;</span> :checked=<span class="string">&quot;sexSelected[0].ischeck&quot;</span> @change=<span class="string">&quot;sexChange(0)&quot;</span>&gt;<span class="xml"><span class="tag">&lt;<span class="name">span</span></span></span></span><br><span class="line"><span class="xml">              class=&quot;perMsgChange-sexSelName&quot;&gt;&#x7537;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">            &lt;input type=<span class="string">&quot;radio&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;perMsgChange-sexI&quot;</span> name=<span class="string">&quot;sexSelect&quot;</span> :checked=<span class="string">&quot;sexSelected[1].ischeck&quot;</span> @change=<span class="string">&quot;sexChange(1)&quot;</span>&gt;<span class="xml"><span class="tag">&lt;<span class="name">span</span></span></span></span><br><span class="line"><span class="xml">              class=&quot;perMsgChange-sexSelName&quot;&gt;&#x5973;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">            &lt;input type=<span class="string">&quot;radio&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;perMsgChange-sexI&quot;</span> name=<span class="string">&quot;sexSelect&quot;</span> :checked=<span class="string">&quot;sexSelected[2].ischeck&quot;</span> @change=<span class="string">&quot;sexChange(2)&quot;</span>&gt;<span class="xml"><span class="tag">&lt;<span class="name">span</span></span></span></span><br><span class="line"><span class="xml">              class=&quot;perMsgChange-sexSelName&quot;&gt;&#x4FDD;&#x5BC6;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//&#x6027;&#x522B;&#x9009;&#x62E9;</span></span><br><span class="line">      sexChange(ind) {</span><br><span class="line">        <span class="keyword">this</span>.nowSexInd = ind;</span><br><span class="line">        <span class="keyword">this</span>.sexOrigin(ind)</span><br><span class="line">      },</span><br><span class="line"><span class="comment">//&#x521D;&#x59CB;&#x5316; &#x6027;&#x522B;</span></span><br><span class="line">      sexOrigin(num) {</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) {</span><br><span class="line">          <span class="keyword">this</span>.sexSelected[i].ischeck = <span class="literal">false</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">this</span>.sexSelected[num].ischeck = <span class="literal">true</span>;</span><br><span class="line">      },</span><br><span class="line"><span class="comment">//&#x83B7;&#x53D6;&#x5F53;&#x524D;&#x9009;&#x62E9;&#x7684;&#x6027;&#x522B;</span></span><br><span class="line">      <span class="keyword">this</span>.sexStr = <span class="keyword">this</span>.sexSelected[<span class="keyword">this</span>.nowSexInd].value;</span><br></pre></td></tr></tbody></table></figure><p>&#x4F46;&#x5957;&#x4E86;span&#x540E;&#x53D1;&#x73B0;&#xFF0C;&#x5F53;&#x9009;&#x4E2D;&#x67D0;&#x4E2A; input &#x65F6;&#x5E76;&#x4E0D;&#x80FD;&#x6839;&#x636E;ischeck&#x7684;value &#x7B49;&#x65B9;&#x5F0F;&#x83B7;&#x53D6;&#x5230;&#x503C;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#xFF0C;&#x7136;&#x540E;&#x53BB;&#x6539;&#x53D8;&#x8FD9;&#x4E2A;&#x6570;&#x7EC4;&#x4E2D;&#x7684;&#x503C;</p><p>&#x200B;                    </p><h4 id="&#x4E0E;label&#x914D;&#x5408;&#x4E0A;&#x4F20;&#x56FE;&#x7247;"><a href="#&#x4E0E;label&#x914D;&#x5408;&#x4E0A;&#x4F20;&#x56FE;&#x7247;" class="headerlink" title="&#x4E0E;label&#x914D;&#x5408;&#x4E0A;&#x4F20;&#x56FE;&#x7247;"></a>&#x4E0E;label&#x914D;&#x5408;&#x4E0A;&#x4F20;&#x56FE;&#x7247;</h4><p>&#x5BF9;&#x4E8E;&#x4E0A;&#x4F20;&#x56FE;&#x7247;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#xFF0C;&#x53EF;&#x4EE5;&#x7528; input &#x548C; label &#x914D;&#x5408;</p><p><img src="/posts/270b770c/four.png" alt=""></p><p>&#x8FD9;&#x91CC;&#x53EA;&#x5199;&#x90E8;&#x5206;&#x7ED3;&#x6784;&#xFF0C;&#x7ED9;label&#x8BBE;&#x7F6E;for&#x5C5E;&#x6027;&#xFF0C;&#x6307;&#x5411;input&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//html</span></span><br><span class="line">  &lt;label <span class="keyword">for</span>=<span class="string">&quot;upsongImg&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;perCont-myWorks-addImgL&quot;</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line">      &lt;input id=<span class="string">&quot;upsongImg&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;perCont-myWorks-addImgI&quot;</span> type=<span class="string">&quot;file&quot;</span> accept=<span class="string">&quot;image/JPG, image/png, image/JPEG&quot;</span> ref=<span class="string">&quot;inp&quot;</span></span><br><span class="line">        @change=<span class="string">&quot;songImg&quot;</span>&gt;</span><br></pre></td></tr></tbody></table></figure><p>&#x5C06;input &#x8BBE;&#x7F6E;left&#xFF1A;-9999px&#xFF0C;&#x8FBE;&#x5230;&#x5728;&#x9875;&#x9762;&#x4E0A;&#x770B;&#x4E0D;&#x5230;&#x7684;&#x6548;&#x679C;&#xFF1A;</p><figure class="highlight scss"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.perCont-myWorks-addImgL</span> {</span><br><span class="line">     <span class="attribute">position</span>: absolute;</span><br><span class="line">     <span class="attribute">top</span>: <span class="number">0px</span>;</span><br><span class="line">     <span class="attribute">right</span>: <span class="number">0px</span>;</span><br><span class="line">     <span class="attribute">bottom</span>: <span class="number">0px</span>;</span><br><span class="line">     <span class="attribute">left</span>: <span class="number">74px</span>;</span><br><span class="line">     <span class="attribute">width</span>: <span class="number">102px</span>;</span><br><span class="line">     <span class="attribute">height</span>: <span class="number">102px</span>;</span><br><span class="line">     <span class="attribute">z-index</span>: <span class="number">10</span>;</span><br><span class="line">     <span class="attribute">cursor</span>: pointer;</span><br><span class="line">     <span class="attribute">margin-bottom</span>: <span class="number">0px</span>;</span><br><span class="line">   }</span><br><span class="line"></span><br><span class="line">   <span class="selector-class">.perCont-myWorks-addImgI</span> {</span><br><span class="line">     <span class="attribute">position</span>: absolute;</span><br><span class="line">     <span class="attribute">left</span>: -<span class="number">9999px</span>;</span><br><span class="line">     <span class="attribute">width</span>: <span class="number">102px</span>;</span><br><span class="line">   }</span><br></pre></td></tr></tbody></table></figure><p>&#x70B9;&#x51FB;label&#xFF0C;&#x9009;&#x62E9;&#x56FE;&#x7247;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//&#x9009;&#x62E9;&#x6B4C;&#x66F2;&#x5C01;&#x9762;</span></span><br><span class="line">      songImg(e) {</span><br><span class="line">        <span class="keyword">let</span> that = <span class="keyword">this</span>;</span><br><span class="line">        <span class="keyword">let</span> file = e.target.files[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">let</span> imgSize = file.size / <span class="number">1024</span>;</span><br><span class="line">        <span class="keyword">let</span> fileName = file.name;</span><br><span class="line">        <span class="keyword">if</span> (imgSize &gt; <span class="number">10240</span>) {</span><br><span class="line">          alert(<span class="string">&quot;&#x8BF7;&#x4E0A;&#x4F20;&#x4E0D;&#x5927;&#x4E8E;10M&#x7684;&#x56FE;&#x7247;&quot;</span>);</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">          <span class="keyword">let</span> render = <span class="keyword">new</span> FileReader();</span><br><span class="line">          render.readAsDataURL(file);</span><br><span class="line">          <span class="comment">//   render.readAsArrayBuffer(file); &#x8BFB;&#x53D6;&#x4E3A;&#x4E8C;&#x8FDB;&#x5236;</span></span><br><span class="line">          <span class="comment">//   render.readAsText(file); &#x8BFB;&#x53D6;&#x4E3A;&#x6587;&#x4EF6;</span></span><br><span class="line">          render.onloadend = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">            <span class="comment">//&#x4E0D;&#x7BA1;&#x4E0A;&#x4F20;&#x6210;&#x529F;&#x4E0E;&#x5426;</span></span><br><span class="line">            that.upSongImg = render.result;</span><br><span class="line">            <span class="comment">//&#x6587;&#x4EF6;&#x540D;&#x663E;&#x793A;</span></span><br><span class="line">            that.$refs.addSongImgEle.style.display = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">            that.$refs.songImgEle.src = that.upSongImg;</span><br><span class="line">            <span class="comment">//&#x5199;&#x4E0A;&#x4F20;&#x7684;axios</span></span><br><span class="line">            that.songimgfile = file;</span><br><span class="line">          };</span><br><span class="line">        }</span><br><span class="line">      },</span><br></pre></td></tr></tbody></table></figure><p>&#x5F53;&#x4E0A;&#x4F20;&#x7684;&#x6587;&#x4EF6;&#x56FE;&#x7247;&#x8F83;&#x591A;&#x6216;&#x662F;&#x8F83;&#x5927;&#x65F6;&#xFF0C;&#x4E0E;&#x540E;&#x53F0;&#x7684;&#x4F20;&#x8F93;&#x91C7;&#x7528; formdata &#x7684;&#x65B9;&#x5F0F;&#x53EF;&#x80FD;&#x66F4;&#x597D;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> paramform = <span class="keyword">new</span> FormData();</span><br><span class="line"></span><br><span class="line">paramform.append(<span class="string">&apos;songimgfile&apos;</span>, <span class="keyword">this</span>.songimgfile);</span><br><span class="line"></span><br><span class="line"><span class="keyword">this</span>.axios({</span><br><span class="line">     method: <span class="string">&quot;post&quot;</span>,</span><br><span class="line">     url: <span class="keyword">this</span>.$store.state.siteStr + <span class="string">&quot;WEB&quot;</span>,</span><br><span class="line">     data: paramform</span><br><span class="line">}).then(<span class="function"><span class="params">res</span> =&gt;</span> {</span><br><span class="line">     <span class="built_in">console</span>.log(res.data);</span><br><span class="line">}).catch(<span class="function"><span class="params">err</span> =&gt;</span> {</span><br><span class="line">     <span class="built_in">console</span>.log(err);</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure><p>&#x4EE5;&#x4E0A;&#x5C31;&#x662F;&#x5229;&#x7528; input &#x548C; label &#x914D;&#x5408;&#x4F7F;&#x7528;&#x4E0A;&#x4F20;&#x56FE;&#x7247;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x7B49;</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;vue 中 对 input 包装了一些方法，有一些很方便，如&lt;code&gt;v-model&lt;/code&gt;  双向数据绑定，还有 &lt;code&gt;v-on:input&lt;/code&gt;, 也可以写成&lt;code&gt;@input&lt;/code&gt; ，而 &lt;code&gt;v-model = &amp;#39;inpVal&amp;#39;&lt;/code&gt; 行为类似于 &lt;code&gt;@input=&amp;#39;inpVal=$event.target.value&amp;#39;&lt;/code&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="VUE" scheme="https://orange-way.github.io/tags/VUE/"/>
    
  </entry>
  
  <entry>
    <title>html, css, js 加载顺序</title>
    <link href="https://orange-way.github.io//posts/717e9804/"/>
    <id>https://orange-way.github.io//posts/717e9804/</id>
    <published>2018-12-29T02:32:28.000Z</published>
    <updated>2019-04-16T02:48:00.802Z</updated>
    
    <content type="html"><![CDATA[<p>&#x6211;&#x4EEC;&#x770B;&#x5230;&#x7684;&#x9875;&#x9762;&#x662F;&#x5DF2;&#x7ECF;&#x7ED8;&#x5236;&#x5B8C;&#x6210;&#x7684;&#xFF0C;html&#xFF0C;css&#xFF0C; js &#x8FD9;&#x4E9B;&#x6587;&#x4EF6;&#x5F53;&#x7136;&#x662F;&#x5DF2;&#x7ECF;&#x52A0;&#x8F7D;&#x5B8C;&#x6210;&#x4E86;&#x7684;&#xFF0C;&#x4F46;&#x8FD9;&#x4E2A;&#x52A0;&#x8F7D;&#x8FC7;&#x7A0B;&#x4E2D;&#x603B;&#x6709;&#x4E2A;&#x52A0;&#x8F7D;&#x7684;&#x5148;&#x540E;&#x987A;&#x5E8F;&#x7684;&#xFF0C;&#x55EF;&#xFF0C;&#x8FD8;&#x662F;&#x5F88;&#x91CD;&#x8981;&#x7684;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x662F;&#x603B;&#x7ED3;&#x8FD9;&#x4E2A;&#x52A0;&#x8F7D;&#x8FC7;&#x7A0B;&#x53CA;&#x987A;&#x5E8F;<a id="more"></a></p><p>&#x200B;                    </p><h4 id="html-css-&#x52A0;&#x8F7D;"><a href="#html-css-&#x52A0;&#x8F7D;" class="headerlink" title="html css &#x52A0;&#x8F7D;"></a>html css &#x52A0;&#x8F7D;</h4><p>&#x5047;&#x8BBE;&#x73B0;&#x5728;&#x6709;&#x4E2A;&#x9875;&#x9762; timeLine.html &#xFF1A;</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>&#x65F6;&#x95F4;&#x7EBF;<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    div {</span></span><br><span class="line"><span class="undefined">      width: 100px;</span></span><br><span class="line"><span class="undefined">      height: 100px;</span></span><br><span class="line"><span class="undefined">      background: blue;</span></span><br><span class="line"><span class="undefined">    }</span></span><br><span class="line"><span class="undefined">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>&#x8FD9;&#x4E2A;&#x9875;&#x9762;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x5B83;&#x7ED8;&#x5236;&#x7684;&#x8FC7;&#x7A0B;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF1A;</p><p>&#x200B;            </p><p><img src="/posts/717e9804/one.png" alt=""></p><p>&#x200B;                    </p><p>&#x200B;    &#x5728;&#x9875;&#x9762;&#x7ED8;&#x5236;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x9075;&#x5B88;&#x7684;&#x662F; &#x6DF1;&#x5EA6;&#x4F18;&#x5148;&#x539F;&#x5219;&#xFF0C;&#x5373;&#x4E00;&#x6761;&#x9053;&#x8D70;&#x5230;&#x9ED1;&#x3002;&#x9996;&#x5148;&#xFF0C;&#x4F1A;&#x5F62;&#x6210;&#x4E00;&#x4E2A; domTree &#xFF0C;&#x5B83;&#x4F1A;&#x628A;&#x9047;&#x5230;&#x7684;&#x6240;&#x6709; dom &#x8282;&#x70B9;&#x90FD;&#x6302;&#x5230;&#x8FD9;&#x4E2A;&#x6811;&#x4E0A;&#xFF0C;&#x8FD9;&#x53EB; dom &#x8282;&#x70B9;&#x7684;&#x89E3;&#x6790;&#x3002;&#x5728;&#x8FD9;&#x4E2A; timeLine.html &#x4E2D;&#xFF0C;&#x5B83;&#x4F1A;&#x89E3;&#x6790;&#x5230; head &#x6807;&#x7B7E;&#xFF0C;&#x6302;&#x5230; domTree &#xFF0C;&#x7136;&#x540E;&#x518D;&#x5C06;&#x5B83;&#x4E0B;&#x9762;&#x7684; meta title &#x6807;&#x7B7E;&#x6302;&#x5230;&#x6811;&#x4E0A;&#xFF0C;&#x5F53;&#x628A;head&#x91CC;&#x7684;&#x6807;&#x7B7E;&#x90FD;&#x89E3;&#x6790;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x518D;&#x53BB;&#x89E3;&#x6790;body &#x6807;&#x7B7E;&#xFF0C;&#x8FD9;&#x4E2A;&#x89E3;&#x6790;&#x8FC7;&#x7A0B;&#x5C31;&#x662F;&#x7B26;&#x5408; &#x6DF1;&#x5EA6;&#x4F18;&#x5148; &#x7684;&#x539F;&#x5219;&#x3002;cssTree &#x540C;&#x6837;&#x662F;&#x8FD9;&#x6837;&#x89E3;&#x6790;&#x7684;&#x3002;&#x5F53; domTree &#x89E3;&#x6790;&#x5B8C;&#x6BD5;&#x540E; &#x7B49;&#x5F85; cssTree &#x7684;&#x89E3;&#x6790;&#xFF0C;&#x5F53; cssTree &#x4E5F;&#x89E3;&#x6790;&#x5B8C;&#x6BD5;&#x540E;&#xFF0C;&#x8FD9;&#x4E24;&#x4E2A;&#x5408;&#x5728;&#x4E00;&#x8D77;&#x5C31;&#x5F62;&#x6210;&#x4E86; renderTree&#xFF0C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x624D;&#x5F00;&#x59CB;&#x6309;&#x7167; renderTree &#x7684;&#x89C4;&#x5219;&#x6765;&#x7ED8;&#x5236;&#x9875;&#x9762;</p><p>&#x200B;                    </p><p>&#x200B;    &#x6CE8;&#x610F;&#xFF1A;domTree &#x89E3;&#x6790;&#x5B8C;&#x6BD5;&#x7684;&#x8FC7;&#x7A0B;&#x53EA;&#x662F;&#x8BF4;&#x628A; dom &#x8282;&#x70B9;&#x90FD;&#x6302;&#x5230;&#x6811;&#x4E0A;&#x4E86;&#xFF0C;&#x4F46;&#x4E0D;&#x4EE3;&#x8868;&#x5B83;&#x52A0;&#x8F7D;&#x5B8C;&#x6210;&#xFF0C;&#x5047;&#x8BBE;&#x73B0;&#x5728;&#x6709;&#x4E2A; <code>img</code> &#x6807;&#x7B7E;&#xFF0C;&#x53EA;&#x4F1A;&#x6302;&#x4E0A;&#x8FD9;&#x4E2A; img &#x8282;&#x70B9;&#xFF0C;&#x81F3;&#x4E8E;&#x5B83;&#x662F;&#x4EC0;&#x4E48;&#xFF0C;&#x5E76;&#x4E0D;&#x5F71;&#x54CD; domTree &#x7684;&#x5F62;&#x6210;&#xFF0C;&#x8FD9;&#x4E2A;&#x662F;&#x5F02;&#x6B65;&#x7684;&#x8FC7;&#x7A0B;</p><p>&#x200B;                            </p><h4 id="&#x5F02;&#x6B65;&#x52A0;&#x8F7D;js"><a href="#&#x5F02;&#x6B65;&#x52A0;&#x8F7D;js" class="headerlink" title="&#x5F02;&#x6B65;&#x52A0;&#x8F7D;js"></a>&#x5F02;&#x6B65;&#x52A0;&#x8F7D;js</h4><p>&#x4E0A;&#x9762;&#x7684;&#x8FD9;&#x4E2A;&#x9875;&#x9762;&#x662F;&#x6CA1;&#x6709; js &#x7684;&#xFF0C;js &#x7684;&#x52A0;&#x8F7D;&#x548C;html css &#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x5B83;&#x4F1A;&#x963B;&#x65AD; &#x5F53;&#x524D;&#x7684;&#x52A0;&#x8F7D;&#x8FC7;&#x7A0B;&#xFF0C;&#x7B49;&#x5B83;js&#x52A0;&#x8F7D;&#x5B8C;&#x540E;&#xFF0C;&#x624D;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x4E0B;&#x9762;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x5E76;&#x4E0D;&#x80FD;&#x548C;html css &#x5E76;&#x884C;&#x52A0;&#x8F7D;&#xFF0C;&#x56E0;&#x4E3A; js &#x80FD;&#x4FEE;&#x6539;html css&#x3002;</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>&#x200B;        </p><p>&#x200B;                </p><p>&#x4F46;&#x6709;&#x4E9B; js &#x662F;&#x7528;&#x6765;&#x521D;&#x59CB;&#x5316;&#x6570;&#x636E;&#x6216;&#x662F;&#x5DE5;&#x5177;&#xFF0C;&#x8FD9;&#x4E9B;js&#x4E0D;&#x4F1A;&#x4FEE;&#x6539; html css &#xFF0C;&#x800C;&#x8FD9;&#x4E9B;js &#x5C31;&#x53EF;&#x4EE5;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#xFF0C;&#x751A;&#x81F3;&#x662F;&#x6309;&#x9700;&#x52A0;&#x8F7D;&#xFF0C;&#x90A3;&#x65B9;&#x6CD5;&#x6709;&#x4E09;&#x79CD;&#xFF1A;</p><p>1 &#x6DFB;&#x52A0; defer&#xFF0C;&#x52A0;&#x4E0A;&#x540E;&#x5C31;&#x53D8;&#x6210;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#xFF1A;&#x53EA;&#x6709; ie &#x80FD;&#x7528;&#xFF08;ie9&#x53CA;&#x4EE5;&#x4E0B;&#xFF09;&#xFF0C;&#x4E14;&#x4EE3;&#x7801;&#x8FD8;&#x53EF;&#x4EE5;&#x5199;&#x5230;&#x5185;&#x90E8;&#xFF0C;&#x54EA;&#x6015;&#x5DF2;&#x7ECF;&#x4E0B;&#x8F7D;&#x5B8C;&#x6210;&#x4E86;&#x4E5F;&#x8981;&#x7B49;&#x9875;&#x9762;&#x89E3;&#x6790;&#x5B8C;&#x6BD5;&#xFF08;&#x5F62;&#x6210;renderTree&#x540E;&#xFF09;&#x624D;&#x6267;&#x884C;&#xFF0C;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;tool.js&quot;</span> <span class="attr">defer</span>=<span class="string">&quot;defer&quot;</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>2 async W3C&#x6807;&#x51C6;&#xFF0C;ie9&#x4EE5;&#x4E0A;&#xFF0C;&#x8FD9;&#x4E2A;&#x662F;&#x52A0;&#x8F7D;&#x5B8C;&#x5C31;&#x4F7F;&#x7528;&#xFF0C;&#x4E0D;&#x80FD;&#x5728;&#x6807;&#x7B7E;&#x91CC;&#x5199;&#x4EE3;&#x7801;&#xFF0C;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;tool.js&quot;</span> <span class="attr">async</span>=<span class="string">&quot;async&quot;</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>3 &#x521B;&#x5EFA;script&#x6807;&#x7B7E;&#xFF0C;&#x63D2;&#x5165;&#x5230;DOM&#x4E2D;&#xFF0C;&#x52A0;&#x8F7D;&#x5B8C;&#x6BD5;&#x540E; callback</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    var script = document.createElement(&apos;script&apos;)</span></span><br><span class="line"><span class="undefined">    script.type = &apos;text/javascript&apos;</span></span><br><span class="line"><span class="undefined">    script.src = &apos;./src/index.js&apos;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">    document.head.appendChild(script)</span></span><br><span class="line"><span class="undefined">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">// ./src/index.js</span><br><span class="line"></span><br><span class="line">function test () {</span><br><span class="line">  console.log(&apos;&#x65F6;&#x95F4;&#x7EBF;&apos;)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>&#x200B;            </p><p>&#x5982;&#x4E0A;&#xFF1A;&#x521B;&#x5EFA; script &#x6807;&#x7B7E;&#xFF0C;&#x7ED9;&#x5B83;&#x8BBE;&#x7F6E; src &#x5C5E;&#x6027;&#xFF0C;&#x5F53;&#x8FD9;&#x53E5;&#x6267;&#x884C;&#x5B8C;&#x6BD5;&#x540E;&#x5C31;&#x5F00;&#x59CB;&#x5F02;&#x6B65;&#x4E0B;&#x8F7D;&#x8FD9;&#x4E2A;js&#x6587;&#x4EF6;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x53EA;&#x662F;&#x4E0B;&#x8F7D;&#x4E86;&#x5E76;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x7528;&#xFF0C;&#x53EA;&#x6709;&#x6267;&#x884C; <code>document.head.appendChild(script)</code> &#x540E;&#x624D;&#x53EF;&#x4EE5;&#x7528;&#x8FD9;&#x91CC;&#x9762;&#x7684;&#x65B9;&#x6CD5;</p><p>&#x200B;                        </p><p>&#x4F46;&#x6B64;&#x65F6;&#x82E5;&#x662F;&#x76F4;&#x63A5;&#x5728;&#x63D2;&#x5165;&#x8BED;&#x53E5;&#x4E4B;&#x540E;&#x6267;&#x884C; test &#x65B9;&#x6CD5;&#x7684;&#x8BDD;&#xFF0C;&#x662F;&#x62A5;&#x9519;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;src&#x8FD9;&#x53E5;&#x662F;&#x5728;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#x6587;&#x4EF6;&#xFF0C;&#x6240;&#x4EE5;&#x8981;&#x6267;&#x884C;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x9700;&#x8981;js&#x6587;&#x4EF6;&#x52A0;&#x8F7D;&#x5B8C;&#x6210;&#x540E;&#xFF1A;</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">  var script = document.createElement(&apos;script&apos;)</span></span><br><span class="line"><span class="undefined">  script.type = &apos;text/javascript&apos;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">  document.head.appendChild(script)</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">  if (script.readyState) {</span></span><br><span class="line"><span class="undefined">    script.onreadystatechange = function () {</span></span><br><span class="line"><span class="undefined">      if (script.readyState === &apos;complete&apos; || script.readyState === &apos;loaded&apos;) {</span></span><br><span class="line"><span class="undefined">        test()</span></span><br><span class="line"><span class="undefined">      }</span></span><br><span class="line"><span class="undefined">    }</span></span><br><span class="line"><span class="undefined">  } else {</span></span><br><span class="line"><span class="undefined">    script.onload = function () {</span></span><br><span class="line"><span class="undefined">      test()</span></span><br><span class="line"><span class="undefined">    }</span></span><br><span class="line"><span class="undefined">  }</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">  script.src = &apos;./src/index.js&apos;</span></span><br><span class="line"><span class="undefined">  </span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>&#x200B;                </p><p>&#x6CE8;&#x610F;&#xFF1A;</p><p>1 &#x7531;&#x4E8E; ie10&#x53CA;&#x4EE5;&#x4E0B; &#x7684; script &#x6807;&#x7B7E;&#x6CA1;&#x6709; onload &#xFF0C;&#x4F46;&#x5B83;&#x6709;&#x81EA;&#x5DF1;&#x7684; <code>readyState</code>  &#xFF0C;&#x6240;&#x4EE5;&#x4E24;&#x8005;&#x8FD9;&#x6837;&#x517C;&#x5BB9;&#x4E00;&#x4E0B;</p><p>2 <strong>&#x628A;src&#x8FD9;&#x53E5;&#x79FB;&#x5230;&#x7ED1;&#x5B9A;&#x4E8B;&#x4EF6;&#x4E4B;&#x540E;</strong> &#xFF0C;&#x76EE;&#x7684;&#x662F;&#x4EE5;&#x9632;&#x6587;&#x4EF6;&#x4EE5;&#x52A0;&#x8F7D;&#x5B8C;&#x6BD5;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x8FD8;&#x6CA1;&#x6267;&#x884C;&#x5230; script.readyState&#x8FD9;&#x53E5;</p><p>&#x200B;                </p><p>&#x628A;&#x4E0A;&#x9762;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x5C01;&#x88C5;&#x4E00;&#x4E0B;&#xFF1A;</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">loadScript</span>(<span class="params">url, callback</span>) </span>{</span><br><span class="line">     <span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">&apos;script&apos;</span>)</span><br><span class="line">     script.type = url</span><br><span class="line">     <span class="built_in">document</span>.head.appendChild(script)</span><br><span class="line">     <span class="keyword">if</span> (script.readyState) {</span><br><span class="line">       script.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">         <span class="keyword">if</span> (script.readyState === <span class="string">&apos;complete&apos;</span> || script.readyState === <span class="string">&apos;loaded&apos;</span>) {</span><br><span class="line">           callback()</span><br><span class="line">         }</span><br><span class="line">       }</span><br><span class="line">     } <span class="keyword">else</span> {</span><br><span class="line">       script.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">         callback()</span><br><span class="line">       }</span><br><span class="line">     }</span><br><span class="line">     script.src = <span class="string">&apos;./src/index.js&apos;</span></span><br><span class="line">   }</span><br><span class="line">   loadScript(<span class="string">&apos;text/javascript&apos;</span>, test)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>&#x4F46;&#x662F;&#xFF1A;&#x62A5;&#x9519;&#x4E86;&#xFF0C;&#x62A5;&#x9519;&#x539F;&#x56E0;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x6267;&#x884C; loadScript&#xFF08;&#xFF09; &#x8FD9;&#x53E5;&#x65F6;&#x538B;&#x6839;&#x4E0D;&#x77E5;&#x9053;test&#x662F;&#x8C01;&#x554A;&#xFF0C;&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#x6709;&#x5F88;&#x591A;&#xFF0C;&#x8FD9;&#x91CC;&#x5199;&#x4E09;&#x4E2A;&#xFF08;&#x76EE;&#x524D;&#x80FD;&#x60F3;&#x5230;&#x8FD9;&#x4E09;&#x4E2A;&#x54C8;&#x54C8;&#x54C8;&#xFF09;</p><p>1 &#x4F20;&#x5B57;&#x7B26;&#x4E32;&#x8FDB;&#x53BB;&#xFF1A;</p><p><code>loadScript(&apos;text/javascript&apos;, &apos;test()&apos;)</code></p><p>&#x8C03;&#x7528;&#xFF1A;<code>eval(callback)</code> </p><p>&#x5C3D;&#x91CF;&#x4E0D;&#x8981;&#x4F7F;&#x7528;&#xFF01;</p><p>2 &#x4F20;&#x533F;&#x540D;&#x51FD;&#x6570;&#x8FDB;&#x53BB;&#xFF1A;</p><p><code>loadScript(&apos;text/javascript&apos;, function () {test()})</code></p><p>&#x8C03;&#x7528;&#xFF1A;<code>callback()</code></p><p>3 &#x76F4;&#x63A5;&#x4F20;&#x5B57;&#x7B26;&#x4E32;&#x8FDB;&#x53BB;&#xFF0C;&#x5E76;&#x4FEE;&#x6539; js &#x6587;&#x4EF6;:</p><p><code>loadScript(&apos;text/javascript&apos;, &apos;test&apos;)</code></p><p>src/index.js: </p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = {</span><br><span class="line">  test: <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&apos;&#x65F6;&#x95F4;&#x7EBF;&apos;</span>)</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>&#x8C03;&#x7528;&#xFF1A;<code>obj[callback]()</code></p><p>&#x200B;                </p><p>&#x5F53;&#x7136;&#xFF0C;&#x82E5;&#x4E0D;&#x9700;&#x8981;&#x56DE;&#x8C03;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;js&#x6587;&#x4EF6;&#xFF0C;&#x90A3;&#x5C31;&#x7075;&#x6D3B;&#x4F7F;&#x7528;</p><p>&#x200B;                </p><h4 id="js&#x52A0;&#x8F7D;&#x65F6;&#x95F4;&#x7EBF;"><a href="#js&#x52A0;&#x8F7D;&#x65F6;&#x95F4;&#x7EBF;" class="headerlink" title="js&#x52A0;&#x8F7D;&#x65F6;&#x95F4;&#x7EBF;"></a>js&#x52A0;&#x8F7D;&#x65F6;&#x95F4;&#x7EBF;</h4><p>&#x200B;                    </p><p>1&#x3001;&#x521B;&#x5EFA;Document&#x5BF9;&#x8C61;&#xFF0C;&#x5F00;&#x59CB;&#x89E3;&#x6790;web&#x9875;&#x9762;&#x3002;&#x89E3;&#x6790;HTML&#x5143;&#x7D20;&#x548C;&#x4ED6;&#x4EEC;&#x7684;&#x6587;&#x672C;&#x5185;&#x5BB9;&#x540E;&#x6DFB;&#x52A0;Element&#x5BF9;&#x8C61;&#x548C;Text&#x8282;&#x70B9;&#x5230;&#x6587;&#x6863;&#x4E2D;&#x3002;&#x8FD9;&#x4E2A;&#x9636;&#x6BB5;document.readyState = &#x2018;loading&#x2019;&#x3002;</p><p>&#x200B;                    </p><p>2&#x3001;&#x9047;&#x5230;link&#x5916;&#x90E8;css&#xFF0C;&#x521B;&#x5EFA;&#x7EBF;&#x7A0B;&#x52A0;&#x8F7D;&#xFF0C;&#x5E76;&#x7EE7;&#x7EED;&#x89E3;&#x6790;&#x6587;&#x6863;&#x3002;</p><p>&#x200B;                        </p><p>3&#x3001;&#x9047;&#x5230;script&#x5916;&#x90E8;js&#xFF0C;&#x5E76;&#x4E14;&#x6CA1;&#x6709;&#x8BBE;&#x7F6E;async&#x3001;defer&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x52A0;&#x8F7D;&#xFF0C;&#x5E76;&#x963B;&#x585E;&#xFF0C;&#x7B49;&#x5F85;js&#x52A0;&#x8F7D;&#x5B8C;&#x6210;&#x5E76;&#x6267;&#x884C;&#x8BE5;&#x811A;&#x672C;&#xFF0C;&#x7136;&#x540E;&#x7EE7;&#x7EED;&#x89E3;&#x6790;&#x6587;&#x6863;&#x3002;</p><p>&#x200B;                        </p><p>4&#x3001;&#x9047;&#x5230;script&#x5916;&#x90E8;js&#xFF0C;&#x5E76;&#x4E14;&#x8BBE;&#x7F6E;&#x6709;async&#x3001;defer&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x521B;&#x5EFA;&#x7EBF;&#x7A0B;&#x52A0;&#x8F7D;&#xFF0C;&#x5E76;&#x7EE7;&#x7EED;&#x89E3;&#x6790;&#x6587;&#x6863;&#x3002;<br>&#x5BF9;&#x4E8E;async&#x5C5E;&#x6027;&#x7684;&#x811A;&#x672C;&#xFF0C;&#x811A;&#x672C;&#x52A0;&#x8F7D;&#x5B8C;&#x6210;&#x540E;&#x7ACB;&#x5373;&#x6267;&#x884C;&#x3002;&#xFF08;&#x5F02;&#x6B65;&#x7981;&#x6B62;&#x4F7F;&#x7528;document.write()&#xFF09;</p><p>&#x200B;                        </p><p>5&#x3001;&#x9047;&#x5230;img&#x7B49;&#xFF0C;&#x5148;&#x6B63;&#x5E38;&#x89E3;&#x6790;dom&#x7ED3;&#x6784;&#xFF0C;&#x7136;&#x540E;&#x6D4F;&#x89C8;&#x5668;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;src&#xFF0C;&#x5E76;&#x7EE7;&#x7EED;&#x89E3;&#x6790;&#x6587;&#x6863;&#x3002;</p><p>&#x200B;                    </p><p>6&#x3001;&#x5F53;&#x6587;&#x6863;&#x89E3;&#x6790;&#x5B8C;&#x6210;&#xFF0C;document.readyState = &#x2018;interactive&#x2019;&#x3002;</p><p>&#x200B;                    </p><p>7&#x3001;&#x6587;&#x6863;&#x89E3;&#x6790;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x6240;&#x6709;&#x8BBE;&#x7F6E;&#x6709;defer&#x7684;&#x811A;&#x672C;&#x4F1A;&#x6309;&#x7167;&#x987A;&#x5E8F;&#x6267;&#x884C;&#x3002;&#xFF08;&#x6CE8;&#x610F;&#x4E0E;async&#x7684;&#x4E0D;&#x540C;,&#x4F46;&#x540C;&#x6837;&#x7981;&#x6B62;&#x4F7F;&#x7528;<br>document.write()&#xFF09;;</p><p>&#x200B;                    </p><p>8&#x3001;document&#x5BF9;&#x8C61;&#x89E6;&#x53D1;DOMContentLoaded&#x4E8B;&#x4EF6;&#xFF0C;&#x8FD9;&#x4E5F;&#x6807;&#x5FD7;&#x7740;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x4ECE;&#x540C;&#x6B65;&#x811A;&#x672C;&#x6267;&#x884C;&#x9636;&#x6BB5;&#xFF0C;&#x8F6C;&#x5316;&#x4E3A;&#x4E8B;&#x4EF6;&#x9A71;&#x52A8;&#x9636;&#x6BB5;&#xFF0C;&#x5373;&#x5F00;&#x59CB;&#x8BC6;&#x522B;&#x4E8B;&#x4EF6;&#x4E86;&#x3002;DOMContentLoaded&#x8FD9;&#x4E2A;&#x4E8B;&#x4EF6;&#x5728;dom&#x89E3;&#x6790;&#x5B8C;&#x5C31;&#x53EF;&#x4EE5;&#x89E6;&#x53D1;&#xFF0C;&#x4E0D;&#x7528;&#x7B49;&#x5230;&#x52A0;&#x8F7D;&#x5B8C;&#x518D;&#x53BB;&#x6267;&#x884C;</p><p>&#x200B;                    </p><p>9&#x3001;&#x5F53;&#x6240;&#x6709;async&#x7684;&#x811A;&#x672C;&#x52A0;&#x8F7D;&#x5B8C;&#x6210;&#x5E76;&#x6267;&#x884C;&#x540E;&#x3001;img&#x7B49;&#x52A0;&#x8F7D;&#x5B8C;&#x6210;&#x540E;&#xFF0C;document.readyState = &#x2018;complete&#x2019;&#xFF0C;window&#x5BF9;&#x8C61;&#x89E6;&#x53D1;load&#x4E8B;&#x4EF6;&#x3002;            </p><p>&#x200B;            </p><p>10&#x3001;&#x4ECE;&#x6B64;&#xFF0C;&#x4EE5;&#x5F02;&#x6B65;&#x54CD;&#x5E94;&#x65B9;&#x5F0F;&#x5904;&#x7406;&#x7528;&#x6237;&#x8F93;&#x5165;&#x3001;&#x7F51;&#x7EDC;&#x4E8B;&#x4EF6;&#x7B49;&#x3002;</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;我们看到的页面是已经绘制完成的，html，css， js 这些文件当然是已经加载完成了的，但这个加载过程中总有个加载的先后顺序的，嗯，还是很重要的，这里就是总结这个加载过程及顺序&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://orange-way.github.io//posts/4a17b156/"/>
    <id>https://orange-way.github.io//posts/4a17b156/</id>
    <published>2018-12-17T01:42:55.128Z</published>
    <updated>2018-10-14T05:43:44.493Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.<a id="more"></a></p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></tbody></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></tbody></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></tbody></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></tbody></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;documentation&lt;/a&gt; for more info. If you get any problems when using Hexo, you can find the answer in &lt;a href=&quot;https://hexo.io/docs/troubleshooting.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;troubleshooting&lt;/a&gt; or you can ask me on &lt;a href=&quot;https://github.com/hexojs/hexo/issues&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>生活</title>
    <link href="https://orange-way.github.io//posts/a446c7d6/"/>
    <id>https://orange-way.github.io//posts/a446c7d6/</id>
    <published>2018-12-12T08:29:27.000Z</published>
    <updated>2019-04-16T02:49:44.667Z</updated>
    
    <content type="html"><![CDATA[<p>&#x5FC3;&#x82E5;&#x5411;&#x9633;&#xFF0C;&#x4F55;&#x4E3A;&#x60B2;&#x4F24;</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&amp;#x5FC3;&amp;#x82E5;&amp;#x5411;&amp;#x9633;&amp;#xFF0C;&amp;#x4F55;&amp;#x4E3A;&amp;#x60B2;&amp;#x4F24;&lt;/p&gt;
&lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)

      
    
    </summary>
    
      <category term="life" scheme="https://orange-way.github.io/categories/life/"/>
    
    
  </entry>
  
  <entry>
    <title>vue中router-link的class</title>
    <link href="https://orange-way.github.io//posts/2cbb36fa/"/>
    <id>https://orange-way.github.io//posts/2cbb36fa/</id>
    <published>2018-12-07T06:58:36.000Z</published>
    <updated>2019-04-16T02:40:56.444Z</updated>
    
    <content type="html"><![CDATA[<p>router-link&#x4E2D;&#x53EF;&#x4EE5;&#x52A8;&#x6001;&#x7ED1;&#x5B9A;class&#xFF0C;&#x8FD9;&#x91CC;&#x603B;&#x7ED3;<code>router-link-active</code> &#xFF0C;vue&#x5B9E;&#x73B0;&#x7684;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A;<a id="more"></a></p><p><img src="/posts/2cbb36fa/one.png" alt=""></p><p>&#x200B;                        </p><p>&#x53EA;&#x9700;&#x8981;&#x6DFB;&#x52A0; <code>router-link-active</code> &#x8FD9;&#x4E2A;class&#x7684;css&#x6837;&#x5F0F;&#xFF0C;&#x5728;rouer-link&#x4E2D;&#x4EC0;&#x4E48;&#x90FD;&#x4E0D;&#x9700;&#x8981;&#x5199;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;Router-link to=<span class="string">&quot;/home&quot;</span> tag=<span class="string">&quot;li&quot;</span>&gt;&#x9996;&#x9875;&lt;<span class="regexp">/Router-link&gt;</span></span><br><span class="line"><span class="regexp">&lt;Router-link to=&quot;/</span>comment<span class="string">&quot; tag=&quot;</span>li<span class="string">&quot;&gt;&#x8BC4;&#x8BBA;&lt;/Router-link&gt;</span></span><br><span class="line"><span class="string">&lt;Router-link to=&quot;</span>/person<span class="string">&quot; tag=&quot;</span>li<span class="string">&quot;&gt;&#x4E2A;&#x4EBA;&#x4E2D;&#x5FC3;&lt;/Router-link&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">.router-link-active{</span></span><br><span class="line"><span class="string">  background: pink;</span></span><br><span class="line"><span class="string">  color: #555;</span></span><br><span class="line"><span class="string">}</span></span><br></pre></td></tr></tbody></table></figure><p>&#x200B;                </p><p>&#x5F53;&#x7136;&#x8981;&#x662F;&#x5ACC; &#x8FD9;&#x4E2A;class&#x540D;&#x592A;&#x957F;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x6539;&#xFF0C;</p><p>&#x65B9;&#x6CD5;&#x4E00;&#xFF1A;</p><p>&#x5728;router/index.js&#x4E2D;&#x505A;&#x5982;&#x4E0B;&#x914D;&#x7F6E;:</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&apos;vue&apos;</span></span><br><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">&apos;vue-router&apos;</span></span><br><span class="line"></span><br><span class="line">Vue.use(Router)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Router({</span><br><span class="line">  routes: [],</span><br><span class="line">  linkActiveClass: <span class="string">&apos;is-active&apos;</span>    <span class="comment">//&#x6DFB;&#x52A0;&#x8FD9;&#x53E5;</span></span><br><span class="line">})</span><br><span class="line"></span><br><span class="line">.is-active{</span><br><span class="line">  background: pink;</span><br><span class="line">  color: #555;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>&#x65B9;&#x6CD5;&#x4E8C;&#xFF1A;</p><p>&#x76F4;&#x63A5;&#x5728;rout-link&#x90A3;&#x91CC;&#x66F4;&#x6539;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;Router-link to=<span class="string">&quot;/home&quot;</span> tag=<span class="string">&quot;li&quot;</span> active-<span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;is-active&quot;</span>&gt;&#x9996;&#x9875;&lt;<span class="regexp">/Router-link&gt;</span></span><br><span class="line"><span class="regexp">&lt;Router-link to=&quot;/</span>comment<span class="string">&quot; tag=&quot;</span>li<span class="string">&quot; active-class=&quot;</span>is-active<span class="string">&quot;&gt;&#x8BC4;&#x8BBA;&lt;/Router-link&gt;</span></span><br><span class="line"><span class="string">&lt;Router-link to=&quot;</span>/person<span class="string">&quot; tag=&quot;</span>li<span class="string">&quot; active-class=&quot;</span>is-active<span class="string">&quot;&gt;&#x4E2A;&#x4EBA;&#x4E2D;&#x5FC3;&lt;/Router-link&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>&#x4EE5;&#x4E0A;&#x4E24;&#x79CD;&#x90FD;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x5728;&#x5BFC;&#x822A;&#x5207;&#x6362;&#x65F6;&#xFF0C;&#x6837;&#x5F0F;&#x4E5F;&#x5728;&#x8DDF;&#x7740;&#xFF0C;&#x4F46;&#x73B0;&#x5728;&#x6709;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x5047;&#x8BBE;&#x73B0;&#x5728;&#x6709;&#x4E2A;&#x52A8;&#x6001;&#x8DEF;&#x7531;&#xFF0C;&#x4F46;&#x53EF;&#x80FD;&#x4ECE;&#x8BC4;&#x8BBA;&#x9875;&#x9762;&#x53EF;&#x80FD;&#x8DF3;&#x5230;&#x8FD9;&#x4E2A;&#x9875;&#x9762;&#xFF0C;&#x4E5F;&#x53EF;&#x80FD;&#x4ECE;&#x4E2A;&#x4EBA;&#x4E2D;&#x5FC3;&#x8DF3;&#x5230;&#x8FD9;&#x4E2A;&#x9875;&#x9762;&#xFF0C;&#x90A3;&#x73B0;&#x5728;&#x8981;&#x6C42;&#x5F53;&#x8DF3;&#x5230;&#x8FD9;&#x4E2A;&#x8DEF;&#x7531;&#x65F6;&#xFF0C;&#x4ECE;&#x54EA;&#x4E2A;&#x8DF3;&#x8FC7;&#x53BB;&#xFF0C;&#x54EA;&#x4E2A;&#x5C31;&#x4FDD;&#x6301;activeClass&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;</p><p><img src="/posts/2cbb36fa/two.png" alt=""></p><p>&#x4E00;&#x79CD;&#x529E;&#x6CD5;&#x662F;&#x6DFB;&#x52A0;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#xFF0C;&#x5728;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#x4E2D;&#x6765;&#x52A8;&#x6001;&#x589E;&#x52A0;&#x5220;&#x9664;class&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x79CD;&#x529E;&#x6CD5;&#x662F;&#x5229;&#x7528;&#x8DEF;&#x7531;&#x5143;&#x4FE1;&#x606F;&#x6765;&#x5199;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;</p><p>1 &#x5728;&#x53EF;&#x80FD;&#x4F1A;&#x8DF3;&#x8F6C;&#x5230;&#x6B64;&#x8DEF;&#x7531;&#x4E2D;&#x914D;&#x7F6E;&#x8DEF;&#x7531;&#x4FE1;&#x606F;&#xFF08;&#x8FD9;&#x91CC;&#x914D;&#x7F6E;&#x4E86;/home&#xFF0C;/person&#xFF09;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">     path: <span class="string">&apos;/home&apos;</span>,</span><br><span class="line">     name: <span class="string">&apos;Home&apos;</span>,</span><br><span class="line">     component: Home,</span><br><span class="line">     meta: {</span><br><span class="line">       requiresAuth: <span class="literal">true</span>,</span><br><span class="line">       active: <span class="string">&apos;/cont&apos;</span></span><br><span class="line">     }</span><br><span class="line">   },</span><br><span class="line">   {</span><br><span class="line">     path: <span class="string">&apos;/cont&apos;</span>,</span><br><span class="line">     name: <span class="string">&apos;HomeCont&apos;</span>,</span><br><span class="line">     component: HomeCont,</span><br><span class="line">     meta: {</span><br><span class="line">       requiresAuth: <span class="literal">true</span>,</span><br><span class="line">       active: <span class="string">&apos;/cont&apos;</span></span><br><span class="line">     },</span><br><span class="line">     beforeEnter(to, <span class="keyword">from</span>, next) {</span><br><span class="line">       <span class="keyword">if</span>(<span class="keyword">from</span>.meta.active === <span class="string">&apos;/cont&apos;</span>){</span><br><span class="line">         to.meta.active = <span class="keyword">from</span>.path;</span><br><span class="line">       }</span><br><span class="line">       next()</span><br><span class="line">     }</span><br><span class="line">   },</span><br><span class="line">   {</span><br><span class="line">     path: <span class="string">&apos;/comment&apos;</span>,</span><br><span class="line">     name: <span class="string">&apos;comment&apos;</span>,</span><br><span class="line">     component: Comment</span><br><span class="line">   },</span><br><span class="line">   {</span><br><span class="line">     path: <span class="string">&apos;/person&apos;</span>,</span><br><span class="line">     name: <span class="string">&apos;person&apos;</span>,</span><br><span class="line">     component: Person,</span><br><span class="line">     meta: {</span><br><span class="line">       requiresAuth: <span class="literal">true</span>,</span><br><span class="line">       active: <span class="string">&apos;/cont&apos;</span></span><br><span class="line">     }</span><br><span class="line">   }</span><br><span class="line"></span><br><span class="line">&lt;Router-link to=<span class="string">&quot;/home&quot;</span> tag=<span class="string">&quot;li&quot;</span> :<span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;{&apos;is-active&apos;:$route.meta.active === &apos;/home&apos;}&quot;</span>&gt;&#x9996;&#x9875;&lt;<span class="regexp">/Router-link&gt;</span></span><br><span class="line"><span class="regexp">   &lt;Router-link to=&quot;/</span>comment<span class="string">&quot; tag=&quot;</span>li<span class="string">&quot;&gt;&#x8BC4;&#x8BBA;&lt;/Router-link&gt;</span></span><br><span class="line"><span class="string">   &lt;Router-link to=&quot;</span>/person<span class="string">&quot; tag=&quot;</span>li<span class="string">&quot; :class=&quot;</span>{<span class="string">&apos;is-active&apos;</span>:$route.meta.active === <span class="string">&apos;/person&apos;</span>}<span class="string">&quot;&gt;&#x4E2A;&#x4EBA;&#x4E2D;&#x5FC3;&lt;/Router-link&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>&#x200B;    1 &#x7ED9;&#x6240;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x8DF3;&#x5230;&#x8FD9;&#x4E2A;&#x8DEF;&#x7531;&#x7684;&#x5730;&#x65B9;&#x914D;&#x7F6E;meta&#xFF0C;&#x5E76;&#x8D4B;&#x7ED9;&#x76F8;&#x540C;&#x7684;active&#x5C5E;&#x6027;<br>&#x200B;        2 &#x5728;rout-link&#x4E2D; &#x52A8;&#x6001;&#x6DFB;&#x52A0; is-active<br>&#x200B;        3 &#x5728;beforEnter&#x4E2D;&#x5224;&#x65AD;&#xFF0C;&#x628A;&#x52A8;&#x6001;&#x8DEF;&#x7531;&#x7684;to.meta.active = from.path&#xFF08;&#x8FD9;&#x91CC;&#x6211;&#x7528;&#x7684;&#x662F;path&#x6765;&#x5224;&#x65AD;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x6210;&#x522B;&#x7684;&#xFF09;</p><p>&#x200B;    4 &#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#xFF0C;&#x53D1;&#x73B0;&#x5982;&#x679C;&#x9875;&#x9762;&#x5237;&#x65B0;&#xFF0C;&#x90A3;&#x5C31;&#x5931;&#x6548;&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x914D;&#x5408;localStorage&#x6765;&#x5B8C;&#x5584;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//&#x5728;router&#x4E2D;localStorage&#x5B58;&#x5165;</span></span><br><span class="line">beforeEnter(to, <span class="keyword">from</span>, next) {</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">from</span>.meta.active === <span class="string">&apos;/cont&apos;</span>){</span><br><span class="line">          to.meta.active = <span class="keyword">from</span>.path;</span><br><span class="line">          localStorage.setItem(<span class="string">&apos;/cont&apos;</span>, to.meta.active)  <span class="comment">//&#x6DFB;&#x52A0;&#x8FD9;&#x53E5;</span></span><br><span class="line">        }</span><br><span class="line">        next()</span><br><span class="line">      }</span><br><span class="line"><span class="comment">//&#x5728;cont.vue&#x4E2D;&#x83B7;&#x53D6;</span></span><br><span class="line">   created () {</span><br><span class="line">     <span class="keyword">this</span>.$route.meta.active = localStorage.getItem(<span class="string">&apos;/cont&apos;</span>) || <span class="keyword">this</span>.$route.meta.active;</span><br><span class="line">   }</span><br></pre></td></tr></tbody></table></figure><p>&#x8FD9;&#x6837;&#xFF0C;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x5C31;&#x7B97;&#x57FA;&#x672C;&#x5B8C;&#x5584;&#x4E86;&#xFF0C;&#x76EE;&#x524D;&#x80FD;&#x60F3;&#x5230;&#x7684;&#x662F;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x540E;&#x9762;&#x82E5;&#x662F;&#x6709;&#x5176;&#x4ED6;&#x7684;&#x518D;&#x6765;&#x66F4;&#x65B0;</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;router-link中可以动态绑定class，这里总结&lt;code&gt;router-link-active&lt;/code&gt; ，vue实现的效果如下：&lt;/p&gt;
    
    </summary>
    
    
      <category term="VUE" scheme="https://orange-way.github.io/tags/VUE/"/>
    
  </entry>
  
  <entry>
    <title>vue 中图片的处理</title>
    <link href="https://orange-way.github.io//posts/cbd21fc3/"/>
    <id>https://orange-way.github.io//posts/cbd21fc3/</id>
    <published>2018-11-10T07:46:15.000Z</published>
    <updated>2019-04-16T02:43:15.789Z</updated>
    
    <content type="html"><![CDATA[<p>vue &#x4E2D;&#x56FE;&#x7247;&#x53EF;&#x80FD;&#x53EA;&#x662F;&#x7528;&#x4E8E;&#x5C55;&#x793A;&#xFF0C;&#x53EF;&#x80FD;&#x662F;&#x88C1;&#x526A;&#xFF0C;&#x53EF;&#x80FD;&#x662F;&#x70B9;&#x51FB;&#x56FE;&#x7247;&#x8FDB;&#x884C;&#x8DF3;&#x8F6C;<a id="more"></a></p><p>&#x200B;                </p><h4 id="&#x56FE;&#x7247;&#x52A0;&#x8F7D;&#x5931;&#x8D25;"><a href="#&#x56FE;&#x7247;&#x52A0;&#x8F7D;&#x5931;&#x8D25;" class="headerlink" title="&#x56FE;&#x7247;&#x52A0;&#x8F7D;&#x5931;&#x8D25;"></a>&#x56FE;&#x7247;&#x52A0;&#x8F7D;&#x5931;&#x8D25;</h4><p>&#x5F53;&#x83B7;&#x53D6;&#x7684;&#x56FE;&#x7247;&#x6B63;&#x5E38;&#x52A0;&#x8F7D;&#x65F6;&#x5BF9;&#x9875;&#x9762;&#x662F;&#x6CA1;&#x6709;&#x5F71;&#x54CD;&#x7684;&#xFF0C;&#x4F46;&#x5F53;&#x56FE;&#x7247;&#x52A0;&#x8F7D;&#x5931;&#x8D25;&#x65F6;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x5BF9;&#x5E03;&#x5C40;&#x9020;&#x6210;&#x5F71;&#x54CD;&#x6216;&#x8005;&#x662F;&#x4E00;&#x4E2A;&#x52A0;&#x8F7D;&#x5931;&#x8D25;&#x7684;&#x56FE;&#x6807;&#xFF08;&#x96BE;&#x770B;&#xFF09;&#xFF0C;&#x6240;&#x4EE5;&#x8981;&#x5904;&#x7406;&#x5728;&#x56FE;&#x7247;&#x52A0;&#x8F7D;&#x95EE;&#x9898;</p><p>&#x9996;&#x5148;&#xFF0C;&#x8981;&#x6709;&#x4E2A;&#x9ED8;&#x8BA4;&#x56FE;&#x7247;&#xFF0C;&#x56FE;&#x7247;url&#x4E0D;&#x5B58;&#x5728;&#x65F6;&#x5C31;&#x663E;&#x793A;&#x8FD9;&#x5F20;&#xFF0C;&#x5F53;&#x56FE;&#x7247;&#x5B58;&#x5728;&#x4F46;url&#x65E0;&#x6548;&#x65F6;&#x4E5F;&#x663E;&#x793A;&#x8FD9;&#x5F20;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x6CE8;&#x610F;&#x5F15;&#x5165;&#x672C;&#x5730;&#x56FE;&#x7247;&#x65F6;&#x8981;&#x4F7F;&#x7528;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x5426;&#x5219;&#x65E0;&#x6CD5;&#x5F15;&#x5165;</span></span><br><span class="line">albumImgUnloadSrc: <span class="built_in">require</span>(<span class="string">&apos;../../../assets/unload4.png&apos;</span>),  </span><br><span class="line"></span><br><span class="line">&lt;img v-<span class="keyword">if</span>=<span class="string">&quot;albumIcon&quot;</span> :src=<span class="string">&quot;albumIcon&quot;</span> @error=<span class="string">&quot;albumImgError&quot;</span>&gt;</span><br><span class="line">&lt;img v-<span class="keyword">else</span> :src=<span class="string">&quot;albumImgUnloadSrc&quot;</span> @error=<span class="string">&quot;albumImgError&quot;</span>&gt;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//&#x4E13;&#x8F91;&#x56FE;&#x7247;&#x52A0;&#x8F7D;&#x5931;&#x8D25;</span></span><br><span class="line">albumImgError() {</span><br><span class="line">  <span class="keyword">this</span>.albumIcon = <span class="keyword">this</span>.albumImgUnloadSrc;</span><br><span class="line">},</span><br></pre></td></tr></tbody></table></figure><p>&#x200B;                </p><h4 id="&#x56FE;&#x7247;&#x62D6;&#x52A8;&#x53CA;&#x88C1;&#x526A;"><a href="#&#x56FE;&#x7247;&#x62D6;&#x52A8;&#x53CA;&#x88C1;&#x526A;" class="headerlink" title="&#x56FE;&#x7247;&#x62D6;&#x52A8;&#x53CA;&#x88C1;&#x526A;"></a>&#x56FE;&#x7247;&#x62D6;&#x52A8;&#x53CA;&#x88C1;&#x526A;</h4><p>&#x6709;&#x65F6;&#x4F1A;&#x7528;&#x56FE;&#x7247;&#x62D6;&#x52A8;&#x53CA;&#x88C1;&#x526A;&#xFF0C;&#x6BD4;&#x5982;&#x4E0A;&#x4F20;&#x56FE;&#x7247;&#x540E;&#x83B7;&#x53D6;&#x5176;&#x4E2D;&#x4E00;&#x90E8;&#x5206;</p><p>&#x73B0;&#x5728;&#x5047;&#x8BBE;&#x4E0A;&#x4F20;&#x7684;&#x662F;&#x4E00;&#x4E2A;1920x650&#x7684;&#x56FE;&#x7247;&#xFF1A;</p><p><img src="/posts/cbd21fc3/one.jpg" alt=""></p><p>&#x4F46;&#x73B0;&#x5728;&#x8981;&#x628A;&#x5B83;&#x653E;&#x5728;&#x4E00;&#x4E2A; 325px 325px&#x7684;div&#x4E2D;&#xFF0C;&#x4E14;&#x62D6;&#x52A8;&#x56FE;&#x7247;&#x8981;&#x5C55;&#x793A;&#x76F8;&#x5E94;&#x7684;&#x90E8;&#x5206;&#xFF1A;</p><p><img src="/posts/cbd21fc3/two.png" alt=""></p><p>&#x56FE;&#x7247;&#x62D6;&#x52A8;&#x7684;&#x65B9;&#x6CD5;&#x5982;&#x4E0B;, x&#x8F74;&#x548C;y&#x8F74;&#x5206;&#x5F00;&#x5224;&#x65AD;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- &#x4E0A;&#x4F20;&#x5934;&#x50CF;&#x63D0;&#x793A;&#x6846; --&gt;</span><br><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;perIconChange-upIconK&quot;</span>&gt;</span><br><span class="line">    &lt;canvas ref=<span class="string">&quot;cutCanvas&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;perIconChange-upCanvas&quot;</span> :style=<span class="string">&quot;cutIconStyle&quot;</span>&lt;<span class="regexp">/canvas&gt;</span></span><br><span class="line"><span class="regexp">    &lt;img :src=&quot;pointIconSrc&quot; alt=&quot;&quot; :style=&quot;cutIconStyle&quot; @mousedown.stop=&quot;iconDragMouse&quot; draggable=&quot;false&quot; ref=&quot;newCutImgEle&quot;&gt;</span></span><br><span class="line"><span class="regexp">    &lt;span class=&quot;perIconChange-upIconKT&quot;&gt;&#x9009;&#x62E9;&#x4E00;&#x5F20;&#x672C;&#x5730;&#x7684;&#x56FE;&#x7247;&#x8FDB;&#x884C;&#x4E0A;&#x4F20;&lt;/</span>span&gt;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/&#x5934;&#x50CF;&#x62D6;&#x52A8;</span></span><br><span class="line"><span class="regexp">iconDragMouse(e) {</span></span><br><span class="line"><span class="regexp">    let translate = parseInt(this.cutIconStyle.transform.slice(11));</span></span><br><span class="line"><span class="regexp">    let minuse = 0;</span></span><br><span class="line"><span class="regexp">    if (this.iconDragBool === &quot;x&quot;) {</span></span><br><span class="line"><span class="regexp">       let originX = e.pageX;</span></span><br><span class="line"><span class="regexp">       this.dragDistance = -Math.floor((325 /</span> <span class="keyword">this</span>.newIconHeight) * <span class="keyword">this</span>.newIconWidth) + <span class="number">325</span>;</span><br><span class="line">       <span class="built_in">document</span>.onmousemove = <span class="function"><span class="params">e</span> =&gt;</span> {</span><br><span class="line">          minuse = e.pageX - originX;</span><br><span class="line">          translate = translate + <span class="built_in">parseInt</span>(minuse);</span><br><span class="line">          <span class="comment">// console.log(translateX, this.dragDistance);</span></span><br><span class="line">          <span class="keyword">if</span> (translate &lt; <span class="number">1</span> &amp;&amp; translate &gt; <span class="keyword">this</span>.dragDistance) {</span><br><span class="line">             <span class="keyword">this</span>.cutIconStyle.transform = <span class="string">&quot;translateX(&quot;</span> + translate + <span class="string">&quot;px)&quot;</span>;</span><br><span class="line">          }</span><br><span class="line">        };</span><br><span class="line">        <span class="built_in">document</span>.onmouseup = <span class="function"><span class="params">e</span> =&gt;</span> {</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">&quot;up&quot;</span>);</span><br><span class="line">          <span class="keyword">this</span>.iconCutEvent();</span><br><span class="line">          <span class="built_in">document</span>.onmousemove = <span class="literal">null</span>;</span><br><span class="line">          <span class="built_in">document</span>.onmouseup = <span class="literal">null</span>;</span><br><span class="line">        };</span><br><span class="line">     } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.iconDragBool === <span class="string">&quot;y&quot;</span>) {</span><br><span class="line">        <span class="keyword">let</span> originY = e.pageY;</span><br><span class="line">        <span class="keyword">this</span>.dragDistance = -<span class="built_in">Math</span>.floor((<span class="number">325</span> / <span class="keyword">this</span>.newIconWidth) * <span class="keyword">this</span>.newIconHeight) + <span class="number">325</span>;</span><br><span class="line">        <span class="built_in">document</span>.onmousemove = <span class="function"><span class="params">e</span> =&gt;</span> {</span><br><span class="line">        minuse = e.pageY - originY;</span><br><span class="line">        translate = translate + <span class="built_in">parseInt</span>(minuse);</span><br><span class="line">        <span class="comment">// console.log(translateY, this.dragDistance);</span></span><br><span class="line">        <span class="keyword">if</span> (translate &lt; <span class="number">1</span> &amp;&amp; translate &gt; <span class="keyword">this</span>.dragDistance) {</span><br><span class="line">        <span class="keyword">this</span>.cutIconStyle.transform = <span class="string">&quot;translateY(&quot;</span> + translate + <span class="string">&quot;px)&quot;</span>;</span><br><span class="line">        }</span><br><span class="line">      };</span><br><span class="line">      <span class="built_in">document</span>.onmouseup = <span class="function"><span class="params">e</span> =&gt;</span> {</span><br><span class="line">         <span class="keyword">this</span>.iconCutEvent();</span><br><span class="line">         <span class="built_in">document</span>.onmousemove = <span class="literal">null</span>;</span><br><span class="line">         <span class="built_in">document</span>.onmouseup = <span class="literal">null</span>;</span><br><span class="line">      };</span><br><span class="line">   }</span><br><span class="line">},</span><br></pre></td></tr></tbody></table></figure><p>&#x200B;            </p><p>&#x56FE;&#x7247;&#x88C1;&#x526A;&#xFF0C;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x8981;&#x548C;h5&#x7684;canvas&#x914D;&#x5408;&#x5B9E;&#x73B0;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//&#x5934;&#x50CF;&#x88C1;&#x526A;</span></span><br><span class="line">   iconCutEvent() {</span><br><span class="line">     <span class="keyword">if</span> (<span class="keyword">this</span>.iconDragBool === <span class="string">&quot;x&quot;</span>) {</span><br><span class="line">       <span class="keyword">this</span>.canvasStyle = {</span><br><span class="line">         x: <span class="built_in">Math</span>.floor(<span class="keyword">this</span>.newIconHeight / <span class="number">325</span> * <span class="built_in">Math</span>.abs(-<span class="built_in">parseInt</span>(<span class="keyword">this</span>.cutIconStyle.transform.slice(<span class="number">11</span>)))),</span><br><span class="line">         y: <span class="number">0</span>,</span><br><span class="line">         w: <span class="keyword">this</span>.newIconHeight,</span><br><span class="line">         h: <span class="keyword">this</span>.newIconHeight</span><br><span class="line">       };</span><br><span class="line">     } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.iconDragBool === <span class="string">&quot;y&quot;</span>) {</span><br><span class="line">       <span class="keyword">this</span>.canvasStyle = {</span><br><span class="line">         x: <span class="number">0</span>,</span><br><span class="line">         y: <span class="built_in">Math</span>.floor(<span class="keyword">this</span>.newIconWidth / <span class="number">325</span> * <span class="built_in">Math</span>.abs(-<span class="built_in">parseInt</span>(<span class="keyword">this</span>.cutIconStyle.transform.slice(<span class="number">11</span>)))),</span><br><span class="line">         w: <span class="keyword">this</span>.newIconWidth,</span><br><span class="line">         h: <span class="keyword">this</span>.newIconWidth</span><br><span class="line">       };</span><br><span class="line">     } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.iconDragBool === <span class="string">&apos;&apos;</span>) {</span><br><span class="line">       <span class="keyword">this</span>.canvasStyle = {</span><br><span class="line">         x: <span class="number">0</span>,</span><br><span class="line">         y: <span class="number">0</span>,</span><br><span class="line">         w: <span class="keyword">this</span>.newIconWidth,</span><br><span class="line">         h: <span class="keyword">this</span>.newIconWidth</span><br><span class="line">       };</span><br><span class="line">     }</span><br><span class="line">     <span class="keyword">let</span> canvas = <span class="built_in">document</span>.createElement(<span class="string">&quot;canvas&quot;</span>);</span><br><span class="line">     <span class="keyword">let</span> ctx = canvas.getContext(<span class="string">&quot;2d&quot;</span>);</span><br><span class="line">     <span class="keyword">this</span>.$nextTick(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">       <span class="comment">//&#x5C06;img&#x88AB;&#x88C1;&#x526A;&#x7684;x,y,w,h&#x6240;&#x5BF9;&#x5E94;&#x7684;canvas&#x533A;&#x57DF;&#x62FF;&#x51FA;&#x6765;</span></span><br><span class="line">       <span class="keyword">let</span> imgData = <span class="keyword">this</span>.$refs.cutCanvas</span><br><span class="line">         .getContext(<span class="string">&quot;2d&quot;</span>)</span><br><span class="line">         .getImageData(</span><br><span class="line">           <span class="keyword">this</span>.canvasStyle.x * <span class="number">2</span>,</span><br><span class="line">           <span class="keyword">this</span>.canvasStyle.y * <span class="number">2</span>,</span><br><span class="line">           <span class="keyword">this</span>.canvasStyle.w * <span class="number">2</span>,</span><br><span class="line">           <span class="keyword">this</span>.canvasStyle.h * <span class="number">2</span></span><br><span class="line">         );</span><br><span class="line">       canvas.width = <span class="keyword">this</span>.canvasStyle.w * <span class="number">2</span>;</span><br><span class="line">       canvas.height = <span class="keyword">this</span>.canvasStyle.h * <span class="number">2</span>;</span><br><span class="line">       <span class="comment">//&#x5C06;&#x88C1;&#x526A;&#x7684;&#x533A;&#x57DF;&#x7ED9;&#x65B0;&#x521B;&#x5EFA;&#x7684;canvas</span></span><br><span class="line">       ctx.putImageData(</span><br><span class="line">         imgData,</span><br><span class="line">         <span class="number">0</span>,</span><br><span class="line">         <span class="number">0</span>,</span><br><span class="line">         <span class="number">0</span>,</span><br><span class="line">         <span class="number">0</span>,</span><br><span class="line">         <span class="keyword">this</span>.canvasStyle.w * <span class="number">2</span>,</span><br><span class="line">         <span class="keyword">this</span>.canvasStyle.h * <span class="number">2</span></span><br><span class="line">       );</span><br><span class="line">       <span class="comment">//&#x8F93;&#x51FA;base64, &#x5934;&#x50CF;&#x9884;&#x89C8;</span></span><br><span class="line">       <span class="keyword">this</span>.perHeadIconSrc = canvas.toDataURL(<span class="string">&quot;image/png&quot;</span>);</span><br><span class="line">     });</span><br><span class="line">   },</span><br></pre></td></tr></tbody></table></figure><p>&#x56FE;&#x7247;&#x7684;&#x5904;&#x7406;&#x6682;&#x65F6;&#x5230;&#x8FD9;&#x91CC;&#xFF0C;&#x4EE5;&#x540E;&#x78B0;&#x5230;&#x5176;&#x4ED6;&#x7684;&#x518D;&#x7EE7;&#x7EED;&#x603B;&#x7ED3;</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;vue 中图片可能只是用于展示，可能是裁剪，可能是点击图片进行跳转&lt;/p&gt;
    
    </summary>
    
    
      <category term="VUE" scheme="https://orange-way.github.io/tags/VUE/"/>
    
  </entry>
  
  <entry>
    <title>vue 总结</title>
    <link href="https://orange-way.github.io//posts/d3b9e1c2/"/>
    <id>https://orange-way.github.io//posts/d3b9e1c2/</id>
    <published>2018-10-22T07:19:32.000Z</published>
    <updated>2019-04-16T02:38:34.868Z</updated>
    
    <content type="html"><![CDATA[<h2 id="vue&#x4E2D;&#x5982;&#x4F55;&#x76D1;&#x63A7;store-js&#x91CC;&#x7684;&#x503C;"><a href="#vue&#x4E2D;&#x5982;&#x4F55;&#x76D1;&#x63A7;store-js&#x91CC;&#x7684;&#x503C;" class="headerlink" title="vue&#x4E2D;&#x5982;&#x4F55;&#x76D1;&#x63A7;store.js&#x91CC;&#x7684;&#x503C;"></a>vue&#x4E2D;&#x5982;&#x4F55;&#x76D1;&#x63A7;store.js&#x91CC;&#x7684;&#x503C;</h2><p>&#x7EC4;&#x4EF6;&#x4E2D;&#x76D1;&#x63A7;state&#x91CC;&#x7684;&#x503C;:<a id="more"></a></p><p>&#x200B;    </p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">store.js:</span><br><span class="line">    import Vue from &apos;vue&apos;</span><br><span class="line">    import Vuex from &apos;vuex&apos;</span><br><span class="line">    Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line">    export default new Vuex.Store({</span><br><span class="line">      state:{</span><br><span class="line">        val: &apos;12345&apos;,</span><br><span class="line">        token: &apos;&apos;</span><br><span class="line">      }</span><br><span class="line">    })</span><br><span class="line"></span><br><span class="line">&#x7EC4;&#x4EF6;&#xFF1A;</span><br><span class="line">    computed: {</span><br><span class="line">        nowToken: {</span><br><span class="line">            get() {</span><br><span class="line">                return this.$store.state.token;</span><br><span class="line">            },</span><br><span class="line">            set() {</span><br><span class="line"></span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    },</span><br><span class="line">    watch: {</span><br><span class="line">        nowToken(newVal, oriVal) {</span><br><span class="line">            console.log(neval, oriVal)</span><br><span class="line">        }</span><br><span class="line">    },</span><br></pre></td></tr></tbody></table></figure><h2 id="vue&#x4E2D;&#x7684;&#x8DEF;&#x7531;&#x5B88;&#x536B;"><a href="#vue&#x4E2D;&#x7684;&#x8DEF;&#x7531;&#x5B88;&#x536B;" class="headerlink" title="vue&#x4E2D;&#x7684;&#x8DEF;&#x7531;&#x5B88;&#x536B;"></a>vue&#x4E2D;&#x7684;&#x8DEF;&#x7531;&#x5B88;&#x536B;</h2><p>&#x6CE8;&#x610F;&#xFF1A;&#x8DEF;&#x7531;&#x5B88;&#x536B;&#xFF08;&#x5373;&#x5728;router.js&#x91CC;&#x7684;&#x67D0;&#x4E2A;&#x8DEF;&#x7531;&#x7684;&#x5B88;&#x536B;&#xFF09;&#xFF0C;&#x8FD9;&#x4E2A;&#x6307;&#x5728;&#x8FDB;&#x5165;&#x8FD9;&#x4E2A;&#x8DEF;&#x7531;&#x4E4B;&#x524D;&#x8981;&#x6267;&#x884C;&#x7684;&#x8BED;&#x53E5;&#xFF0C;&#x6240;&#x4EE5;&#x4E0D;&#x80FD;&#x5305;&#x542B;&#x5728;&#x8FD9;&#x4E2A;&#x8DEF;&#x7531;&#x4E0B;&#x7684;&#x5B50;&#x8DEF;&#x7531;&#xFF0C;&#x5982;&#xFF1A;</p><p>&#x200B;    </p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">     path: &apos;/personal/perContent&apos;,</span><br><span class="line">     name: &apos;perContent&apos;,</span><br><span class="line">     component: perContent,</span><br><span class="line">     children: [</span><br><span class="line">       {</span><br><span class="line">         path: &apos;myLove&apos;,</span><br><span class="line">         component: persoanlmyLove</span><br><span class="line">       },</span><br><span class="line">       {</span><br><span class="line">         path: &apos;myList&apos;,</span><br><span class="line">         component: persoanlmyList,</span><br><span class="line">         children: [{</span><br><span class="line">           path: &apos;createList&apos;,</span><br><span class="line">           component: perContmyListCreate</span><br><span class="line">         }]</span><br><span class="line">       },</span><br><span class="line">       {</span><br><span class="line">         path: &apos;myWorks&apos;,</span><br><span class="line">         component: persoanlmyWorks,</span><br><span class="line">         children: [</span><br><span class="line">           {</span><br><span class="line">               path: &apos;myNoWorks&apos;,</span><br><span class="line">               component: persoanlmyNoWorks</span><br><span class="line">           },</span><br><span class="line">           {</span><br><span class="line">               path: &apos;myWorksWorks&apos;,</span><br><span class="line">               component: perContmyWorksWorks,</span><br><span class="line">           }</span><br><span class="line">         ],</span><br><span class="line">         meta: {</span><br><span class="line">           auth: true</span><br><span class="line">         },</span><br><span class="line">         beforeEnter(to, from, next) {</span><br><span class="line">             if (to.matched.some(m =&gt; m.meta.auth)) {</span><br><span class="line">                 console.log(store.state)</span><br><span class="line">                 if (store.state.musicianBool) {</span><br><span class="line">                    next({ path: &apos;/personal/perContent/myWorks/myWorksWorks&apos;})</span><br><span class="line">                    console.log(&apos;yes&apos;)</span><br><span class="line">                 } else {</span><br><span class="line">                    next({ path: &apos;/personal/perContent/myWorks/myNoWorks&apos;})</span><br><span class="line">                    console.log(&apos;no&apos;)</span><br><span class="line">                 }</span><br><span class="line">             }</span><br><span class="line">         },</span><br><span class="line">      ],</span><br><span class="line">      redirect: &apos;/personal/perContent/myLove&apos;</span><br><span class="line">   },</span><br></pre></td></tr></tbody></table></figure><p>&#x200B;    &#x5728;&#x8FDB;&#x5165;&#x8FD9;&#x4E2A;&#x8DEF;&#x7531;&#x65F6;&#x5224;&#x65AD;musicianbool&#xFF0C;&#x4F46;&#x8FDB;&#x5165;&#x7684;&#x8DEF;&#x7531;&#x5374;&#x662F;&#x5B50;&#x8DEF;&#x7531;,&#x6240;&#x4EE5;&#x8FD9;&#x79CD;&#x4E0D;&#x884C;</p><p>&#x200B;        &#x6240;&#x4EE5;&#x60F3;&#x5230;&#xFF0C;&#x5728;myWorks&#x7684;&#x7EC4;&#x4EF6;&#x91CC;&#x8FDB;&#x884C;&#x7EC4;&#x4EF6;&#x5B88;&#x536B;&#xFF0C;&#x540C;&#x6837;&#x662F;&#x8FDB;&#x5165;&#x8FD9;&#x4E2A;&#x7EC4;&#x4EF6;&#x4E4B;&#x524D;&#x5224;&#x65AD;musicianbool&#xFF0C;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#xFF0C;&#x4F46;&#x662F;&#xFF0C;&#x5F53;myworks&#x7EC4;&#x4EF6;&#x6709;&#x5176;&#x4ED6;&#x5185;&#x5BB9;&#xFF08;&#x4EFB;&#x4F55;&#x5176;&#x4ED6;&#x5185;&#x5BB9;&#xFF09;&#xFF0C;&#x5F53; path:&#x2019;/personal/perContent/myWorks/myWorksWorks&#x2019; &#xFF0C;&#x6B64;&#x65F6;&#x663E;&#x793A;&#x5F53;&#x524D;&#x5B50;&#x8DEF;&#x7531;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x4F46;&#x70B9;&#x51FB;myworks&#x7684;&#x5BFC;&#x822A;&#x83DC;&#x5355;&#x91CC;&#x7684;&#x5F53;&#x524D;&#x8FD9;&#x4E00;&#x9879;&#x65F6;&#xFF0C;&#x4E0D;&#x4F1A;&#x6267;&#x884C;beforeEnter&#x65B9;&#x6CD5;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x70B9;&#x51FB;&#x5F53;&#x524D;&#x83DC;&#x5355;&#x540E;&#xFF0C;&#x4E0D;&#x4F1A;&#x51FA;&#x73B0;&#x5B50;&#x8DEF;&#x7531;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x5982;&#x56FE;&#xFF1A;</p><p><img src="/posts/d3b9e1c2/one.png" alt=""></p><h2 id="vue&#x8DF3;&#x8F6C;&#x9875;&#x9762;&#x540E;&#xFF0C;&#x663E;&#x793A;&#x5728;&#x9875;&#x9762;&#x6700;&#x5E95;&#x90E8;&#x89E3;&#x51B3;&#x529E;&#x6CD5;"><a href="#vue&#x8DF3;&#x8F6C;&#x9875;&#x9762;&#x540E;&#xFF0C;&#x663E;&#x793A;&#x5728;&#x9875;&#x9762;&#x6700;&#x5E95;&#x90E8;&#x89E3;&#x51B3;&#x529E;&#x6CD5;" class="headerlink" title="vue&#x8DF3;&#x8F6C;&#x9875;&#x9762;&#x540E;&#xFF0C;&#x663E;&#x793A;&#x5728;&#x9875;&#x9762;&#x6700;&#x5E95;&#x90E8;&#x89E3;&#x51B3;&#x529E;&#x6CD5;"></a>vue&#x8DF3;&#x8F6C;&#x9875;&#x9762;&#x540E;&#xFF0C;&#x663E;&#x793A;&#x5728;&#x9875;&#x9762;&#x6700;&#x5E95;&#x90E8;&#x89E3;&#x51B3;&#x529E;&#x6CD5;</h2><p>&#x95EE;&#x9898;&#xFF1A;vue&#x4E2D;&#x8DF3;&#x8F6C;&#x8DEF;&#x7531;&#xFF0C;&#x5149;&#x6807;&#x51FA;&#x73B0;&#x5728;&#x5E95;&#x90E8;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x9876;&#x90E8;</p><p>&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#xFF1A;</p><p>&#x200B;    </p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mounted() {     </span><br><span class="line">//&#x89E3;&#x51B3;&#x8DF3;&#x8F6C;&#x9875;&#x9762;&#x540E;&#xFF0C;&#x5149;&#x6807;&#x51FA;&#x73B0;&#x5728;&#x5E95;&#x90E8;</span><br><span class="line">      this.$router.afterEach((to, from, next) =&gt; {</span><br><span class="line">        window.scrollTo(0, 0);</span><br><span class="line">      })</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;vue中如何监控store-js里的值&quot;&gt;&lt;a href=&quot;#vue中如何监控store-js里的值&quot; class=&quot;headerlink&quot; title=&quot;vue中如何监控store.js里的值&quot;&gt;&lt;/a&gt;vue中如何监控store.js里的值&lt;/h2&gt;&lt;p&gt;组件中监控state里的值:&lt;/p&gt;
    
    </summary>
    
    
      <category term="VUE" scheme="https://orange-way.github.io/tags/VUE/"/>
    
  </entry>
  
  <entry>
    <title>hexo配置、如何写博客及更换电脑后更新博客</title>
    <link href="https://orange-way.github.io//posts/3bc207b7/"/>
    <id>https://orange-way.github.io//posts/3bc207b7/</id>
    <published>2018-10-15T06:38:08.000Z</published>
    <updated>2018-10-23T01:43:18.460Z</updated>
    
    <content type="html"><![CDATA[<p>&#x672C;&#x7BC7;&#x53C2;&#x8003;&#x94FE;&#x63A5;&#xFF1A;<a href="https://www.cnblogs.com/visugar/p/6821777.html" target="_blank" rel="noopener">hexo&#x4ECE;&#x96F6;&#x5F00;&#x59CB;&#x5230;&#x642D;&#x5EFA;&#x5B8C;&#x6574;</a></p><p>&#x200B;               <a href="https://www.jianshu.com/p/56d99a3049a5" target="_blank" rel="noopener">hexo&#x5199;&#x535A;&#x5BA2;&#x7684;&#x2018;&#x8BED;&#x6CD5;&#x2018;1</a></p><p>&#x200B;               <a href="https://blog.csdn.net/wsmrzx/article/details/81478945" target="_blank" rel="noopener">hexo&#x5199;&#x535A;&#x5BA2;&#x7684;&#x2018;&#x8BED;&#x6CD5;&#x2018;2</a></p><p>&#x200B;                           <a href="https://blog.csdn.net/eternity1118_/article/details/71194395?ref=myread" target="_blank" rel="noopener">&#x66F4;&#x6362;&#x7535;&#x8111;&#x540E;&#x5982;&#x4F55;&#x5199;&#x535A;&#x5BA2;</a></p><p>&#x672C;&#x7BC7;&#x662F;&#x5728;&#x5DF2;&#x5B89;&#x88C5;node&#x3001;git&#x53CA;&#x5DF2;&#x6709;github&#x8D26;&#x53F7;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x914D;&#x7F6E;hexo<a id="more"></a></p><h2 id="hexo&#x914D;&#x7F6E;"><a href="#hexo&#x914D;&#x7F6E;" class="headerlink" title="hexo&#x914D;&#x7F6E;"></a>hexo&#x914D;&#x7F6E;</h2><ol><li><p>&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x5939;blog</p></li><li><p>&#x5728;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#x6267;&#x884C;&#x5B89;&#x88C5;&#x547D;&#x4EE4;&#xFF1A; <code>npm i -g hexo</code>   (&#x6709;&#x65F6;&#x672C;&#x5730;&#x53EF;&#x80FD;&#x4E5F;&#x9700;&#x8981;&#x5B89;&#x88C5;)</p></li><li><p>hexo -v` :&#x67E5;&#x770B;hexo&#x7684;&#x7248;&#x672C;&#x53F7;</p></li><li><p>&#x6267;&#x884C;<code>hexo init</code>: &#x6587;&#x4EF6;&#x521D;&#x59CB;&#x5316;&#xFF0C;&#x4F1A;&#x521B;&#x5EFA;&#x4E00;&#x4E9B;&#x6587;&#x4EF6;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;</p></li></ol><p><img src="/posts/3bc207b7/init1.png" alt="&#x6587;&#x4EF6;&#x5939;">   <img src="/posts/3bc207b7/init2.png" alt="&#x6587;&#x4EF6;&#x5185;&#x5BB9;"></p><ol start="5"><li><p>&#x5728;github&#x4E0A;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;repository,&#x6587;&#x4EF6;&#x540D;&#x4E3A;&#xFF1A;<code>yourname.github.io</code></p></li><li><p>&#x6267;&#x884C;&#xFF1A;<code>git config --global user.name &quot;yourname&quot;</code>, </p></li></ol><p>&#x200B;                   <code>git config --global user.email &quot;youreamil&quot;</code>, </p><p>&#x200B;                   &#x7B2C;&#x4E00;&#x53E5;&#x8981;&#x52A0;&#x5F15;&#x53F7;&#xFF0C;&#x7B2C;&#x4E8C;&#x53E5;&#x4E0D;&#x7528;</p><ol start="7"><li><p>&#x6267;&#x884C;&#xFF1A;<code>ssh-keygen -t rsa -C &quot;youremail&quot;</code> &#xFF0C;&#x751F;&#x6210;ssh&#xFF0C;&#x7136;&#x540E;&#x5728;c&#x76D8;&#x627E;&#x5230; <code>id_rsa.pub</code>&#x7684;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#xFF0C;&#x7136;&#x540E;&#x6DFB;&#x52A0;&#x5230;github&#x7684;ssh keys&#x91CC;</p></li><li><p>&#x6253;&#x5F00;blog&#x4E0B;&#x7684;<code>_config.yml</code>&#xFF08;&#x6B64;&#x6587;&#x4EF6;&#x91CC;&#x5192;&#x53F7;&#x540E;&#x90FD;&#x662F;&#x6709;&#x4E00;&#x4E2A;&#x7A7A;&#x683C;&#xFF09;,&#x7136;&#x540E;&#x4FEE;&#x6539;</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">   type: git</span><br><span class="line">   repo: https://github.com/YourgithubName/YourgithubName.github.io.git</span><br><span class="line">   branch: master</span><br></pre></td></tr></tbody></table></figure></li><li><p>&#x6267;&#x884C;&#x4E0B;&#x9762;&#x4E09;&#x53E5;&#xFF0C;&#x53EF;&#x5728;&#x672C;&#x5730;&#x8FD0;&#x884C;&#x67E5;&#x770B;&#x535A;&#x5BA2;&#xFF0C;&#x4EE5;&#x540E;&#x5728;&#x672C;&#x5730;&#x8FD0;&#x884C;&#xFF0C;&#x90FD;&#x6309;&#x7167;&#x4E0B;&#x9762;&#x4E09;&#x6B65;</p><p>&#x200B;    </p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean  &#x5220;&#x9664;&#x539F;&#x6765;&#x7684;public&#x6587;&#x4EF6;&#x5939;&#xFF08;&#x5B58;&#x653E;&#x751F;&#x6210;&#x7684;&#x535A;&#x5BA2;&#x7684;&#x9759;&#x6001;&#x9875;&#x9762;&#x7684;&#xFF09;&#xFF0C;&#x7B2C;&#x4E00;&#x6B21;&#x6267;&#x884C;&#x65F6;&#x662F;&#x6CA1;&#x6709;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6; </span><br><span class="line">hexo genarate  &#x751F;&#x6210;&#x9759;&#x6001;&#x9875;&#x9762;</span><br><span class="line">hexo server  &#x53D1;&#x5E03;&#x9875;&#x9762;&#xFF0C;hexo3&#x4EE5;&#x4E0A;&#x9700;&#x5B89;&#x88C5; npm i hexo-server</span><br></pre></td></tr></tbody></table></figure></li><li><p>&#x4E0A;&#x4F20;&#x5230;github&#xFF0C;&#x5148;&#x5B89;&#x88C5; <code>npm install hexo-deployer-git --save</code>&#xFF0C;&#x8FD9;&#x4E2A;&#x662F;&#x5C06;&#x5199;&#x597D;&#x7684;&#x9875;&#x9762;&#x90E8;&#x7F72;&#x5230;github&#x4E0A;&#x5E76;&#x8BA9;&#x522B;&#x4EBA;&#x6D4F;&#x89C8;&#x5230;&#xFF0C;&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#xFF0C;&#x53EF;&#x5728; <code>https://yourname.github.io</code>&#x4E0A;&#x770B;&#x5230;&#x81EA;&#x5DF1;&#x7684;&#x535A;&#x5BA2;</p><p>&#x200B;    </p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">hexo deploy  &#x90E8;&#x7F72;&#x5230;github&#x4E0A;</span><br></pre></td></tr></tbody></table></figure></li></ol><p>&#x200B;          &#x81EA;&#x6B64;&#xFF0C;hexo&#x57FA;&#x672C;&#x914D;&#x7F6E;&#x5B8C;&#x6210;&#xFF0C;&#x4EE5;&#x540E;&#x66F4;&#x65B0;github&#x4E0A;&#x7684;&#x535A;&#x5BA2;&#xFF0C;&#x90FD;&#x6309;&#x7167;&#x8FD9;&#x4E09;&#x6B65;&#x6765;</p><ol start="11"><li>&#x6539;&#x53D8;hexo&#x7684;&#x4E3B;&#x9898;&#x5C31;&#x662F;&#x6539;&#x53D8;&#x535A;&#x5BA2;&#x7684;&#x6837;&#x5F0F;&#xFF08;&#x53EF;&#x4EE5;&#x4E0D;&#x6539;&#xFF09;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x8FD9;&#x91CC;&#x627E;&#x81EA;&#x5DF1;&#x559C;&#x6B22;&#x7684;&#x4E3B;&#x9898;&#xFF1A;<a href="https://hexo.io/themes/" target="_blank" rel="noopener">hexo&#x4E3B;&#x9898;</a>,</li></ol><p>&#x6211;&#x627E;&#x7684;&#x662F;tomotoes,&#x7136;&#x540E;&#x5728;github&#x4E0A;&#x641C;&#x7D22;&#x8FD9;&#x4E2A;&#x4E3B;&#x9898;&#xFF0C;&#x7167;&#x7740;&#x4E3B;&#x9898;&#x7684;&#x4F5C;&#x8005;&#x5199;&#x7684;&#x6587;&#x6863;&#x4E00;&#x6B65;&#x4E00;&#x6B65;&#x6765;&#x5C31;&#x597D;&#x4E86;</p><ol start="12"><li>&#x6DFB;&#x52A0;rss</li></ol><p>&#x5148;&#x5B89;&#x88C5;&#x63D2;&#x4EF6; <code>npm i hexo-generator-feed</code></p><p>&#x5728; <code>blog/_config.yml</code>&#x91CC;&#x627E;&#x5230;Extensions&#x6DFB;&#x52A0;&#x5185;&#x5BB9;&#xFF1A;</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># Extensions #&#x63D2;&#x4EF6;&#x548C;&#x4E3B;&#x9898; </span><br><span class="line">## Plugins: https://hexo.io/plugins/ </span><br><span class="line">## Themes: https://hexo.io/themes/ </span><br><span class="line">theme: tomotoes</span><br><span class="line">#RSS&#x8BA2;&#x9605; </span><br><span class="line">plugin: - hexo-generator-feed </span><br><span class="line">#Feed Atom </span><br><span class="line">feed: </span><br><span class="line">type: atom </span><br><span class="line">path: atom.xml </span><br><span class="line">limit: 20</span><br></pre></td></tr></tbody></table></figure><p>&#x7136;&#x540E;&#x91CD;&#x65B0;&#x518D;&#x91CD;&#x65B0;&#x90E8;&#x7F72;&#x5C31;&#x597D;&#x4E86;</p><h2 id="hexo&#x5982;&#x4F55;&#x5199;&#x535A;&#x5BA2;"><a href="#hexo&#x5982;&#x4F55;&#x5199;&#x535A;&#x5BA2;" class="headerlink" title="hexo&#x5982;&#x4F55;&#x5199;&#x535A;&#x5BA2;"></a>hexo&#x5982;&#x4F55;&#x5199;&#x535A;&#x5BA2;</h2><p>&#x6267;&#x884C;<code>hexo new title</code>, &#x521B;&#x5EFA;&#x81EA;&#x5DF1;&#x5199;&#x7684;&#x535A;&#x5BA2;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x7528;typora&#x6253;&#x5F00;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#xFF08;blog/source/_post/title.md&#xFF09;</p><ol><li><p>&#x6807;&#x9898;<br>Markdown&#x8BED;&#x6CD5;&#xFF1A;</p><p>&#x200B;    </p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># &#x4E00;&#x7EA7;&#x6807;&#x9898;</span><br><span class="line">## &#x4E8C;&#x7EA7;&#x6807;&#x9898;</span><br><span class="line">### &#x4E09;&#x7EA7;&#x6807;&#x9898;</span><br><span class="line">#### &#x56DB;&#x7EA7;&#x6807;&#x9898;</span><br><span class="line">##### &#x4E94;&#x7EA7;&#x6807;&#x9898;</span><br><span class="line">###### &#x516D;&#x7EA7;&#x6807;&#x9898;</span><br><span class="line">Typora&#x5FEB;&#x6377;&#x952E;&#xFF1A; </span><br><span class="line">Ctrl+1&#xFF1A;&#x4E00;&#x7EA7;&#x6807;&#x9898; </span><br><span class="line">Ctrl+2&#xFF1A;&#x4E8C;&#x7EA7;&#x6807;&#x9898; </span><br><span class="line">Ctrl+3&#xFF1A;&#x4E09;&#x7EA7;&#x6807;&#x9898; </span><br><span class="line">Ctrl+4&#xFF1A;&#x56DB;&#x7EA7;&#x6807;&#x9898; </span><br><span class="line">Ctrl+5&#xFF1A;&#x4E94;&#x7EA7;&#x6807;&#x9898; </span><br><span class="line">Ctrl+6 &#xFF1A;&#x516D;&#x7EA7;&#x6807;&#x9898; </span><br><span class="line">Ctrl+0&#xFF1A;&#x6BB5;&#x843D;</span><br></pre></td></tr></tbody></table></figure></li><li><p>&#x7C97;&#x4F53;&#x3001;&#x659C;&#x4F53;&#x3001;&#x5220;&#x9664;&#x7EBF;&#x548C;&#x4E0B;&#x5212;&#x7EBF;<br>Markdown&#x8BED;&#x6CD5;&#xFF1A;</p><p>&#x200B;    </p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">*&#x659C;&#x4F53;*</span><br><span class="line">**&#x7C97;&#x4F53;**</span><br><span class="line">***&#x52A0;&#x7C97;&#x659C;&#x4F53;***</span><br><span class="line">~~&#x5220;&#x9664;&#x7EBF;~~</span><br><span class="line">Typora&#x5FEB;&#x6377;&#x952E;&#xFF1A; </span><br><span class="line">Ctrl+I&#xFF1A;&#x659C;&#x4F53; </span><br><span class="line">Ctrl+B&#xFF1A;&#x7C97;&#x4F53; </span><br><span class="line">Ctrl+U&#xFF1A;&#x4E0B;&#x5212;&#x7EBF; </span><br><span class="line">Alt+Shift+5&#xFF1A;&#x5220;&#x9664;&#x7EBF;</span><br></pre></td></tr></tbody></table></figure></li><li><p>&#x8D85;&#x94FE;&#x63A5;<br>Markdown&#x8BED;&#x6CD5;&#xFF1A;</p><p>&#x200B;    </p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x884C;&#x5185;&#x5F62;&#x5F0F;&#xFF1A;[&#x6211;&#x7684;&#x535A;&#x5BA2;](https://kevinpu.github.io/)</span><br><span class="line">&#x53C2;&#x8003;&#x5F62;&#x5F0F;&#xFF1A;[&#x6211;&#x7684;&#x535A;&#x5BA2;][1]&#xFF0C;&#x6709;&#x4E00;&#x4E2A;&#x5F88;&#x597D;&#x7684;&#x5E73;&#x53F0;-[&#x7B80;&#x4E66;][2]</span><br><span class="line">[1]:https://kevinpu.github.io/</span><br><span class="line">[2]:http://www.jianshu.com/</span><br><span class="line">&#x81EA;&#x52A8;&#x94FE;&#x63A5;&#xFF1A;&#x6211;&#x7684;&#x535A;&#x5BA2;&#x5730;&#x5740;&lt;https://kevinpu.github.io/&gt;</span><br></pre></td></tr></tbody></table></figure></li><li><p>&#x4EE3;&#x7801;<br>Markdown&#x8BED;&#x6CD5;&#xFF1A;&#xFF08;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x8D77;&#x89C1;&#xFF0C;&#x8FD9;&#x91CC;&#x5C06;&#x4F7F;&#x7528;&#x5B57;&#x7B26;a&#x4EE3;&#x66FF;&#x53CD;&#x5F15;&#x53F7;&#x2019;<code>&apos;&#xFF09;</code></p><p>Typora&#x5FEB;&#x6377;&#x952E;&#xFF1A;Ctrl+Shift+`,&#x6709;&#x4E9B;&#x7248;&#x672C;&#x7684;&#x5FEB;&#x6377;&#x952E;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x53EF; &#x5728;typora&#x7684;&#x6BB5;&#x843D;&#x91CC;&#x67E5;&#x770B;</p></li><li><p>&#x5206;&#x5272;&#x7EBF;<br>Markdown&#x8BED;&#x6CD5;:</p><p>&#x200B;    </p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line"></span><br><span class="line">***</span><br></pre></td></tr></tbody></table></figure></li></ol><p>&#x4EE5;&#x4E0A;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x5747;&#x53EF;&#x4EE5;&#x8868;&#x793A;&#x4E3A;&#x5206;&#x5272;&#x7EBF;</p><ol start="6"><li><p>&#x5217;&#x8868;<br>Markdown&#x8BED;&#x6CD5;&#xFF1A;</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x6709;&#x5E8F;&#x5217;&#x8868;&#x7528; &#xFF1A;&#x6570;&#x5B57; + . + &#x7A7A;&#x683C;</span><br><span class="line">&#x65E0;&#x5E8F;&#x5FEB;&#x6377;&#x952E;&#x53EF;&#x5728;typora&#x7684;&#x6BB5;&#x843D;&#x91CC;&#x67E5;&#x770B;</span><br></pre></td></tr></tbody></table></figure></li><li><p>&#x56FE;&#x7247;<br>Markdown&#x8BED;&#x6CD5;&#xFF1A;</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">![&#x56FE;&#x7247;&#x6587;&#x5B57;] (&#x56FE;&#x7247;&#x5730;&#x5740; &quot;&#x56FE;&#x7247;&#x63CF;&#x8FF0;&quot;)</span><br><span class="line">&#x4F8B;&#x5982;&#xFF1A;![&#x793A;&#x4F8B;&#x56FE;&#x7247;] (https://www.example.com/example.PNG &quot;&#x793A;&#x4F8B;&#x56FE;&#x7247;&quot;)</span><br><span class="line"></span><br><span class="line">&#x6CE8;&#xFF1A;&#x56FE;&#x7247;&#x82E5;&#x662F;&#x672C;&#x5730;&#x7684;&#xFF0C;&#x90A3;&#x8DEF;&#x5F84;&#x8981;&#x6839;&#x636E; blob/_config.yml &#x91CC;&#x7684; permalink &#x7684;&#x914D;&#x7F6E;&#x6765;&#xFF0C;</span><br><span class="line">permalink: :year/:month/:day/:title/ &#xFF0C;&#x82E5;&#x662F;&#x7528;&#x7684;&#x662F;&#x8FD9;&#x79CD;&#x7684;&#x65E5;&#x671F;&#x547D;&#x540D;&#x5F0F;</span><br><span class="line">            &#x90A3;&#x5C31;&#x662F;&#xFF1A; ![&#x793A;&#x4F8B;&#x56FE;&#x7247;] (example/example.PNG)</span><br><span class="line">permalink: /posts/:abbrlink/  &#xFF0C;&#x82E5;&#x662F;&#x7528;&#x7684;&#x8FD9;&#x79CD;&#xFF0C;&#x90A3;&#x76F4;&#x63A5;&#x5199; ![&#x793A;&#x4F8B;&#x56FE;&#x7247;](example.PNG)&#xFF0C;&#x8FD9;&#x79CD;                &#x5728;typora&#x91CC;&#x663E;&#x793A;&#x56FE;&#x7247;&#x52A0;&#x8F7D;&#x5931;&#x8D25;&#xFF0C;&#x4F46;&#x5728;&#x7F51;&#x9875;&#x662F;&#x52A0;&#x8F7D;&#x6210;&#x529F;&#x7684;</span><br><span class="line"></span><br><span class="line">&#x8BF4;&#x660E;&#xFF1A;&#x5728;Hexo&#x4E2D;&#x63D2;&#x5165;&#x56FE;&#x7247;&#x65F6;&#xFF0C;&#x8BF7;&#x6309;&#x7167;&#x4EE5;&#x4E0B;&#x6B65;&#x9AA4;&#x8FDB;&#x884C;&#x8BBE;&#x7F6E;</span><br><span class="line">&#xFF08;1&#xFF09;&#x5C06;&#x7AD9;&#x70B9;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x7684; post_asset_folder &#x9009;&#x9879;&#x8BBE;&#x7F6E;&#x6210; true</span><br><span class="line">&#xFF08;2&#xFF09;&#x5728;&#x7AD9;&#x70B9;&#x6587;&#x4EF6;&#x5939;&#x4E2D;&#x6253;&#x5F00; git bash&#xFF0C;&#x8F93;&#x5165;&#x547D;&#x4EE4; npm install hexo-asset-image --save &#x5B89;&#x88C5;&#x63D2;&#x4EF6;</span><br><span class="line">&#xFF08;3&#xFF09;&#x6B64;&#x65F6;&#x4F7F;&#x7528; hexo new title &#x521B;&#x5EFA;&#x6587;&#x7AE0;&#x65F6;&#xFF0C;&#x5C06;&#x540C;&#x65F6;&#x5728;source/_post&#x6587;&#x4EF6;&#x5939;&#x4E2D;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x4E0E;title&#x540C;&#x540D;&#x7684;&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x6211;&#x4EEC;&#x53EA;&#x9700;&#x5C06;&#x5F85;&#x6DFB;&#x52A0;&#x7684;&#x56FE;&#x7247;&#x653E;&#x8FDB;&#x6B64;&#x6587;&#x4EF6;&#x5939;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x6587;&#x7AE0;&#x4E2D;&#x901A;&#x8FC7;Markdown&#x8BED;&#x6CD5;&#x8FDB;&#x884C;&#x5F15;&#x7528;&#x5373;&#x53EF;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;&#x5728;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#x5939;&#xFF08;&#x5C31;&#x662F;&#x90A3;&#x4E2A;&#x4E0E;title&#x540C;&#x540D;&#x7684;&#x6587;&#x4EF6;&#x5939;&#xFF09;&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;&#x56FE;&#x7247;example.PNG&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x5728;&#x5BF9;&#x5E94;&#x7684;&#x6587;&#x7AE0;&#x4E2D;&#x4F7F;&#x7528;&#x8BED;&#x53E5; ![&#x793A;&#x4F8B;&#x56FE;&#x7247;](title/example.PNG &quot;&#x793A;&#x4F8B;&#x56FE;&#x7247;&quot;) &#x6DFB;&#x52A0;&#x56FE;&#x7247;</span><br></pre></td></tr></tbody></table></figure><p>Typora&#x5FEB;&#x6377;&#x952E;&#xFF1A;Ctrl+Shift+I</p></li></ol><h2 id="&#x8DDF;&#x6362;&#x7535;&#x8111;&#x540E;&#x5982;&#x4F55;&#x7EE7;&#x7EED;&#x5199;&#x535A;&#x5BA2;"><a href="#&#x8DDF;&#x6362;&#x7535;&#x8111;&#x540E;&#x5982;&#x4F55;&#x7EE7;&#x7EED;&#x5199;&#x535A;&#x5BA2;" class="headerlink" title="&#x8DDF;&#x6362;&#x7535;&#x8111;&#x540E;&#x5982;&#x4F55;&#x7EE7;&#x7EED;&#x5199;&#x535A;&#x5BA2;"></a>&#x8DDF;&#x6362;&#x7535;&#x8111;&#x540E;&#x5982;&#x4F55;&#x7EE7;&#x7EED;&#x5199;&#x535A;&#x5BA2;</h2><ol><li><p>&#x628A;&#x539F;&#x6765;&#x7535;&#x8111;&#x4E0A;&#x5DF2;&#x914D;&#x7F6E;&#x597D;&#x7684;hexo&#x4E0B;&#x7684;&#x4E00;&#x4E9B;&#x6587;&#x4EF6;&#xFF0C;&#x62F7;&#x8D1D;&#x5230;&#x65B0;&#x7535;&#x8111;&#x4E0A;, &#x653E;&#x5728;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#xFF0C;&#x5982;blog</p><p><img src="/posts/3bc207b7/change1.png" alt=""></p></li></ol><ol start="2"><li><p>&#x5728;&#x65B0;&#x7535;&#x8111;&#x4E0A;&#x88C5;node&#x3001;git&#x7B49;</p></li><li><p>&#x5B89;&#x88C5;hexo&#xFF0C;<code>npm install -g hexo</code>, &#x672C;&#x5730;&#x6709;&#x65F6;&#x4E5F;&#x9700;&#x8981;&#x5B89;&#x88C5;</p></li><li><p>&#x8FDB;&#x5165;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x4E0B;&#xFF0C;&#x6267;&#x884C;&#xFF1A; </p><p>&#x200B;    </p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br><span class="line">npm install hexo-deployer-git --save</span><br><span class="line">npm install hexo-generator-feed --save</span><br><span class="line">npm install hexo-generator-sitemap --save</span><br></pre></td></tr></tbody></table></figure></li><li><p>&#x6267;&#x884C;&#x90E8;&#x7F72;&#x4E09;&#x90E8;&#x66F2;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5DF2;&#x5199;&#x7684;&#x535A;&#x5BA2;&#x7684;&#x9759;&#x6001;&#x9875;&#x9762;&#x4E86;&#xFF08;blog/source/_post/&#xFF09;</p><p>&#x200B;    </p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm clean</span><br><span class="line">npm g</span><br><span class="line">hexo d</span><br></pre></td></tr></tbody></table></figure><p>&#x7136;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x5728;&#x65B0;&#x7535;&#x8111;&#x4E0A;&#x7EE7;&#x7EED;&#x5199;&#x535A;&#x5BA2;&#x4E86;</p></li></ol><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本篇参考链接：&lt;a href=&quot;https://www.cnblogs.com/visugar/p/6821777.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;hexo从零开始到搭建完整&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;​               &lt;a href=&quot;https://www.jianshu.com/p/56d99a3049a5&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;hexo写博客的‘语法‘1&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;​               &lt;a href=&quot;https://blog.csdn.net/wsmrzx/article/details/81478945&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;hexo写博客的‘语法‘2&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;​                           &lt;a href=&quot;https://blog.csdn.net/eternity1118_/article/details/71194395?ref=myread&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;更换电脑后如何写博客&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;本篇是在已安装node、git及已有github账号的情况下，配置hexo&lt;/p&gt;
    
    </summary>
    
    
      <category term="hexo" scheme="https://orange-way.github.io/tags/hexo/"/>
    
  </entry>
  
</feed>
