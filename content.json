[{"title":"es6 总结","date":"2019-03-22T07:53:31.000Z","path":"/posts/e867c90a/","text":"es6 &#x603B;&#x7ED3; &#x200B; let&#x3001;const&#x5728;es6&#x4E4B;&#x524D;&#x7684;&#x4F5C;&#x7528;&#x57DF;&#x5206;&#x4E3A;&#xFF1A;&#x5168;&#x5C40;&#x4F5C;&#x7528;&#x57DF;&#x3001;&#x51FD;&#x6570;&#x4F5C;&#x7528;&#x57DF;&#xFF0C;&#x800C;&#x5728;es6&#x4E2D;&#x51FA;&#x73B0;&#x4E86;&#x4E00;&#x4E2A;&#x5757;&#x7EA7;&#x4F5C;&#x7528;&#x57DF; &#x200B; var&#xFF1A;&#x53D8;&#x91CF;&#x58F0;&#x660E;&#x63D0;&#x5347;&#x3001;&#x53EF;&#x91CD;&#x590D;&#x5B9A;&#x4E49;&#x3001;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x6302;&#x8F7D;&#x5230; window &#x200B; let&#xFF08;&#x5757;&#x7EA7;&#x53D8;&#x91CF;&#x58F0;&#x660E;&#xFF09;: &#x2003;&#x2003;1 &#x6CA1;&#x6709;&#x53D8;&#x91CF;&#x58F0;&#x660E;&#x63D0;&#x5347;&#x3001;&#x4E0D;&#x80FD;&#x91CD;&#x590D;&#x5B9A;&#x4E49;&#x3001;&#x4E0D;&#x6302;&#x8F7D;&#x5230; &#x2003;&#x2003;2 &#x58F0;&#x660E;&#x7684;&#x53D8;&#x91CF;&#x548C; {} &#x914D;&#x5408;&#x4EA7;&#x751F;&#x5757;&#x7EA7;&#x4F5C;&#x7528;&#x57DF; - &#x751F;&#x547D;&#x5728;&#x5927;&#x62EC;&#x53F7;&#x5185;&#x90E8;&#x7684;&#x53D8;&#x91CF;&#x65E0;&#x6CD5;&#x5728;&#x5916;&#x90E8;&#x4F7F;&#x7528; &#x2003;&#x2003;3 &#x4EA7;&#x751F;&#x4E34;&#x65F6; Temporal Dead Zone &#xFF08;&#x4E34;&#x65F6;&#x6B7B;&#x533A;&#xFF09; &#x2003;&#x2003;4 &#x89E3;&#x51B3;&#x95ED;&#x5305;&#x95EE;&#x9898;&#xFF08;ES6&#x89C4;&#x8303;&#x540E;&#x5F15;&#x5165;&#x7684;&#xFF09; const&#xFF08;&#x5757;&#x7EA7;&#x53D8;&#x91CF;&#x58F0;&#x660E;&#xFF09;&#xFF1A; &#x2003;&#x2003;&#x5176;&#x5B58;&#x50A8;&#x91CF;&#x7684;&#x7A7A;&#x95F4;&#x4E0D;&#x53EF;&#x4EE5;&#x88AB;&#x6539;&#x53D8;&#x3001;&#x5176;&#x4F59;&#x548C; let &#x4E00;&#x6837; &#x200B; &#x603B;&#xFF1A;&#x5148; const &#x518D; let &#x200B; spreed&amp;rest&#x2026; &#x5C55;&#x5F00; &#x6536;&#x96C6; &#x8FD0;&#x7B97;&#x7B26;&#xFF1A; &#x2003;&#x2003;&#x5199;&#xFF1A;function test (...arg) {}; test(1, 2, 3); &#x2014;&#x6536;&#x96C6;&#x4F5C;&#x7528; &#x2003;&#x2003;&#x8BFB;&#xFF1A;var arg = [1, 2, 3]; console.log(...arg); &#x2014;&#x5C55;&#x5F00;&#x4F5C;&#x7528; &#x5BF9;&#x4E8E;&#x8FD9;&#x4E2A; &#x2026; &#xFF0C;es6 &#x4E2D;&#x53EF;&#x4EE5;&#x5904;&#x7406;&#x6570;&#x7EC4;&#xFF0C;es7 &#x4E2D;&#x53EF;&#x4EE5;&#x5904;&#x7406;&#x5BF9;&#x8C61; &#x8FD9;&#x91CC;&#x8FD8;&#x6709;&#x4E2A;&#x65B9;&#x6CD5; Object.assign &#xFF0C;&#x53EF;&#x4EE5;&#x514B;clone&#xFF0C;&#x4F46;&#x662F;&#x662F;&#x6D45;clone&#xFF1A; 12345678910let obj1 = { name: &apos;vs&apos;}let obj2 = { value: &apos;more&apos;}console.log( Object.assign({}, obj1, obj2) );// {&quot;name&quot;:&quot;vs&quot;,&quot;value&quot;:&quot;more&quot;} &#x200B; destructuring&#x89E3;&#x6784;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x7ED3;&#x6784;&#x5316;&#x8D4B;&#x503C;&#xFF0C;&#x5176;&#x5B9E;&#x6211;&#x89C9;&#x5F97;&#x5C31;&#x662F;&#x4E24;&#x8005;&#x5BF9;&#x6BD4;&#xFF0C;&#x7136;&#x540E;&#x628A;&#x76F8;&#x540C;&#x4F4D;&#x7F6E;&#x7684;&#x5185;&#x5BB9;&#x8D4B;&#x503C;&#x8FC7;&#x53BB;&#x3002;&#x5F53;&#x7136;&#x4E5F;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x503C;&#xFF0C;&#x5F53;&#x5BF9;&#x9762;&#x4E0D;&#x5B58;&#x5728;&#x8FD9;&#x4E2A;&#x503C;&#x5F97;&#x65F6;&#x5019;&#x5C31;&#x7528;&#x9ED8;&#x8BA4;&#x503C; 12345678910let obj = { name: &apos;hemuyi&apos;, age: 18}let {name, age, position = &apos;wh&apos;} = objconsole.log(name, age, position)// hemuyi 18 wh &#x200B; &#x7BAD;&#x5934;&#x51FD;&#x6570;&#x7BAD;&#x5934;&#x51FD;&#x6570;&#x51CF;&#x5C11;&#x4E86;&#x5F88;&#x591A;&#x4EE3;&#x7801;&#x91CF;&#xFF0C;&#x5F53;&#x7136;&#x4E0D;&#x6B62;&#x8FD9;&#x4E2A;&#x4F5C;&#x7528;&#xFF0C;&#x5BF9;&#x4E8E;&#x95ED;&#x5305;&#x5B83;&#x4E5F;&#x53EF;&#x4EE5;&#x5F88;&#x597D;&#x7684;&#x5904;&#x7406; &#x7BAD;&#x5934;&#x51FD;&#x6570;&#x7279;&#x70B9;&#xFF1A; &#x2003;&#x2003;1 &#x4E0D;&#x7528;&#x5199; function &#x5173;&#x952E;&#x5B57; &#x2003;&#x2003;2 &#x53EA;&#x80FD;&#x4F5C;&#x4E3A;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#xFF0C;&#x4E0D;&#x80FD; new&#xFF0C; &#x6CA1;&#x6709;&#x539F;&#x578B; &#x2003;&#x2003;3 &#x53C2;&#x6570;&#x540D;&#x4E0D;&#x80FD;&#x91CD;&#x590D; &#x2003;&#x2003;4 &#x8FD4;&#x56DE;&#x503C;&#x53EF;&#x4EE5;&#x4E0D;&#x5199; return&#xFF0C;&#x4F46;&#x8981;&#x914D;&#x5408; {} &#x4F7F;&#x7528; &#x2003;&#x2003;5 &#x5185;&#x90E8; arguments this &#x7531;&#x5B9A;&#x4E49;&#x65F6;&#x5916;&#x56F4;&#x6700;&#x63A5;&#x8FD1;&#x4E00;&#x5C42;&#x7684;&#x975E;&#x7BAD;&#x5934;&#x51FD;&#x6570;&#x7684; arguments &#x548C; this &#x51B3;&#x5B9A;&#x5176;&#x503C; 1234567891011121314function test (a, b) { return a + b}test(1, 2)// &#x7BAD;&#x5934;&#x51FD;&#x6570;&#x5F62;&#x5F0F;&#xFF0C;&#x6CE8;&#x610F;&#x8FD9;&#x79CD;&#x8FD4;&#x56DE;&#x7684;&#x4E0D;&#x662F;&#x5BF9;&#x8C61;var test2 = (a, b) =&gt; a + btest2(1, 2) // 3// &#x7BAD;&#x5934;&#x51FD;&#x6570;&#x5F62;&#x5F0F;&#xFF0C;&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x5BF9;&#x8C61;&#xFF0C;&#x9700;&#x8981;&#x7528; &#xFF08;&#xFF09; &#x628A;&#x8FD9;&#x91CC;&#x53D8;&#x6210;&#x8868;&#x8FBE;&#x5F0F;var test3 = (a, b) =&gt; ({a: a, b: b})test3(1, 2) // {a: 1, b: 2} &#x9AD8;&#x9636;&#x51FD;&#x6570;&#x7684;&#x65F6;&#x5019;&#xFF1A; 12345678910111213function sum1 (x) { return function (y) { return function (z) { return x + y + z } }}sum1(1)(2)(3) // 6// &#x7BAD;&#x5934;&#x51FD;&#x6570;var sum2 = x =&gt; y =&gt; z =&gt; x + y + zsum2(1)(2)(3) // 6 &#x603B;&#xFF1A;&#x8FD9;&#x4E2A;&#x8981;&#x7075;&#x6D3B;&#x4F7F;&#x7528;&#x597D;&#x554A;&#xFF0C;&#x53EF;&#x4EE5;&#x65B9;&#x4FBF;&#x5F88;&#x591A; &#x200B; ES5 - Object.defineProperty&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x53EF;&#x76F4;&#x63A5;&#x5728;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x4E0A;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x5177;&#x6709;&#x8BE6;&#x7EC6;&#x63CF;&#x8FF0;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x6216;&#x8005;&#x4FEE;&#x6539;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x73B0;&#x6709;&#x5C5E;&#x6027;&#xFF0C; &#x5E76;&#x8FD4;&#x56DE;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x3002; &#x4F7F;&#x7528;&#xFF1A;Object.defineProperty(&#x5BF9;&#x8C61;&#xFF0C;&#x5C5E;&#x6027;&#xFF0C;&#x63CF;&#x8FF0;&#x7B26;); &#x4F7F;&#x7528;&#x89C4;&#x5219;&#xFF1A; &#x2003;&#x2003;&#x6570;&#x636E;&#x63CF;&#x8FF0;&#x7B26;&#xFF1A; &#x2003;&#x2003;&#x2003;&#x2003;value: &#x2018;xxx&#x2019;&#x5C5E;&#x6027;&#x503C;&#x3002; &#x9ED8;&#x8BA4;&#x2018;&#x2019; &#x2003; &#x2003; &#x2003; writable&#xFF1A;true &#x662F;&#x5426;&#x53EF;&#x5199;&#x3002;&#x9ED8;&#x8BA4;false &#x2003;&#x2003;&#x2003;&#x2003;configurable&#xFF1A;true &#x662F;&#x5426;&#x53EF;&#x914D;&#x7F6E;&#x3002;&#x9ED8;&#x8BA4;false &#x2003;&#x2003;&#x2003;&#x2003;enumerable&#xFF1A;true &#x662F;&#x5426;&#x53EF;&#x679A;&#x4E3E;&#x3002;&#x9ED8;&#x8BA4;false &#x2003;&#x2003;&#x5B58;&#x53D6;&#x63CF;&#x8FF0;&#x7B26;&#xFF1A; &#x2003;&#x2003;&#x2003;&#x2003;set&#xFF1A;function(){} &#x5C5E;&#x6027;&#x8BBF;&#x95EE;&#x5668; &#x8FDB;&#x884C;&#x5199;&#x64CD;&#x4F5C;&#x65F6;&#x8C03;&#x7528;&#x8BE5;&#x65B9;&#x6CD5; &#x2003;&#x2003;&#x2003;&#x2003;get&#xFF1A;function(){} &#x5C5E;&#x6027;&#x8BBF;&#x95EE;&#x5668; &#x8FDB;&#x884C;&#x8BFB;&#x64CD;&#x4F5C;&#x65F6;&#x8C03;&#x7528;&#x8BE5;&#x65B9;&#x6CD5; &#x6570;&#x636E;&#x63CF;&#x8FF0;&#x7B26;&#x4F8B;&#x5B50;&#xFF1A; 12345678let obj2 = Object.defineProperty({}, &apos;name&apos;, { value: &apos;he&apos;, writable: true, configurable: true, enumerable: true})console.log(obj2.name) // &apos;he&apos; &#x4E0A;&#x9762;&#x8FD9;&#x79CD;&#x662F;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x65B0;&#x5BF9;&#x8C61;&#xFF0C;&#x4F46;&#x4E5F;&#x53EF;&#x4EE5;&#x5BF9;&#x5DF2;&#x5B9A;&#x4E49;&#x7684;&#x5BF9;&#x8C61;&#x4F7F;&#x7528;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#xFF0C;&#x4F46;&#x8981;&#x6CE8;&#x610F;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x666E;&#x901A;&#x65B9;&#x5F0F;&#x5B9A;&#x4E49;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x5219; writable configurable enumerable &#x8FD9;&#x4E09;&#x4E2A;&#x5C5E;&#x6027;&#x662F;&#x6709;&#x7684;&#xFF0C;&#x5E76;&#x4E3A; true&#xFF0C;&#x8FD8;&#x6709;&#xFF0C;&#x82E5;&#x662F;&#x5DF2;&#x5B9A;&#x4E49;&#x8FC7;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x5219;&#x4F1A;&#x8986;&#x76D6; 123456let obj3 = { name: &apos;he&apos;};Object.defineProperty(obj3, &apos;name&apos;, { value: &apos;qi&apos;}) &#x200B; &#x5B58;&#x53D6;&#x63CF;&#x8FF0;&#x7B26;&#x4F8B;&#x5B50;&#xFF1A; 123456789101112let nameVal = &apos;he&apos;let obj4 = Object.defineProperty({}, &apos;name&apos;, { configurable: true, enumerable: true, get () { return nameVal }, set (val) { nameVal = val }})obj4.name = &apos;qi&apos; &#x4E00;&#x822C;&#x5BF9;&#x8C61;&#x4E2D;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; get set &#xFF0C;&#x5982;&#x4E0B;&#xFF0C;&#x8981;&#x6CE8;&#x610F;&#x662F;&#x4E0B;&#x9762;&#x8FD9;&#x6837;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x4E00;&#x822C;&#x5BF9;&#x8C61;&#x4E2D;&#x5B9A;&#x4E49;&#x65F6;&#x8C28;&#x614E;&#x4F7F;&#x7528;&#xFF0C;&#x4E5F;&#x53EF;&#x80FD;&#x662F;&#x6211;&#x5BF9;&#x8FD9;&#x79CD;&#x8FD8;&#x4E0D;&#x592A;&#x719F;&#x6089;&#x3002;&#x3002;&#x3002; 123456789101112var obj5 = { val: &apos;hemuyi&apos;, get name () { return this.val }, set name (val) { this.val = val }}console.log(obj) // {&quot;val&quot;:&quot;he&quot;,&quot;name&quot;:&quot;he&quot;}obj5.name = 10;console.log(obj5) // {&quot;val&quot;:10,&quot;name&quot;:10} &#x200B; ES5 - &#x6570;&#x636E;&#x52AB;&#x6301;&#x6211;&#x89C9;&#x5F97;&#x5C31;&#x662F;&#x6570;&#x636E;&#x76D1;&#x63A7;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x76D1;&#x63A7;&#x5230;&#x6570;&#x636E;&#x53D8;&#x5316;&#x65F6;&#x505A;&#x4E00;&#x4E9B;&#x5904;&#x7406; es5 &#x4E2D;&#x6570;&#x636E;&#x52AB;&#x6301;&#x7684;&#x4F8B;&#x5B50;&#xFF1A; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263&lt;input type=&quot;text&quot; id=&apos;demo&apos;/&gt; &lt;div id=&apos;show&apos;&gt;&lt;/div&gt; &lt;script&gt; var oDiv = document.getElementById(&apos;show&apos;); var oInput = document.getElementById(&apos;demo&apos;); var oData = { valueObj: { value: &apos;duyi&apos;, name: &apos;haha&apos; }, sex: &apos;aaa&apos; }; // var arr = []; oInput.oninput = function () { oData.value = this.value; }; function upDate () { oDiv.innerText = oData.valueObj.value; } upDate(); // &#x76D1;&#x63A7;&#x5BF9;&#x8C61;&#x7684;&#x67D0;&#x4E2A;&#x5C5E;&#x6027;&#x662F;&#x5426;&#x53D1;&#x751F;&#x6539;&#x53D8; function Observer (data) { if (!data || typeof data != &apos;object&apos;) { return data; }; // for (var prop in data) { // } Object.keys(data).forEach(function (key) { definedRective(data, key, data[key]); }); } function definedRective (data, key, val) { // AO Observer(val); //&#x9012;&#x5F52;, &#x53EF;&#x80FD;&#x5BF9;&#x8C61;&#x7684;&#x67D0;&#x5C5E;&#x6027;&#x4F9D;&#x65E7;&#x662F;&#x4E2A;&#x5BF9;&#x8C61; Object.defineProperty(data, key, { get () { // console.log(&apos;get&apos;); return val; }, set (newValue) { if (newValue == val) return; val = newValue; upDate(); } }) }; Observer(oData); console.log(oData.value); oData.valueObj.value = &apos;haha&apos;; oData.aa = 10; &lt;/script&gt; &#x8FD9;&#x6837;&#x5C31;&#x5B9E;&#x73B0;&#x4E86;&#x6570;&#x636E;&#x76D1;&#x63A7;&#xFF0C;&#x8FDB;&#x800C;&#x53CC;&#x5411;&#x7ED1;&#x5B9A;&#xFF0C;&#x53EA;&#x80FD;&#x5BF9;&#x5BF9;&#x8C61;&#x8FD9;&#x6837;&#x64CD;&#x4F5C;&#xFF0C;&#x4F46;&#x662F;&#xFF0C;&#x4F46;&#x662F;&#xFF0C;&#x5F53;&#x5728; Observer(oData); &#x540E;&#x7ED9; &#x5BF9;&#x8C61; oData &#x8FDB;&#x884C; oData.aa = 10 &#xFF0C;&#x6B64;&#x65F6;&#x5E76;&#x4E0D;&#x4F1A;&#x76D1;&#x63A7;&#x5230;&#x8FD9;&#x4E2A;&#x64CD;&#x4F5C;&#xFF0C;&#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x662F;&#x540E;&#x52A0;&#x7684;&#xFF0C;Object.defineProperty &#x5E76;&#x4E0D;&#x80FD;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x8981;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x8BF7;&#x770B; Proxy Reflect &#x200B; &#x800C;&#x5728; vue &#x4E2D;&#x7A0D;&#x5FAE;&#x6709;&#x70B9;&#x4E0D;&#x540C;, &#x82E5;&#x662F;&#x8981;&#x76D1;&#x63A7;&#x6570;&#x7EC4;&#xFF0C;&#x5927;&#x4F53;&#x662F;&#x8FD9;&#x6837;&#x5B9E;&#x73B0;&#x7684;&#xFF1A; 123456789101112131415161718192021let arr = []; let {push} = Array.prototype; function upData () { console.log(&apos;&#x66F4;&#x65B0;&apos;); }; // [ // &apos;push&apos;, // &apos;pop&apos; // ] // arr push pop unshift shift slice.... Object.defineProperty(Array.prototype, &apos;push&apos;, { value: (function () { return (...arg) =&gt; { push.apply(arr, arg); upData(); } })() }); arr.push(1, 2); &#x81F3;&#x6B64;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5BF9;&#x8FD9;&#x4E2A;&#x6570;&#x7EC4;&#x7684;push&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x76D1;&#x63A7;&#x4E86;&#xFF0C;vue &#x4E2D;&#x5927;&#x4F53;&#x662F;&#x8FD9;&#x6837;&#x5B9E;&#x73B0;&#x7684; &#x200B; ES6 - Proxy Reflect&#x9996;&#x5148;&#xFF0C;&#x8FD9;&#x4E24;&#x4E2A;&#x76EE;&#x524D;&#x517C;&#x5BB9;&#x6027;&#x4E0D;&#x662F;&#x5F88;&#x597D; &#x4F8B;&#x5B50;&#xFF1A; 1234567891011121314151617181920212223242526272829303132333435let oData = { val: &apos;duyi&apos;, _val: &apos;aaaa&apos;}let oProxyData = new Proxy(oData, { set (target, key, value, receiver) { // console.log(target, key, value, receiver); Reflect.set(target, key, value); upDate(); }, get (target, key, receiver) { // console.log(target, key, receiver); // return target[key] return Reflect.get(target, key); }, has (target, key) { return key.indexOf(&apos;_&apos;) != -1 ? false : key in oData; }, deleteProperty () { }});console.log( delete oProxyData.val );// &#x8BFB;&#x5199; &#x63A7;&#x5236;console.log( oProxyData.val );oProxyData.val = 10;function upDate () { console.log(&apos;&#x66F4;&#x65B0;&#x4E86;&apos;)}oProxyData.name = 20; &#x603B;&#xFF1A;&#x76D1;&#x63A7;&#x5230;&#x5BF9;&#x8C61;&#x7684;&#x53D8;&#x5316;&#xFF0C;&#x54EA;&#x6015;&#x662F;&#x540E;&#x6765;&#x65B0;&#x52A0;&#x7684;&#x5C5E;&#x6027; &#x200B; ES6 - Class&#x57FA;&#x672C;&#x5185;&#x5BB9;&#xFF1A;class &#x662F;&#x6784;&#x9020;&#x51FD;&#x6570;&#x7684;&#x4E00;&#x79CD;&#x5199;&#x6CD5;;&#x65B9;&#x6CD5;&#x5199;&#x5728;&#x539F;&#x578B;&#x4E0A;;&#x4E0D;&#x5177;&#x6709;&#x51FD;&#x6570;&#x58F0;&#x660E;&#x6574;&#x4F53;&#x63D0;&#x5347;(&#x660E;&#x786E;&#x9075;&#x5B88;&#x5148;&#x5B9A;&#x4E49;&#x540E;&#x4F7F;&#x7528;) constructor &#x79C1;&#x6709;&#x5C5E;&#x6027;&#x3001; &#x516C;&#x6709;&#x5C5E;&#x6027;&#xFF08;&#x539F;&#x578B;&#x4E0A;&#x7684;&#x5C5E;&#x6027;&#xFF09;&#x3001; &#x9759;&#x6001;&#x5C5E;&#x6027;&#xFF08;&#x51FD;&#x6570;&#x5C5E;&#x6027;&#xFF09;&#xFF1A; 12345678910111213141516171819202122232425class Plane1 { // es7 &#x5199;&#x6CD5; -- &#x9759;&#x6001;&#x5C5E;&#x6027; // static alive = true // es6 static alive () { return true } // &#x79C1;&#x6709;&#x5C5E;&#x6027; constructor (name) { this.name = name; this.age = 18; } // es7 &#x5199;&#x6CD5; -- &#x79C1;&#x6709;&#x5C5E;&#x6027; // po = &apos;wh&apos; // &#x516C;&#x6709;&#x5C5E;&#x6027; fly () { console.log(&apos;fly&apos;) }}Plane(); // &#x62A5;&#x9519;&#xFF0C;&#x5FC5;&#x987B; newPlane.alive() // truelet oP1 = new Plane1(&apos;qi&apos;)oP1.name // qioP1.fly() // fly &#x603B;&#xFF1A; &#x2003;&#x2003;1 constructor &#x91CC;&#x7684;&#x662F;&#x79C1;&#x6709;&#x5C5E;&#x6027;&#xFF0C;&#x5982;&#xFF1A;name age &#x2003;&#x2003;2 &#x516C;&#x6709;&#x5C5E;&#x6027;&#xFF08;&#x539F;&#x578B;&#x4E0A;&#xFF09;&#xFF0C;&#x5982;&#xFF1A;fly &#x2003;&#x2003;3 &#x9759;&#x6001;&#x5C5E;&#x6027;&#x5E76;&#x4E0D;&#x662F;&#x8FD0;&#x884C;&#x5728; oP&#xFF0C;&#x800C;&#x662F;&#x51FD;&#x6570;&#x672C;&#x8EAB; Plane &#x200B; extends&#xFF0C;&#x7EE7;&#x627F;&#xFF1A; 123456789101112131415class Plane2 extends Plane1 { constructor (name) { super() // &#x7C7B;&#x4F3C;&#x4E8E; Plane1.call() this.logo = &apos;yi&apos; } speed () { console.log(&apos;sousousou&apos;) }}let oP2 = new Plane2(&apos;he&apos;)Plane2.alive() // trueoP2.name // heoP2.logo // yioP2.speed() // sousousou &#x603B;&#xFF1A; &#x2003;&#x2003;1 class &#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#x5FC5;&#x987B; new &#x2003;&#x2003;2 &#x5728; constructor &#x91CC;&#x5FC5;&#x987B;&#x4F7F;&#x7528; super&#xFF08;&#xFF09; &#x2003;&#x2003;3 extends &#x7EE7;&#x627F;&#x7684;&#x662F;&#x516C;&#x6709;&#x5C5E;&#x6027; &#x548C; &#x9759;&#x6001;&#x5C5E;&#x6027;&#xFF0C;&#x79C1;&#x6709;&#x7684;&#x901A;&#x8FC7;&#x7ED9; constructor &#x4F20;&#x53C2;&#x6765;&#x5B9E;&#x73B0; &#x2003;&#x2003;4 Plane1.prototype &#x53CA; &#x9759;&#x6001;&#x5C5E;&#x6027; &#x4E0D;&#x80FD;&#x679A;&#x4E3E; &#x200B; &#x6A21;&#x62DF; Class1 &#x5B9A;&#x4E49; Plane &#xFF1A; 1234function Plane() { }new Plane() 2 &#x5FC5;&#x987B; new &#x624D;&#x80FD;&#x6267;&#x884C;&#xFF0C;&#x6CA1;&#x6709; new &#x7684;&#x8BDD; this&#x662F;window 12345function _classCallCheck (_this, _constructor) { if (! (_this instanceof _constructor) ) { throw &quot;TypeError: Class constructor Plane cannot be invoked without &apos;new&apos;&quot;; }}; 3 &#x82E5;&#x662F;&#x6309;&#x7167;1 &#x4E2D;&#x7684;&#x65B9;&#x5F0F;&#x5B9A;&#x4E49;&#x51FD;&#x6570;&#xFF0C;&#x5219;&#x662F;&#x66B4;&#x9732;&#x5728;&#x5168;&#x5C40;&#xFF0C;&#x6240;&#x4EE5;&#x7528;&#x7ACB;&#x5373;&#x6267;&#x884C;&#x51FD;&#x6570;&#x6765;&#x5B9A;&#x4E49; 12345678var Plane = (function () { function Plane (name) { // &#x5224;&#x65AD;&#x662F;&#x5426;&#x4EE5;new&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x6267;&#x884C; _classCallCheck(this, Plane); } return Plane;})();var oP = new Plane(); 4 &#x79C1;&#x6709;&#x5C5E;&#x6027;&#x3001;&#x516C;&#x6709;&#x5C5E;&#x6027;&#x3001;&#x9759;&#x6001;&#x5C5E;&#x6027; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748// &#x5904;&#x7406;&#x516C;&#x6709;&#x5C5E;&#x6027;&#x548C;&#x9759;&#x6001;&#x5C5E;&#x6027;function _createClass (_constructor, _prototypeProperties, _staticProperties) { // &#x7ED9;&#x539F;&#x578B;&#x4E0A;&#x8D4B;&#x503C; if (_prototypeProperties) { _defineProperties(_constructor.prototype, _prototypeProperties); } if (_staticProperties) { _defineProperties(_constructor, _staticProperties); }}function _defineProperties (target, props) { // Object.defineProperty props.forEach(function (ele) { // ele.key ele.value Object.defineProperty(target, ele.key, { value: ele.value, writable: true, configurable: true }); })}var Plane = (function () { function Plane (name) { // &#x5224;&#x65AD;&#x662F;&#x5426;&#x4EE5;new&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x6267;&#x884C; _classCallCheck(this, Plane); this.name = name || &apos;&#x666E;&#x901A;&#x98DE;&#x673A;&apos;; this.blood = 100; } _createClass(Plane, [ { key: &apos;fly&apos;, value: function () { console.log(&apos;fly&apos;); } } ], [ { key: &apos;alive&apos;, value: function () { return true; } } ]); return Plane;})(); extends&#xFF1A; 123456789101112131415161718192021222324252627282930313233343536373839function _inherit (sub, sup) { Object.setPrototypeOf(sub.prototype, sup.prototype);}var AttackPlane = (function (Plane) { _inherit(AttackPlane, Plane); function AttackPlane (name) { _classCallCheck(this, Plane); var _this = this; var that = Plane.call(_this, name); if (typeof that == &apos;object&apos;) { _this = that; } _this.logo = &apos;qi&apos;; return _this; }; _createClass(AttackPlane, [ { key: &apos;dan&apos;, value: function () { console.log(&apos;biubiubiu&apos;); } } ], [ { key: &apos;alive&apos;, value: function () { return true; } } ]); return AttackPlane;})(Plane);var oAp = new AttackPlane(); &#x200B; ES7 - Classes7 &#x4E2D;&#x7684; class &#x6709;&#x4E9B;&#x662F;&#x9AD8;&#x7248;&#x672C;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x4E5F;&#x4E0D;&#x652F;&#x6301;&#xFF0C;&#x9700;&#x8981;&#x4E00;&#x4E9B;&#x5DE5;&#x5177;&#x6765;&#x964D;&#x7EA7;&#x624D;&#x80FD;&#x7528; &#x9759;&#x6001;&#x5C5E;&#x6027;&#x3001;&#x79C1;&#x6709;&#x5C5E;&#x6027;&#x7528;&#x7684;&#x5DE5;&#x5177;&#xFF1A; &#x2003;&#x2003;1 &#x5B89;&#x88C5; &#xFF1A;npm install @babel/plugin-proposal-decorators &#x2003;&#x2003;2 &#x914D;&#x7F6E;&#xFF1A;&#x201D;plugins&#x201D;: [ [&#x201C;@babel/plugin-proposal-class-properties&#x201D;, { &#x201C;loose&#x201D; : true }] ] &#x9759;&#x6001;&#x5C5E;&#x6027;&#x3001;&#x79C1;&#x6709;&#x5C5E;&#x6027;&#x7684;&#x7528;&#x6CD5;&#xFF1A; 12345678910111213141516171819class Search { // ES7 &#x9759;&#x6001;&#x5C5E;&#x6027; static num = 10; // ES6 // static num () { // return 6; // } constructor () { this.keyValue = &apos;&apos;; } // &#x79C1;&#x6709;&#x5C5E;&#x6027; age = 18 getCount () { console.log(&apos;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&apos;); }};var oS = new Search();console.log(oS); &#x88C5;&#x9970;&#x5668; &#xFF1A;@decorator: &#x5B89;&#x88C5;&#x7684;&#x964D;&#x7EA7;&#x5DE5;&#x5177;&#xFF1A;npm install @babel/plugin-proposal-decorators &#x914D;&#x7F6E;&#xFF1A;&#x201D;plugins&#x201D;: [ [&#x201C;@babel/plugin-proposal-decorators&#x201D;, { &#x201C;legacy&#x201D;: true }] ] &#x88C5;&#x9970;&#x5668;&#x7684;&#x4F8B;&#x5B50;&#xFF1A;&#x5206;&#x522B;&#x4FEE;&#x9970;&#x79C1;&#x6709;&#x5C5E;&#x6027;&#x3001;&#x516C;&#x6709;&#x5C5E;&#x6027;&#x3001;&#x7C7B; 12345678910111213141516171819202122232425262728293031323334353637383940// &#x79C1;&#x6709;&#x5C5E;&#x6027;class Search { constructor () { this.keyValue = &apos;&apos;; } @myReadOnly url = &apos;urlA-&apos;; @dealData(&apos;&#x5F20;&#x4E09;&apos;) getContent (a, b) { console.log(&apos;&#x5411;&apos; + this.url + &apos;&#x53D1;&#x9001;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;, &#x6570;&#x636E;:&apos; + this.keyValue, a, b); }};function Skin (target) { target.aaa = 30;}// &#x88C5;&#x9970;&#x79C1;&#x6709;&#x5C5E;&#x6027; descriptor &#x662F;&#x6CA1;&#x6709; value &#x7684;&#xFF0C;initializer function myReadOnly (proto, key, descriptor) { // console.log(proto, key, descriptor); descriptor.writable = false; // descriptor.initializer()&#xFF1B; &#x503C;&#x4E3A; url &#x7684;&#x503C; &apos;urlA-&apos;&#xFF0C;&#x4FEE;&#x6539;&#x7684;&#x8BDD;&#x6309;&#x4E0B;&#x9762;&#x7684;&#x65B9;&#x6CD5; descriptor.initializer = function () { return 6; }}// &#x539F;&#x578B;&#x4E0A;&#x7684;&#x5C5E;&#x6027;&#x7684;&#x8BDD; descriptor &#x662F;&#x6709;value&#x7684;&#xFF0C; &#x6307;&#x7684;&#x662F;getContentfunction dealData (proto, key, descriptor) { console.log(proto, key, descriptor); let oldValue = descriptor.value; // &#x4EE3;&#x7406;&#x601D;&#x60F3; descriptor.value = function () { var urlB = &apos;urlB-&apos;; console.log(&apos;&#x5411;&apos; + urlB + &apos;&#x53D1;&#x9001;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;, &#x6570;&#x636E;:&apos; + this.keyValue); return oldValue.apply(this, arguments); }} &#x4FEE;&#x9970;&#x7C7B;&#xFF1A; 123456789101112131415161718@Skinclass Search { constructor () { this.keyValue = &apos;&apos;; } @myReadOnly url = &apos;urlA-&apos;; @dealData(&apos;&#x5F20;&#x4E09;&apos;) getContent (a, b) { console.log(&apos;&#x5411;&apos; + this.url + &apos;&#x53D1;&#x9001;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;, &#x6570;&#x636E;:&apos; + this.keyValue, a, b); return 10; }};function Skin (target) { target.aaa = 30; // &#x9759;&#x6001;&#x5C5E;&#x6027;} &#x603B;&#xFF1A;&#x611F;&#x89C9; es7 &#x638C;&#x63E1;&#x7684;&#x8FD8;&#x4E0D;&#x591F;&#xFF0C;&#x8FD8;&#x5DEE;&#x5F88;&#x591A;&#xFF0C;&#x8FD8;&#x9700;&#x52AA;&#x529B;&#x554A; &#x200B; Set Map&#x9996;&#x5148;&#xFF0C;set map &#x517C;&#x5BB9;&#x6027;&#x5E76;&#x4E0D;&#x662F;&#x5F88;&#x597D; &#x200B; Setset &#x662F;es6&#x63D0;&#x4F9B;&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF0C;&#x7528;&#x6765;&#x5B58;&#x50A8;&#x6570;&#x636E;&#x7684;&#x7ED3;&#x6784;&#xFF0C;&#x5F53;&#x7136;&#x7528;&#x6570;&#x7EC4; &#x5BF9;&#x8C61;&#x4E5F;&#x53EF;&#x4EE5;&#x5B58;&#x50A8;&#x6570;&#x636E;&#xFF0C;&#x4F46;&#x662F;&#x6709;&#x4E9B;&#x65F6;&#x5019;&#x5B9E;&#x73B0;&#x67D0;&#x79CD;&#x529F;&#x80FD;&#x4F1A;&#x7A0D;&#x663E;&#x9EBB;&#x70E6;&#xFF0C;&#x6BD4;&#x5982;&#x6570;&#x7EC4;&#x53BB;&#x91CD; &#x5B9A;&#x4E49;&#xFF1A; &#x2003;&#x2003;&#x53C2;&#x6570;&#x662F;&#x5177;&#x5907;&#x8FED;&#x4EE3;&#x63A5;&#x53E3;&#x7684;&#xFF0C;&#x5982;&#x6570;&#x7EC4;&#x3001;&#x5BF9;&#x8C61;&#x3001;arguments 12let oS = new Set([1, 2, 3, 1, &apos;a&apos;, [5, 6]]) let oS2 = new Set(&apos;absdefg&apos;) &#x2003;&#x2003;&#x8FD9;&#x4E24;&#x4E2A;&#x503C;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF1A; &#x589E;&#x3001;&#x5220;&#x3001;&#x679A;&#x4E3E;&#x3001;&#x6E05;&#x7A7A;&#x3001;&#x5305;&#x542B;&#xFF1A; 1234567891011121314151617181920212223let obj = { name: &apos;he&apos;}let oS = new Set([1, 2, 3, 1, &apos;a&apos;, [5, 6]])oS.add(1)oS.add(obj)// &#x5220;&#x9664;&#x6570;&#x7EC4;&#x65F6;&#x9700;&#x8981;&#x8BB0;&#x5F55;&#x4E0B;&#x8FD9;&#x4E2A;&#x6570;&#x7EC4;&#xFF0C;&#x5426;&#x5219;&#x4E0D;&#x77E5;&#x9053;&#x5220;&#x9664;&#x7684;&#x662F;&#x8C01;oS.delete(obj)oS.has(1)oS.forEach( value =&gt; { console.log(value)})//es6 for of &#x5177;&#x5907;&#x8FED;&#x4EE3;&#x63A5;&#x53E3;&#x7684;for(let value of oS) { console.log(value)}oS.clear()console.log(oS) &#x200B; &#x6570;&#x7EC4; &#x4E0E; Set &#x4E92;&#x76F8;&#x8F6C;&#x6362;&#xFF1A; 123456let arr = [1, 2, 3, 4]let oS = new Set(arr)let newArr1 = Array.from(oS)let newArr2 = [...oS]console.log(newArr1, newArr2) &#x4E24;&#x4E2A;&#x6570;&#x7EC4;&#x7684; &#x4EA4;&#x96C6;&#x3001;&#x5E76;&#x96C6;&#x3001;&#x5DEE;&#x96C6;&#xFF1A; 123456789101112131415let arr1 = [1, 2, 3, 4]let arr2 = [3, 4, 5, 6]// &#x5E76;&#x96C6; [1, 2, 3, 4, 5, 6]let oS1 = new Set([...arr1, ...arr2])// &#x4EA4;&#x96C6; [3, 4]let oS2 = new Set(arr1)let oS3 = new Set(arr2)let newArr1 = [...oS2].filter((ele, index) =&gt; oS3.has(ele))// &#x5DEE;&#x96C6; [1, 2, 5, 6]let newArr2 = [...oS2].filter((ele, index) =&gt; !oS3.has(ele))let newArr3 = [...oS3].filter((ele, index) =&gt; !oS2.has(ele))let newArr4 = [...newArr2, ...newArr3] &#x200B; Mapmap &#x540C;&#x6837;&#x662F; es6 &#x63D0;&#x4F9B;&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF0C;&#x80FD;&#x591F;&#x5B58;&#x50A8;&#x6570;&#x636E;&#xFF0C;&#x672C;&#x8D28;&#x4E0A;&#x662F;&#x952E;&#x503C;&#x5BF9;&#x7684;&#x96C6;&#x5408;&#x3002; &#x5B9A;&#x4E49;&#xFF1A; 1let oMp = new Map([[&apos;name&apos;, &apos;he&apos;],[&apos;age&apos;, 18], [&apos;po&apos;, &apos;wh&apos;]]) &#x5B83;&#x7684;&#x7ED3;&#x6784;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF1A; &#x589E;&#x3001;&#x67E5;&#x3001;&#x5220;&#x3001;&#x5305;&#x542B;&#x3001;&#x679A;&#x4E3E;&#x3001;&#x6E05;&#x7A7A;&#x3001;&#x957F;&#x5EA6;&#xFF1A; 123456789101112131415161718192021222324252627let oMp = new Map([[&apos;name&apos;, &apos;he&apos;],[&apos;age&apos;, 18], [&apos;po&apos;, &apos;wh&apos;]])let obj = { name: &apos;qi&apos;}oMp.set(&apos;wea&apos;, &apos;yu&apos;)oMp.set(obj)oMp.set({}, &apos;------&apos;)oMp.set({}, &apos;++++++&apos;)oMp.get(&apos;name&apos;)oMp.forEach((value, index) =&gt; { console.log(value)})for(let val of oMp) { console.log(val)}oMp.has(&apos;name&apos;)oMp.delete(&apos;name&apos;)oMp.delete(obj)oMp.delete({}) // &#x5220;&#x9664;&#x5931;&#x8D25;&#xFF0C;&#x5FC5;&#x987B;&#x662F;&#x5DF2;&#x786E;&#x5B9A;&#x7684;&#x6216;&#x662F;&#x539F;&#x59CB;&#x503C;&#x624D;&#x53EF;&#x4EE5;oMp.clear()oMp.size // 0 &#x200B; &#x94FE;&#x8868;&#x3001;hashsuanfa&#x3001;&#x6876;&#x94FE;&#x8868;&#xFF1A; 123456789101112131415161718{} {} {} {} {}let node3 = { key: &apos;name3&apos;, value: &apos;3&apos;, next: null};let node2 = { key: &apos;name2&apos;, value: &apos;2&apos;, next: node3};let node1 = { key: &apos;name&apos;, value: &apos;1&apos;, next: node2}; hash &#x3001;&#x6876;&#xFF1A; 1234let oMp = new Map([[&apos;name1&apos;, &apos;1&apos;], [&apos;name2&apos;, &apos;2&apos;]]);// hash -&gt;// {} &apos;name1&apos; &apos;age&apos; 1 true NaN hash: &#x5C31;&#x662F;&#x628A;&#x4E0D;&#x5B9A;&#x8303;&#x56F4;&#x7684;&#x503C;&#x8F6C;&#x5316;&#x6210;&#x7279;&#x5B9A;&#x8303;&#x56F4;&#x7684; &#x6876;&#xFF1A;&#x5C31;&#x662F;&#x5BB9;&#x5668;&#xFF08;&#x5177;&#x4F53;&#x7684;&#x6211;&#x63CF;&#x8FF0;&#x4E0D;&#x51FA;&#x6765;&#xFF09; 123456789101112131415161718192021222324252627282930// &#x660E;&#x663E;&#x6563;&#x5217;&#x7684;{ key: &apos;name1&apos;, value: &apos;1&apos;,}{ key: &apos;name2&apos;, value: &apos;2&apos;,} // hash &#x4E4B;&#x540E;, &#x6876; &#x5C31;&#x662F;&#x5916;&#x9762;&#x8FD9;&#x5C42;&#x6570;&#x7EC4;[ { next: { key: &apos;name1&apos;, value: &apos;1&apos;, next: { key: &apos;name2&apos;, value: &apos;2&apos; } } }, {}, {}, {}, {}, {}, {}, {}]; &#x5927;&#x4F53;&#x7684;&#x56FE;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF1A; &#x200B; &#x6A21;&#x62DF; Mapmap&#x6709;&#x4E00;&#x4E0B;&#x51E0;&#x4E2A;&#x7279;&#x70B9;&#xFF1A; &#x2003;&#x2003;1 &#x4E0D;&#x91CD;&#x590D; &#x2003;&#x2003;2 &#x5B57;&#x7B26;&#x4E32; &#x5BF9;&#x8C61; NaN null [] function(){} 10 &#x2003;&#x2003;3 set get delete has clear &#x6A21;&#x62DF;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119function myMap () { this.bucketLength = 8; this.init();}myMap.prototype.init = function () { // &#x521D;&#x59CB;&#x5316; &#x6876; 8 this.bucket = new Array( this.bucketLength ); for (var i = 0; i &lt; this.bucket.length; i++) { this.bucket[i] = { type: &apos;bucket_&apos; + i, next: null } }}// // 1. [0, 8)// 2. &#x91CD;&#x590D;&#x7B97;&#x503C;&#x56FA;&#x5B9A;myMap.prototype.makeHash = function (key) { let hash = 0; // string if (typeof key !== &apos;string&apos;) { if (typeof key == &apos;number&apos;) { //number NaN hash = Object.is(key, NaN) ? 0 : key; }else if (typeof key == &apos;object&apos;) { // null {} [] hash = 1; }else if (typeof key == &apos;boolean&apos;) { // true false boolean hash = Number(key); }else { // undefined function(){} hash = 2; } }else { // string // &apos;a&apos; &apos;ab&apos; &apos;asdasdadasda&apos;; // &#x957F;&#x5EA6;&#x5927;&#x4E8E;&#x7B49;&#x4E8E;3 &#x524D;&#x4E09;&#x4E2A;&#x5B57;&#x7B26; ascii &#x7D2F;&#x52A0; &#xFF0C;&#x81EA;&#x5DF1;&#x5B9A; for (let i = 0; i &lt; 3; i++) { // key[] hash += key[i] ? key[i].charCodeAt(0) : 0; } } return hash % 8;}myMap.prototype.set = function (key, value) { let hash = this.makeHash(key); let oTempBucket = this.bucket[hash]; while (oTempBucket.next) { if (oTempBucket.next.key == key) { oTempBucket.next.value = value; return; }else { oTempBucket = oTempBucket.next; } }; oTempBucket.next = { key: key, value: value, next: null };}myMap.prototype.get = function (key) { let hash = this.makeHash(key); let oTempBucket = this.bucket[hash]; while(oTempBucket) { if (oTempBucket.key == key) { return oTempBucket.value; }else { oTempBucket = oTempBucket.next; } } return undefined;}myMap.prototype.delete = function (key) { let hash = this.makeHash(key); let oTempBucket = this.bucket[hash]; while (oTempBucket.next) { if (oTempBucket.next.key == key) { oTempBucket.next = oTempBucket.next.next; return true; }else { oTempBucket = oTempBucket.next; } } return false;}myMap.prototype.has = function (key) { let hash = this.makeHash(key); let oTempBucket = this.bucket[hash]; while (oTempBucket) { if (oTempBucket.next &amp;&amp; oTempBucket.next.key == key) { return true; }else { oTempBucket = oTempBucket.next; } } return false;};myMap.prototype.clear = function (key) { this.init();};//let oMp = new myMap();let obj1 = { name: &apos;cst&apos;}oMp.set(&apos;name1&apos;, &apos;he&apos;);oMp.set(&apos;name2&apos;, &apos;qi&apos;);oMp.set(obj1, &apos;---&apos;);oMp.set(obj1, &apos;+++&apos;);oMp.set(function () {}, true); &#x200B; &#x603B;&#xFF1A;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x9002;&#x5408;&#x53CD;&#x590D;&#x7EC3;&#x4E60; &#x200B; Promisepromise &#x662F;&#x4E00;&#x4E2A;&#x5185;&#x7F6E;&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570; promise &#x57FA;&#x672C;&#x4F7F;&#x7528;&#xFF1A;then &#x6CE8;&#x518C;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x503C;1234567891011121314151617181920// &#x6CE8;&#x610F; &#x6267;&#x884C;&#x987A;&#x5E8F;setTimeout(() =&gt; { console.log(&apos;settime&apos;)}, 0);let oP = new Promise((resolve, refect) =&gt; { // &#x5F02;&#x6B65;&#x64CD;&#x4F5C; setTimeout(() =&gt; { Math.random() * 100 &gt; 60 ? resolve(&apos;ok&apos;) : refect(&apos;no&apos;) }, 600);})console.log(0)// &#x5F02;&#x6B65;&#x6267;&#x884C;oP.then( (val) =&gt; { console.log(val)}, (reason) =&gt; { console.log(reason)} )console.log(1)// 0 1 settime no &#x5728; then &#x4E2D;&#x6210;&#x529F;&#x7684;&#x56DE;&#x8C03;&#x548C;&#x5931;&#x8D25;&#x7684;&#x56DE;&#x8C03;&#x6709;&#x51E0;&#x4E2A;&#x7279;&#x70B9;&#xFF0C;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A; &#x2003;&#x2003;1 &#x53EF;&#x4EE5;&#x94FE;&#x5F0F;&#x8C03;&#x7528; &#x2003;&#x2003;2 &#x82E5;&#x662F;&#x6CA1;&#x6709;&#x629B;&#x51FA;&#x9519;&#x8BEF;&#x90A3;&#x4E0B;&#x4E00;&#x4E2A; then &#x8C03;&#x7528;&#x7684;&#x662F;&#x6210;&#x529F;&#x7684;&#x56DE;&#x8C03;&#xFF0C;&#x82E5;&#x662F;&#x629B;&#x51FA;&#x9519;&#x8BEF;&#x4E86;&#x5219;&#x662F;&#x9519;&#x8BEF;&#x7684;&#x56DE;&#x8C03;&#xFF0C;&#x65E0;&#x6240;&#x8C13;&#x5F53;&#x524D;&#x8C03;&#x7528;&#x7684;&#x56DE;&#x8C03;&#x662F;&#x6210;&#x529F;&#x8FD8;&#x662F;&#x5931;&#x8D25;&#xFF0C;&#x53EA;&#x5173;&#x5FC3;&#x56DE;&#x8C03;&#x6709;&#x6CA1;&#x6709;&#x629B;&#x51FA;&#x9519;&#x8BEF; &#x2003;&#x2003;3 &#x82E5;&#x56DE;&#x8C03; return &#x7684;&#x662F; promise&#xFF0C;&#x5219;&#x770B;&#x8FD9;&#x4E2A; promise &#x662F;&#x8C03;&#x7528;&#x6210;&#x529F;&#x8FD8;&#x662F;&#x9519;&#x8BEF;&#x7684;&#x56DE;&#x8C03; 1234567891011121314151617181920212223let oP = new Promise((resolve, refect) =&gt; { // &#x5F02;&#x6B65;&#x64CD;&#x4F5C; setTimeout(() =&gt; { Math.random() * 100 &gt; 60 ? resolve(&apos;ok&apos;) : refect(&apos;no&apos;) }, 600);})oP.then( (res) =&gt; { console.log(res) // throw new Error(&apos;qi&apos;) // return new Promise((resolve, reject) =&gt; { // reject(&apos;newPromise ok&apos;); // }); // return 20}, (rej) =&gt; { console.log(rej) throw new Error(&apos;he&apos;) // return 30}).then( (res) =&gt; { console.log(&apos;ok: then: &apos; + res)}, (rej) =&gt; { console.log(&apos;no: then: &apos; + rej)}) &#x200B; catch &#x5F02;&#x5E38;&#x6355;&#x83B7; finally &#x6700;&#x540E;&#x5904;&#x7406;&#x51FD;&#x6570;then &#x6355;&#x83B7;&#x5230;&#x9519;&#x8BEF;&#x540E;&#x4E0D;&#x518D;&#x6267;&#x884C;catch&#xFF0C;&#x4F46;catch&#x6355;&#x83B7;&#x5230;&#x9519;&#x8BEF;&#x540E;&#x4F1A;&#x6267;&#x884C;then&#xFF1B;&#x94FE;&#x5F0F;&#x8C03;&#x7528;&#x7684;&#x65F6;&#x5019;&#x5982;&#x679C;&#x5199;&#x4E00;&#x4E2A;&#x7A7A;then&#x5176;&#x5B9E;&#x76F8;&#x5F53;&#x4E8E;&#x4E0D;&#x5B58;&#x5728;&#x53EF;&#x4EE5;&#x5FFD;&#x89C6; 1234567891011121314151617181920212223242526272829303132333435363738let oP = new Promise((resolve, refect) =&gt; { // &#x5F02;&#x6B65;&#x64CD;&#x4F5C; setTimeout(() =&gt; { Math.random() * 100 &gt; 60 ? resolve(&apos;ok&apos;) : refect(&apos;no&apos;) }, 600);})// &#x6355;&#x83B7;&#x5230;&#x9519;&#x8BEF;&#x540E;&#x4E0B;&#x4E00;&#x4E2A;then&#x629B;&#x51FA;&#x4E86;&#xFF0C;&#x7136;&#x540E;&#x540E;&#x9762;&#x7684;catch &#x6CA1;&#x6709;&#x6355;&#x83B7;&#x5230;oP.then( (res) =&gt; { console.log(res) throw new Error(&apos;qi&apos;)}, rej =&gt; { console.log(rej) throw new Error(&apos;he&apos;)} ).then().then( (res) =&gt; { console.log(&apos;ok-then: &apos; + res)}, rej =&gt; { console.log(&apos;no-then: &apos; + rej)} ).catch( err =&gt; { console.log( err)} )// catch &#x6355;&#x83B7;&#x5230;&#x9519;&#x8BEF;&#x540E;&#xFF0C;&#x540E;&#x9762;&#x7684;then&#x4ECD;&#x80FD;&#x6355;&#x83B7;&#x5230;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;oP.then( (res) =&gt; { console.log(res) throw new Error(&apos;qi&apos;)}, rej =&gt; { console.log(rej) throw new Error(&apos;he&apos;)} ).then().then( () =&gt; { }).catch( err =&gt; { console.log( err)} ).then( (res) =&gt; { console.log(&apos;catch&#x540E;-ok: &apos; + res)}, rej =&gt; { console.log(&apos;catch&#x540E;-no&#xFF1A;&apos; + rej)} ) finally &#x7EC8;&#x7ED3;&#xFF1A; 1234567891011121314151617oP.then( (res) =&gt; { console.log(res) throw new Error(&apos;qi&apos;)}, rej =&gt; { console.log(rej) throw new Error(&apos;he&apos;)} ).then().then( () =&gt; { }).catch( err =&gt; { console.log( err)} ).then( (res) =&gt; { console.log(&apos;catch&#x540E;-ok: &apos; + res)}, rej =&gt; { console.log(&apos;catch&#x540E;-no&#xFF1A;&apos; + rej)} ).finally( () =&gt; { console.log(&apos;over&apos;)} ) &#x200B; Promise.all Promise.racePromise.all &#xFF1A;&#x540C;&#x6B65;&#x5E76;&#x53D1;&#x5F02;&#x6B65;&#x7ED3;&#x679C;&#x3002;Promise.all&#x53EF;&#x4EE5;&#x5C06;&#x591A;&#x4E2A;Promise&#x5B9E;&#x4F8B;&#x5305;&#x88C5;&#x6210;&#x4E00;&#x4E2A;&#x65B0;&#x7684;Promise&#x5B9E;&#x4F8B;&#x3002;&#x540C;&#x65F6;&#xFF0C;&#x6210;&#x529F;&#x548C;&#x5931;&#x8D25;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x662F;&#x4E0D;&#x540C;&#x7684;&#xFF0C;&#x90FD;&#x6210;&#x529F;&#x7684;&#x65F6;&#x5019;&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x7ED3;&#x679C;&#x6570;&#x7EC4;&#xFF08;&#x8C03;&#x7528;&#x6210;&#x529F;&#x7684;&#x56DE;&#x8C03;&#xFF09;&#xFF0C;&#x800C;&#x5931;&#x8D25;&#x7684;&#x65F6;&#x5019;&#x5219;&#x8FD4;&#x56DE;&#x6700;&#x5148;&#x88AB;reject&#x5931;&#x8D25;&#x72B6;&#x6001;&#x7684;&#x503C;&#x3002; 12345678910111213function test (x) { return new Promise((res, rej) =&gt; { setTimeout(() =&gt; { Math.random() * 100 &gt; 50 ? res(x) : rej(x); }, 100) });}let oP = Promise.all([test(&apos;a&apos;), test(&apos;b&apos;), test(&apos;c&apos;)]);oP.then((val) =&gt; { console.log(val)}, (reason) =&gt; { console.log(reason);}); Promise.race&#xFF1A;&#x8C01;&#x5148;&#x5904;&#x7406;&#x6210;&#x529F;&#x5C31;&#x5904;&#x7406;&#x8C01;&#x3002;Promise.race([p1, p2, p3])&#x91CC;&#x9762;&#x54EA;&#x4E2A;&#x7ED3;&#x679C;&#x83B7;&#x5F97;&#x7684;&#x5FEB;&#xFF0C;&#x5C31;&#x8FD4;&#x56DE;&#x90A3;&#x4E2A;&#x7ED3;&#x679C;&#xFF0C; &#x4E0D;&#x7BA1;&#x7ED3;&#x679C;&#x672C;&#x8EAB;&#x662F;&#x6210;&#x529F;&#x72B6;&#x6001;&#x8FD8;&#x662F;&#x5931;&#x8D25;&#x72B6;&#x6001;&#x3002;&#x6709;&#x4E00;&#x4E2A;&#x5931;&#x8D25;&#x5C31;&#x89E6;&#x53D1;&#x5931;&#x8D25; 123456789101112function test (x) { return new Promise((res, rej) =&gt; { setTimeout(() =&gt; { Math.random() * 100 &gt; 50 ? res(x) : rej(x); }, 100) });}Promise.race([test(&apos;a&apos;), test(&apos;b&apos;), test(&apos;c&apos;)]).then((val) =&gt; { console.log(val, &apos;ok&apos;);}, (reason) =&gt; { console.log(reason, &apos;no&apos;);}); &#x200B; Promise &#x539F;&#x7406;then &#x7684;&#x7528;&#x6CD5;&#x53CA;&#x8981;&#x6C42;&#x53EF;&#x4EE5;&#x5728;&#x8FD9;&#x4E2A;&#x7F51;&#x7AD9;&#x770B;&#xFF0C;&#x5F88;&#x5408;&#x9002; Promise A+&#x89C4;&#x8303; &#x7B97;&#x4E86;&#xFF0C;&#x4E0A;&#x4EE3;&#x7801;&#x5427;&#xFF0C;&#x8FD9;&#x91CC;&#x9002;&#x5408;&#x591A;&#x6B21;&#x7EC3;&#x4E60; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131let oP = new MyPromise( (res, rej) =&gt; {// throw new Error(&apos;duyi&apos;); // &#x5F02;&#x6B65;&#x64CD;&#x4F5C; // setTimeout(() =&gt; { // res(0); // }, 2000); // console.log(0); res(1);});// myPromise.jsfunction MyPromise (executor) { var self = this; self.status = &apos;pending&apos;; self.resolveValue = null; self.rejectReason = null; self.ResolveCallBackList = []; self.RejectCallBackList = []; function resolve (value) { if (self.status === &apos;pending&apos;) { self.status = &apos;Fulfilled&apos;; self.resolveValue = value; self.ResolveCallBackList.forEach(function (ele) { ele(); }); } } function reject (reason) { if (self.status === &apos;pending&apos;) { self.status = &apos;Rejected&apos;; self.rejectReason = reason; self.RejectCallBackList.forEach(function (ele) { ele(); }); } } try { executor(resolve, reject); }catch(e) { reject(e); } };function ResolutionRetrunPromise (nextPromise, returnValue, res, rej) { if (returnValue instanceof MyPromise) { // Promise &#x5BF9;&#x8C61; returnValue.then(function (val) { res(val); }, function (reason) { rej(reason) }); }else { res(returnValue); }}MyPromise.prototype.then = function (onFulfilled, onRejected) { if (!onFulfilled) { onFulfilled = function (val) { return val; } } if (!onRejected) { onRejected = function (reason) { throw new Error(reason); } } var self = this; var nextPromise = new MyPromise(function (res, rej) { if (self.status === &apos;Fulfilled&apos;) { setTimeout(function () { try { // var nextResolveValue = onFulfilled(self.resolveValue); // res(nextResolveValue); var nextResolveValue = onFulfilled(self.resolveValue); ResolutionRetrunPromise(nextPromise, nextResolveValue, res, rej); }catch(e) { rej(e); } }, 0); } if (self.status === &apos;Rejected&apos;) { setTimeout(function () { try { var nextRejectValue = onRejected(self.rejectReason); ResolutionRetrunPromise(nextPromise, nextRejectValue, res, rej); }catch(e) { rej(e); } }, 0); } // if (self.status === &apos;pending&apos;) { self.ResolveCallBackList.push(function () { try { var nextResolveValue = onFulfilled(self.resolveValue); ResolutionRetrunPromise(nextPromise, nextResolveValue, res, rej); }catch(e) { rej(e); } }); self.RejectCallBackList.push(function () { setTimeout(function () { try { var nextRejectValue = onRejected(self.rejectReason); ResolutionRetrunPromise(nextPromise, nextRejectValue, res, rej); }catch(e) { rej(e); } }, 0); }); } }); return nextPromise;};MyPromise.race = function(promiseArr) { return new MyPromise(function (resolve, reject) { promiseArr.forEach(function (promise, index) { promise.then(resolve, reject); }); });}; &#x200B; Iterator&#x8FED;&#x4EE3;&#x6A21;&#x5F0F;&#xFF1A;&#x200B; &#x2003;&#x2003;&#x63D0;&#x4F9B;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x987A;&#x5E8F;&#x83B7;&#x5F97;&#x805A;&#x5408;&#x5BF9;&#x8C61;&#x4E2D;&#x7684;&#x5404;&#x4E2A;&#x5143;&#x7D20;&#xFF0C;&#x662F;&#x4E00;&#x79CD;&#x6700;&#x7B80;&#x5355;&#x4E5F;&#x6700;&#x5E38;&#x89C1;&#x7684;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x8BA9;&#x7528;&#x6237;&#x900F;&#x8FC7;&#x7279;&#x5B9A;&#x7684;&#x63A5;&#x53E3;&#x5DE1;&#x8BBF;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x800C;&#x4E0D;&#x7528;&#x4E86;&#x89E3;&#x5E95;&#x5C42;&#x7684;&#x5B9E;&#x73B0;&#x3002; &#x200B; &#x8FED;&#x4EE3;&#x5668;&#x7B80;&#x4ECB;&#xFF1A;&#x200B; &#x2003;&#x2003;&#x4F9D;&#x7167;&#x4E0E;&#x8FED;&#x4EE3;&#x6A21;&#x5F0F;&#x7684;&#x601D;&#x60F3;&#x800C;&#x5B9E;&#x73B0;&#xFF0C;&#x5206;&#x4E3A;&#x5185;&#x90E8;&#x8FED;&#x4EE3;&#x5668;&#x548C;&#x5916;&#x90E8;&#x8FED;&#x4EE3;&#x5668;&#x3002; &#x5185;&#x90E8;&#x8FED;&#x4EE3;&#x5668;&#xFF1A;&#x672C;&#x8EAB;&#x662F;&#x51FD;&#x6570;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x5185;&#x90E8;&#x5B9A;&#x4E49;&#x597D;&#x8FED;&#x4EE3;&#x89C4;&#x5219;&#xFF0C;&#x5B8C;&#x5168;&#x63A5;&#x624B;&#x6574;&#x4E2A;&#x8FED;&#x4EE3;&#x8FC7;&#x7A0B;&#xFF0C;&#x5916;&#x90E8;&#x53EA;&#x9700;&#x8981;&#x4E00;&#x6B21;&#x521D;&#x59CB;&#x8C03;&#x7528;&#x3002;&#x200B; &#x2003;&#x2003;&#x5982;&#xFF1A;Array.prototype.forEach &#x3001;jQuery.each &#x5185;&#x90E8;&#x8FED;&#x4EE3;&#x5668; &#x5916;&#x90E8;&#x8FED;&#x4EE3;&#x5668;&#xFF1A;&#x672C;&#x8EAB;&#x662F;&#x51FD;&#x6570;&#xFF0C;&#x6267;&#x884C;&#x8FD4;&#x56DE;&#x8FED;&#x4EE3;&#x5BF9;&#x8C61;&#xFF0C;&#x8FED;&#x4EE3;&#x4E0B;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x5FC5;&#x987B;&#x663E;&#x793A;&#x8C03;&#x7528;&#xFF0C;&#x8C03;&#x7528;&#x590D;&#x6742;&#x5EA6;&#x589E;&#x52A0;&#xFF0C;&#x4F46;&#x7075;&#x6D3B;&#x6027;&#x589E;&#x5F3A;&#x3002; &#x2003;&#x2003;&#x5982;&#xFF1A;function outerItreator(){} &#x5916;&#x90E8;&#x8FED;&#x4EE3;&#x5668; &#x200B; &#x80FD;&#x591F;&#x88AB;&#x8FED;&#x4EE3;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5176;&#x539F;&#x578B;&#x4E0A;&#x6709; Symbol.iterator&#xFF0C;&#x5982;&#x6570;&#x7EC4; arguments &#x7B49; &#x5BF9;&#x8C61;&#x4E0A;&#x662F;&#x6CA1;&#x6709;&#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7ED9;&#x5B83;&#x52A0;&#x4E0A;&#xFF1A; 12345678910111213141516171819202122232425let obj = { 0: &apos;a&apos;, 1: &apos;b&apos;, 2: &apos;c&apos;, length: 3, [Symbol.iterator]: function () { let curIndex = 0; let next = () =&gt; { return { value: this[curIndex], done: this.length == ++curIndex, } } return { next } }};let arr = [1, 2]console.log([...obj]);for (let p of obj) { console.log(p)}; #### Symbol&#x7B2C;&#x4E03;&#x79CD;&#x6570;&#x636E;&#x7ED3;&#x6784; Symbol&#x3002;&#x7279;&#x70B9;&#x662F;&#x5177;&#x6709;&#x552F;&#x4E00;&#x6027; &#x4F8B;&#x5B50;&#xFF1A; 12345678910111213141516171819202122232425let os = Symbol(&apos;abc&apos;);console.log(os);let os2 = Symbol({ name: &apos;cst&apos;, toString: function () { return &apos;qi&apos; }});console.log(os2);// let os2 = Symbol(&apos;abc&apos;); // os os2 &#x5E76;&#x4E0D;&#x662F;&#x540C;&#x4E00;&#x4E2A;// let prop = &apos;name&apos;;let obj = { [os2]: &apos;cst2&apos;, [os]: &apos;cst&apos;}// &#x53D6;&#x503C;&#x7528; obj[os]// arr set map arguments nodelist// itertor&#x51FD;&#x6570;console.log( Symbol.iterator , Symbol(&apos;Symbol.iterator&apos;)); &#x200B; ES6 - Generatorgenarator &#x662F;&#x8FED;&#x4EE3;&#x751F;&#x6210;&#x5668;&#x3002;&#x672C;&#x8EAB;&#x662F;&#x51FD;&#x6570;&#xFF0C;&#x6267;&#x884C;&#x540E;&#x8FD4;&#x56DE;&#x8FED;&#x4EE3;&#x5BF9;&#x8C61;&#xFF0C;&#x51FD;&#x6570;&#x5185;&#x90E8;&#x8981;&#x914D;&#x5408;yield&#x4F7F;&#x7528;Generator&#x51FD;&#x6570;&#x4F1A;&#x5206;&#x6BB5;&#x6267;&#x884C;&#xFF0C;&#x9047;&#x5230;yield&#x5373;&#x6682;&#x505C;&#x3002; generator &#x7279;&#x70B9;&#xFF1A; &#x2003;&#x2003;1 function&#x548C;&#x51FD;&#x6570;&#x540D;&#x4E4B;&#x95F4;&#x9700;&#x8981;&#x5E26; * &#x2003;&#x2003;2 &#x51FD;&#x6570;&#x4F53;&#x5185;&#x90E8;yield&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x4EA7;&#x51FA;&#x4E0D;&#x540C;&#x7684;&#x5185;&#x90E8;&#x72B6;&#x6001;&#xFF08;&#x503C;&#xFF09; 123456789101112131415161718192021222324252627282930313233343536373839// Generator &#x751F;&#x6210;&#x8FD9;&#x4E2A;&#x8FED;&#x4EE3;&#x5BF9;&#x8C61;function *test () { yield &apos;a&apos;; console.log(&apos;1&apos;); yield &apos;b&apos;; console.log(&apos;2&apos;); yield &apos;c&apos;; console.log(&apos;3&apos;); return &apos;d&apos;;}let oG = test();console.log( oG.next() );console.log( oG.next() );console.log( oG.next() );console.log( oG.next() );function *test () { let value1 = yield &apos;a&apos;; console.log(value1); let value2 = yield &apos;b&apos;; console.log(value2); let value3 = yield &apos;c&apos;; console.log(value3); return &apos;d&apos;;}let oG = test();// console.log( oG.next(&apos;yi&apos;) ); // &#x5565;&#x90FD;&#x4E0D;&#x4F1A;&#x6253;&#x5370;oG.next(&apos;qi&apos;); // yioG.next(&apos;he&apos;); // qioG.next(&apos;mu&apos;); // he &#x603B;&#xFF1A;&#x4E0A;&#x9762;&#x4EE3;&#x7801;&#x4E2D;&#x6700;&#x540E;&#x6253;&#x5370;&#x7684;&#x5185;&#x5BB9; &#x53D6;&#x51B3;&#x4E8E;next()&#x4E2D;&#x4F20;&#x7684;&#x4E1C;&#x897F;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x4EA7;&#x51FA;&#x7684;&#x4E1C;&#x897F; &#x8FED;&#x4EE3;&#x5668;&#x4EE3;&#x7801;&#x4FEE;&#x6539;&#xFF1A; 1234567891011121314iterator&#x51FD;&#x6570;&#x7684;&#x76EE;&#x7684; &#x6267;&#x884C;&#x8FD4;&#x56DE;&#x53EF;&#x4EE5;&#x8FED;&#x4EE3;&#x7684;&#x5BF9;&#x8C61;let obj = { 0: &apos;a&apos;, 1: &apos;b&apos;, 2: &apos;c&apos;, length: 3, [Symbol.iterator]: function *() { let currIndex = 0; while (currIndex != this.length) { yield this[currIndex]; currIndex++; } }}; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"redux 总结","date":"2019-03-19T09:32:34.000Z","path":"/posts/39058069/","text":"redux &#x662F;&#x72EC;&#x7ACB;&#x7684;&#xFF0C;react&#x53EF;&#x4EE5;&#x5F15;&#x5165;&#x5B83;&#x6765;&#x89E3;&#x51B3;&#x72B6;&#x6001;&#x7BA1;&#x7406;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x548C; vuex &#x5728; vue &#x4E2D;&#x8D77;&#x7684;&#x4F5C;&#x7528;&#x4E00;&#x6837; redux &#x7684;&#x5177;&#x4F53;&#x8FC7;&#x7A0B;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x6B65;&#x9AA4;&#xFF1A; &#x5B89;&#x88C5;redux&#xFF1A;npm install redux &#x2013;save &#x200B; &#x8FD9;&#x6B21;&#x4F9D;&#x7136;&#x7528; Todolist &#x4E3E;&#x4F8B;&#x9875;&#x9762;&#x5982;&#x4E0B;&#xFF1A; &#x65B0;&#x5EFA; store &#x6587;&#x4EF6;&#x5939;&#x5904;&#x7406;&#x72B6;&#x6001;&#x7684;&#x4E1C;&#x897F;&#x653E;&#x5230;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#xFF0C;&#x76EE;&#x5F55;&#x5982;&#x4E0B;: getState &#x83B7;&#x53D6; store &#x4E2D;&#x7684;&#x503C;todoList.js: 1234import React, { Component } from &apos;react&apos;;import store from &apos;../store&apos;; //&#x5F15;&#x5165; storestate = store.getState() &#x200B; &#x901A;&#x8FC7; dispatch &#x6539;&#x53D8; store &#x4E2D;&#x7684;&#x503C;todoList.js: 12345678910111213import React, { Component } from &apos;react&apos;;import store from &apos;../store&apos;; //&#x5F15;&#x5165; store&lt;input value={ this.state.inpVal } onChange={ this.handleChange }&gt;&lt;/input&gt;//&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#x4E2D; &#x901A;&#x8FC7; dispatch &#x53BB;&#x6539;&#x53D8; store &#x7684;&#x503C; handleChange = (e) =&gt; { const action = { type: &apos;CHANGE_INPUT_VAL&apos;, value: e.target.value } store.dispatch(action); } &#x200B; reducer &#x4E2D;&#x5B9A;&#x4E49;&#x5982;&#x4F55;&#x53BB;&#x6539;&#x53D8; store &#x4E2D;&#x7684;&#x503C;store/index.js, &#x901A;&#x8FC7;&#x5F15;&#x5165; redux &#x4E2D;&#x7684; createStore &#x6765;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; store 12345678910import { createStore } from &apos;redux&apos;;import reducer from &apos;./reducer&apos;;const store = createStore( reducer, window.__REDUX_DEVTOOLS_EXTENSION__ &amp;&amp; window.__REDUX_DEVTOOLS_EXTENSION__());// window &#x8FD9;&#x53E5;&#x662F;&#x4E3A;&#x4E86;&#x63A7;&#x5236;&#x53F0;&#x4E2D;&#x80FD;&#x6253;&#x5F00; reduxexport default store; store/reducer.js 123456789101112131415161718192021222324const initState = { inpVal: &apos;&apos;, list: [&apos;&#x84DD;&#x5929;&apos;, &apos;&#x767D;&#x4E91;&apos;, &apos;&#x9633;&#x5149;&apos;, &apos;&#x5927;&#x6D77;&apos;]}export default (state=initState, action) =&gt; { const newState = JSON.parse( JSON.stringify(state)); switch (action.type) { case &apos;CHANGE_INPUT_VAL&apos;: newState.inpVal = action.value; return newState; case &apos;ADD_TODO_ITEM&apos;: newState.list.push(action.value); newState.inpVal = &apos;&apos;; return newState; case &apos;DELETE_TODO_ITEM&apos;: newState.list.splice(action.index, 1); return newState; } return state;} &#x200B; subscribe &#x76D1;&#x63A7; store &#x4E2D;&#x503C;&#x7684;&#x53D8;&#x5316;todoList.js: 1234567componentDidMount () { store.subscribe(this.handleStoreChange); // &#x8BA2;&#x9605;&#x4E86; store &#x4E2D;&#x7684;&#x503C;}handleStoreChange = () =&gt; { this.setState(store.getState());} &#x200B; &#x901A;&#x8FC7; redux &#x7BA1;&#x7406;&#x72B6;&#x6001;&#x7684;&#x8FC7;&#x7A0B;&#x57FA;&#x672C;&#x5B9E;&#x73B0;&#x4E86;&#xFF0C;todoList.js &#x603B;&#x548C;&#x8D77;&#x6765;&#x5C31;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF1A; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162import React, { Component } from &apos;react&apos;;import store from &apos;../store&apos;;class c extends Component { state = store.getState() componentDidMount () { store.subscribe(this.handleStoreChange); } render () { return ( &lt;&gt; &lt;div&gt; &lt;input value={ this.state.inpVal } onChange={ this.handleChange }&gt;&lt;/input&gt; &lt;button onClick={ this.handleAdd }&gt;&#x6DFB;&#x52A0;&lt;/button&gt; &lt;/div&gt; &lt;ul&gt; { this.state.list.map( (item, index) =&gt; ( &lt;li key={item + index}&gt; { item } &lt;button onClick={ ()=&gt;{ this.handleDelete(index) } }&gt;X&lt;/button&gt; &lt;/li&gt; )) } &lt;/ul&gt; &lt;/&gt; ) } handleChange = (e) =&gt; { const action = { type: &apos;CHANGE_INPUT_VAL&apos;, value: e.target.value } store.dispatch(action); } handleAdd = () =&gt; { const action = { type: &apos;ADD_TODO_ITEM&apos;, value: this.state.inpVal } store.dispatch( action ); } handleDelete = (index) =&gt; { const action = { type: &apos;DELETE_TODO_ITEM&apos;, index } store.dispatch(action); } handleStoreChange = () =&gt; { this.setState(store.getState()); }}export default c; &#x4F46; action &#x8FD9;&#x6837;&#x653E;&#x5728;&#x7EC4;&#x4EF6;&#x4E2D;&#x82E5;&#x662F;&#x51FA;&#x9519;&#x4E86;&#x4E5F;&#x4E0D;&#x592A;&#x597D;&#x627E;&#xFF0C;&#x6240;&#x4EE5;&#x628A;&#x5B83;&#x6574;&#x5408;&#x8D77;&#x6765;&#x653E;&#x5728;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x5939;&#x4E2D;, &#x6240;&#x4EE5;&#x4E0B;&#x9762;&#x51E0;&#x4E2A;&#x90FD;&#x662F;&#x6574;&#x7406;&#x4EE3;&#x7801; &#x200B; action &#x62BD;&#x79BB;&#x6210;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x5728; store &#x4E2D;&#x6574;&#x5408; actionTypes&#xFF0C;&#x5E76;&#x628A;&#x9700;&#x8981;&#x7684; action &#x5BFC;&#x51FA;&#xFF0C;&#x5728;&#x8FD9;&#x6837;&#x5728;&#x5176;&#x4ED6;&#x7EC4;&#x4EF6;&#x4E2D;&#x76F4;&#x63A5;&#x8C03;&#x7528;&#x5C31;&#x884C;&#x4E86; store/actionTypes.js : 1234export const CHANGE_INPUT_VAL = &apos;CHANGE_INPUT_VAL&apos;;export const ADD_TODO_ITEM = &apos;ADD_TODO_ITEM&apos;;export const DELETE_TODO_ITEM = &apos;DELETE_TODO_ITEM&apos;;export const COUNT_ADD = &apos;COUNT_ADD&apos;; store/actionCreators.js : 123456789101112131415161718192021222324252627282930import * as Types from &apos;./actionTypes&apos;;export const getTodoChangeInputValAction = (value) =&gt; { return { type: Types.CHANGE_INPUT_VAL, value }}export const getTodoAddItemAction = (value) =&gt; { return { type: Types.ADD_TODO_ITEM, value }}export const getTodoDeleteItemAction = (index) =&gt; { return { type: Types.DELETE_TODO_ITEM, index }}export const getCountAddAction = (n) =&gt; { return { type: Types.COUNT_ADD, n }} &#x5728; todoList.js &#x4E2D;&#x76F4;&#x63A5;&#x4F7F;&#x7528; actionCreators&#xFF1A; 12345678910111213import React, { Component } from &apos;react&apos;;import store from &apos;../store&apos;;import * as Actions from &apos;../store/actionCreators&apos;; handleChange = (e) =&gt; { const action = Actions.getTodoChangeInputValAction(e.target.value); store.dispatch(action); } handleAdd = () =&gt; { const action = Actions.getTodoAddItemAction( this.state.inpVal ); store.dispatch( action ); } &#x200B; &#x62BD;&#x79BB; reducer&#x73B0;&#x5728; &#x8FD9;&#x4E2A;&#x9875;&#x9762;&#x6709;&#x4E24;&#x4E2A;&#x5C0F;&#x529F;&#x80FD;&#xFF0C;&#x4E00;&#x4E2A;&#x662F; todolist&#xFF0C;&#x4E00;&#x4E2A;&#x662F;counter &#xFF0C;&#x4F46;&#x4ED6;&#x4EEC;&#x7684; reducer &#x90FD;&#x662F;&#x5199;&#x5728;&#x4E00;&#x8D77;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x6B21;&#x628A;&#x5B83;&#x4EEC;&#x4E24;&#x4E2A;&#x62BD;&#x79BB;&#x51FA;&#x6765;&#xFF0C;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x5177;&#x4F53;&#x5982;&#x4E0B;&#xFF1A; &#x5176;&#x4E2D;&#xFF0C;store/reducer/counter.js : 123456789101112131415161718import * as Types from &apos;../actionTypes&apos;;const initState = { count: 0}export default (state=initState, action) =&gt; { const newState = JSON.parse( JSON.stringify(state)); switch (action.type) { case Types.COUNT_ADD: newState.count = newState.count + action.n; return newState; } return state;} store/reducer/todoList.js : 12345678910111213141516171819202122232425262728import * as Types from &apos;../actionTypes&apos;;const initState = { inpVal: &apos;&apos;, list: [&apos;&#x84DD;&#x5929;&apos;, &apos;&#x767D;&#x4E91;&apos;, &apos;&#x9633;&#x5149;&apos;, &apos;&#x5927;&#x6D77;&apos;]}export default (state=initState, action) =&gt; { const newState = JSON.parse( JSON.stringify(state)); switch (action.type) { case Types.CHANGE_INPUT_VAL: newState.inpVal = action.value; return newState; case Types.ADD_TODO_ITEM: newState.list.push(action.value); newState.inpVal = &apos;&apos;; return newState; case Types.DELETE_TODO_ITEM: newState.list.splice(action.index, 1); return newState; } return state;} store/reducer/index.js , &#x6211;&#x4EEC;&#x7528; redux &#x4E2D;&#x7684; combineReducers &#xFF0C;&#x628A;&#x4E24;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;&#x7684; actionCreators&#x6574;&#x5408;&#x5728;&#x4E00;&#x8D77;&#xFF1A; 12345678import { combineReducers } from &apos;redux&apos;;import todoList from &apos;./todoList&apos;;import counter from &apos;./counter&apos;;export default combineReducers({ todoList, counter}) reducer&#x6574;&#x5408;&#x540E;&#x4F7F;&#x7528;&#x7684;&#x51FD;&#x6570;&#x540D;&#x6709;&#x6CA1;&#x6709;&#x53D8;&#x5316;&#xFF0C;&#x5728; component/counter.js &#xFF1A; 123456789101112131415161718192021222324252627282930import React, { Component } from &apos;react&apos;;import store from &apos;../store&apos;;import { getCountAddAction } from &apos;../store/actions/counter&apos;;class c extends Component { state = store.getState().counter componentDidMount () { store.subscribe(()=&gt;{ this.setState(store.getState().counter) }) } render () { return ( &lt;div&gt; { this.state.count } &lt;button onClick={ this.handleClick }&gt;add&lt;/button&gt; &lt;/div&gt; ) } handleClick = () =&gt; { const action = getCountAddAction(3); store.dispatch(action); }}export default c; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"react","slug":"react","permalink":"https://orange-way.github.io/tags/react/"},{"name":"redux","slug":"redux","permalink":"https://orange-way.github.io/tags/redux/"}]},{"title":"react-redux 总结","date":"2019-02-24T03:21:23.000Z","path":"/posts/adc7e95b/","text":"&#x5728; react &#x4E2D; &#x5F15;&#x5165; redux &#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x72B6;&#x6001;&#x7BA1;&#x7406;&#xFF0C; &#x4F46;&#x6709;&#x4E9B;&#x5730;&#x65B9;&#x6709;&#x70B9;&#x5197;&#x4F59;&#xFF0C;&#x6240;&#x4EE5; react &#x80AF;&#x5B9A;&#x662F;&#x4F1A;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x6B21;&#x603B;&#x7ED3; react-redux &#xFF0C;&#x8FD9;&#x4E2A;&#x5E93;&#x662F;&#x7528;&#x6765;&#x8FDE;&#x63A5; react &#x548C; redux &#x7684; &#x5177;&#x4F53;&#x4F7F;&#x7528;&#x6B65;&#x9AA4;&#x5982;&#x4E0B;&#xFF1A; 1 &#x5B89;&#x88C5; react-reduxnpm install react-redux &#x2013;save &#x200B; 2 &#x5F15;&#x5165; react-reduxindex.js : 12345678910111213141516import React from &apos;react&apos;;import { render } from &apos;react-dom&apos;;import { Provider } from &apos;react-redux&apos;;import store from &apos;./store&apos;;import TodoList from &apos;./components/TodoList&apos;;import Counter from &apos;./components/Counter&apos;;render( &lt;Provider store={store}&gt; &lt;Counter /&gt; &lt;TodoList /&gt; &lt;/Provider&gt;, window.root); &#x6CE8;&#x610F;&#xFF1A; 1 Provider&#xFF1A;&#x54EA;&#x4E2A;&#x7EC4;&#x4EF6;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x5B83;&#xFF0C;&#x5C31;&#x628A;&#x90A3;&#x4E2A;&#x7EC4;&#x4EF6;&#x653E;&#x5728;&#x5B83;&#x91CC;&#x9762;&#xFF0C;&#x5B83;&#x4E5F;&#x662F;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6; 2 store&#xFF1A;&#x662F;&#x8981;&#x4F20;&#x8FDB;&#x53BB;&#x7684;store &#x200B; 3 connect&#x653E;&#x5728; Provider &#x91CC;&#x7684;&#x7EC4;&#x4EF6;&#x8981;&#x8C03;&#x7528;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x7528;&#x6765;&#x8FDE;&#x63A5;store component/counter.js : 1234567891011121314151617181920212223242526272829303132333435363738394041424344import React, { Component } from &apos;react&apos;;import { bindActionCreators } from &apos;redux&apos;;import {connect} from &apos;react-redux&apos;;// import { getCountAddAction } from &apos;../store/actions/counter&apos;;import * as actions from &apos;../store/actions/counter&apos;;class Counter extends Component { render () { return ( &lt;div&gt; { this.props.count } &lt;button onClick={ this.handleClick }&gt;add&lt;/button&gt; &lt;/div&gt; ) } handleClick = () =&gt; { this.props.add(6) }}// const mapStateToProps = (state) =&gt; ({// count: state.counter.count// })const mapStateToProps = (state) =&gt; state.counter;// 1 &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x5B9A;&#x4E49;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x5C5E;&#x6027;&#x4E3A;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x4E2D;&#x8C03;&#x7528; dispatch// const mapDispatchToProps = (dispatch) =&gt; ({// getCountAddAction: (val) =&gt; {// dispatch(getCountAddAction(val))// }// })// 2 redux &#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x51FD;&#x6570;bindActionCreators&#xFF0C;&#x7ED1;&#x5B9A;&#x52A8;&#x4F5C;&#x521B;&#x5EFA;&#x8005;&#xFF0C;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x5C31;&#x662F;mapDispatchToProps&#x6240;&#x9700;&#x8981;&#x7684;&#x8FD4;&#x56DE;&#x503C;// const mapDispatchToProps = (dispatch) =&gt; bindActionCreators(actions, dispatch)// 3 &#x7531;&#x4E8E;&#x6BCF;&#x6B21;&#x90FD;&#x662F;&#x76F8;&#x540C;&#x7684;&#x6B65;&#x9AA4;&#xFF0C;&#x6240;&#x4EE5; react &#x5141;&#x8BB8;&#x6211;&#x4EEC;&#x76F4;&#x63A5;&#x4F20; action &#x8FDB;&#x53BB;// actions // &#x7531;&#x4E8E;&#x6BCF;&#x6B21;mapDispatchToProps&#x90FD;&#x662F; &#x4F20; dispatch &#x8FDB;&#x53BB;&#xFF0C;&#x7136;&#x540E;&#x8FD4;&#x56DE;export default connect(mapStateToProps, actions)(Counter); store/reducers/counter.js : 123456789101112131415161718import * as Types from &apos;../actionTypes&apos;;const initState = { count: 0}export default (state=initState, action) =&gt; { const newState = JSON.parse( JSON.stringify(state)); switch (action.type) { case Types.COUNT_ADD: newState.count = newState.count + action.n; return newState; } return state;} store/actions/counter.js : 12345678import * as Types from &apos;../actionTypes&apos;;export const add = (n) =&gt; { return { type: Types.COUNT_ADD, n }} &#x6CE8;&#x610F;&#xFF1A; 1 connect&#xFF1A;&#x63A5;&#x6536;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;mapStateToProps&#xFF0C;mapDispatchToProps 2 mapStateToProps&#xFF1A;&#x628A;&#x8981;&#x8BA2;&#x9605;store&#x4E2D;&#x7684;&#x54EA;&#x4E2A;&#x503C;&#x4F20;&#x8FDB;&#x53BB; 3 mapDispatchToProps&#xFF1A;&#x8C03;&#x7528;&#x7684;&#x662F;&#x54EA;&#x4E2A;action &#x4F20;&#x8FDB;&#x53BB; 4 &#x8FD9;&#x6837;&#x5728;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6; handleClick &#x4E2D;&#x5C31;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; this.props&#x8C03;&#x7528; store &#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;this.props.add(5) &#x200B; &#x5230;&#x8FD9;&#x91CC;&#xFF0C;react-redux &#x7684;&#x4F7F;&#x7528;&#x6B65;&#x9AA4;&#x5927;&#x4F53;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF0C;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x53D1;&#x73B0; &#x4EE3;&#x7801;&#x90FD;&#x662F;&#x6709;&#x95EE;&#x9898;&#x89E3;&#x51B3;&#x95EE;&#x9898;&#xFF0C;&#x518D;&#x8FDB;&#x4E00;&#x6B65;&#x4F18;&#x5316;&#x518D;&#x4F18;&#x5316;&#xFF01; &#x200B; 4 redux-thunk&#x3001;redux-promise&#x3001;redux-logger&#x3001;redux-saga &#x4E2D;&#x95F4;&#x4ECB;&#x5F53;&#x6211;&#x4EEC;&#x5728;&#x7EC4;&#x4EF6;&#x4E2D;&#x9700;&#x8981;&#x83B7;&#x53D6;&#x4E00;&#x4E9B;&#x521D;&#x59CB;&#x6570;&#x636E;&#xFF0C;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x5E76;&#x4E0D;&#x662F;&#x81EA;&#x5DF1;&#x79C1;&#x6709;&#x7684;&#xFF0C;&#x662F;&#x9700;&#x8981;&#x4F20;&#x7ED9;store&#x7684;&#xFF0C;&#x800C;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x6700;&#x521D;&#x662F;&#x901A;&#x8FC7;axios&#x7B49;&#x5F02;&#x6B65;&#x65B9;&#x5F0F;&#x83B7;&#x53D6;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x628A;&#x8FD9;&#x4E2A;axios&#x65B9;&#x6CD5;&#x5199;&#x5728; componentDidMount &#x65B9;&#x6CD5;&#x4E2D;&#xFF0C;&#x4F46;&#x8FD9;&#x6837;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x662F;&#xFF1A;&#x7EC4;&#x4EF6;&#x5728; componentDidMount &#x83B7;&#x53D6;&#x6570;&#x636E;&#xFF0C;&#x901A;&#x8FC7; dispatch &#x4F20;&#x7ED9; store &#x65E2;&#x7136;&#x662F;&#x8FD9;&#x6837;&#xFF0C;&#x90A3;&#x5E72;&#x561B;&#x4E0D;&#x76F4;&#x63A5;&#x5728; store &#x4E2D;&#x53BB;&#x83B7;&#x53D6; store/actions/todoList.js : 12345678910111213141516171819202122232425import * as Types from &apos;../actionTypes&apos;;import axios from &apos;axios&apos;;export const getInitList = list =&gt; { // 1 axios&#x8BF7;&#x6C42;&#x662F;&#x5F02;&#x6B65;&#x7684;&#xFF0C;&#x663E;&#x7136;&#x4E0D;&#x53EF;&#x4EE5; // let data; // axios.get(&apos;list.json&apos;).then(res =&gt; { // data = res; // }) // 2 &#x662F; return &#x4E86;&#xFF0C;&#x4F46;&#x5E76;&#x6CA1;&#x6709;&#x8FD4;&#x56DE;&#x51FA;&#x6765; // return () =&gt; ({ // axios.get(&apos;list.json&apos;).then(res =&gt; { // dispatch({ // type: Types.GET_INIT_LIST, // list: res // }) // }) // return { // type: Types.GET_INIT_LIST, // list: data // }} &#x55EF;&#xFF0C;react &#x662F;&#x4E00;&#x4E2A;&#x6210;&#x719F;&#x7684;&#x6846;&#x67B6;&#xFF0C;&#x5B83;&#x663E;&#x7136;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x522B;&#x7684;&#x65B9;&#x5F0F;&#x5728; store &#x4E2D;&#x83B7;&#x53D6;&#xFF0C;&#x914D;&#x548C;redux &#x4E2D;&#x7684; redux-thunk&#x3001;redux-promise &#x53EF;&#x4EE5;&#x5B9E;&#x73B0; redux-thunk&#x5B89;&#x88C5;&#xFF1A;npm install redux-thunk &#x2013;save store/index.js : 12345678910import { createStore, applyMiddleware } from &apos;redux&apos;;import reducer from &apos;./reducers&apos;;import thunk from &apos;redux-thunk&apos;;const store = createStore( reducer, applyMiddleware(thunk));export default store; store/actions/todoList.js : 1234567891011121314import * as Types from &apos;../actionTypes&apos;;import axios from &apos;axios&apos;;export const getInitList = list =&gt; { return dispatch =&gt; { axios.get(&apos;list.json&apos;).then(res =&gt; { dispatch({ type: Types.GET_INIT_LIST, list: res }) }) }} redux-promise&#x5B89;&#x88C5;&#xFF1A;npm install redux-promise &#x2013;save store/index.js &#xFF1A; 1234567891011import { createStore, applyMiddleware } from &apos;redux&apos;;import reducer from &apos;./reducers&apos;;import thunk from &apos;redux-thunk&apos;;import promise from &apos;redux-promise&apos;;const store = createStore( reducer, applyMiddleware(thunk, promise));export default store; store/actions/todoList.js : 1234567891011121314import * as Types from &apos;../actionTypes&apos;;import axios from &apos;axios&apos;;export const getInitList = list =&gt; { return new Promise( (resolve, reject) =&gt; { axios.get(&apos;list.json&apos;).then(res =&gt; { resolve({ type: Types.GET_INIT_LIST, list: res }) }) })} redux-logger&#x8FD9;&#x4E2A;&#x4E2D;&#x95F4;&#x4ECB; &#x662F;&#x4E3A;&#x4E86;&#x77E5;&#x9053;&#x5728;&#x4EFB;&#x52A1;&#x6D3E;&#x53D1;&#x4E4B;&#x524D;&#x548C;&#x6D3E;&#x53D1;&#x4E4B;&#x540E;&#x7684;&#x4E00;&#x4E2A;&#x72B6;&#x6001; &#x5B89;&#x88C5;&#xFF1A;npm install redux-logger &#x2013;save store/index.js : 123456789101112import { createStore, applyMiddleware, compose } from &apos;redux&apos;;import reducer from &apos;./reducers&apos;;import thunk from &apos;redux-thunk&apos;;import promise from &apos;redux-promise&apos;;import logger from &apos;redux-logger&apos;;const store = createStore( reducer, applyMiddleware(thunk, promise, logger));export default store; &#x8FD9;&#x65F6;&#x5019;&#x5C31;&#x53EF;&#x4EE5;&#x5728;&#x63A7;&#x5236;&#x53F0;&#x770B;&#x5230;&#x4EFB;&#x52A1;&#x6D3E;&#x53D1;&#x524D;&#x548C;&#x6D3E;&#x53D1;&#x540E;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; &#x5728;&#x524D;&#x9762;&#x7684; index.js &#x4E2D;&#x628A; window&#x90A3;&#x4E00;&#x53E5;&#x5220;&#x9664;&#x4E86;&#xFF0C;&#x4F46;&#x5B83;&#x662F;&#x7528;&#x6765;&#x5728;&#x63A7;&#x5236;&#x53F0;&#x6253;&#x5F00; redux &#x7684;&#xFF0C;&#x73B0;&#x5728;&#x628A;&#x5B83;&#x52A0;&#x56DE;&#x6765;&#xFF0C;&#x8FD9;&#x4E2A;&#x5728;github&#x4E0A;&#x6709;&#x4F7F;&#x7528;&#x8BF4;&#x660E; index.js : 1234567891011121314import { createStore, applyMiddleware, compose } from &apos;redux&apos;;import reducer from &apos;./reducers&apos;;import thunk from &apos;redux-thunk&apos;;import promise from &apos;redux-promise&apos;;import logger from &apos;redux-logger&apos;;const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;const store = createStore( reducer, composeEnhancers( applyMiddleware(thunk, promise, logger) ));export default store; redux-saga&#x8FD9;&#x4E2A;&#x4E2D;&#x95F4;&#x4ECB;&#x4F5C;&#x7528;&#x548C; redux-thunk &#x4E00;&#x6837;&#xFF0C;&#x4E5F;&#x662F;&#x5728; action &#x4E2D;&#x53EF;&#x4EE5;&#x8C03;&#x7528;&#x4E00;&#x6B21;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#xFF0C;&#x4F46;&#x4F7F;&#x7528;&#x7684;&#x65B9;&#x5F0F;&#x6709;&#x5F88;&#x5927;&#x4E0D;&#x540C; &#x5B89;&#x88C5;&#xFF1A;npm install redux-saga &#x2013;save store/index.js : 123456789101112131415import { createStore, applyMiddleware } from &apos;redux&apos;;import reducer from &apos;./reducers&apos;;import createSagaMiddleware from &apos;redux-saga&apos;;import mySaga from &apos;./sagas&apos;;const sagaMiddleware = createSagaMiddleware();const store = createStore( reducer, applyMiddleware(sagaMiddleware));sagaMiddleware.run(mySaga);export default store; store/sagas.js , &#x5728;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;&#x96C6;&#x4E2D;&#x5904;&#x7406;&#x5BF9;&#x5F02;&#x6B65;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x5B83;&#x80FD;&#x591F;&#x611F;&#x77E5;&#x5230;&#x6BCF;&#x4E00;&#x6B21;&#x4EFB;&#x52A1;&#x6D3E;&#x53D1;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x5F53;&#x6D3E;&#x53D1;&#x67D0;&#x4E2A;&#x4EFB;&#x52A1;&#x65F6;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x6267;&#x884C;&#x76F8;&#x5E94;&#x7684;&#x65B9;&#x6CD5; 12345678910111213141516171819202122232425import { takeEvery, put } from &apos;redux-saga/effects&apos;;import axios from &apos;axios&apos;;import * as Types from &apos;./actionTypes&apos;;import * as actions from &apos;./actions/todoList&apos;;function* mySaga () { yield takeEvery(Types.ADD_TODO_ITEM, addItem); yield takeEvery(Types.GET_TODO_DATA, getTodoData);}function* addItem () { console.log(&apos;add&apos;);}function* getTodoData () { try { const data = yield axios.get(&apos;list.json&apos;); const action = actions.getInitList(data); yield put(action); } catch (err) { console.log(err); }}// put: &#x8FD9;&#x91CC;&#x4E0D;&#x9700;&#x8981;&#x7528; dispatch &#x8FDB;&#x884C;&#x4EFB;&#x52A1;&#x7684;&#x6D3E;&#x53D1;&#xFF0C;&#x5B83;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A; put &#x65B9;&#x6CD5;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x5B83;&#x6765;&#x8FDB;&#x884C;&#x4EFB;&#x52A1;&#x7684;&#x6D3E;&#x53D1;export default mySaga; component/todoList.js : 123componentDidMount () { this.props.getTodoData();} &#x8FD9;&#x56DB;&#x4E2A;&#x4E2D;&#x95F4;&#x4ECB;&#x662F;&#x76EE;&#x524D;&#x6211;&#x4E86;&#x89E3;&#x5230;&#x7684;&#xFF0C;&#x57FA;&#x672C;&#x533A;&#x522B;&#x5982;&#x4E0B;&#xFF1A; redux-thunk&#xFF1A;&#x5E2E;&#x52A9;action&#x63A5;&#x53D7;&#x51FD;&#x6570;,&#x80FD;&#x5728;redux&#x53D1;&#x9001;&#x4E00;&#x6B21;&#x5F02;&#x6B65;&#x8BF7;&#x6C42; redux-promise&#xFF1A;&#x5E2E;&#x52A9;action&#x63A5;&#x6536;promise redux-logger&#xFF1A;&#x4E86;&#x89E3;&#x6D3E;&#x53D1;&#x4E4B;&#x524D;&#x548C;&#x6D3E;&#x53D1;&#x4E4B;&#x540E;&#x7684;&#x72B6;&#x6001; redux-saga&#xFF1A;&#x548C;redux-thunk&#x6709;&#x70B9;&#x76F8;&#x4F3C;,&#x4E5F;&#x80FD;&#x5728;redux&#x4E2D;&#x53D1;&#x9001;&#x4E00;&#x6B21;&#x5F02;&#x6B65;&#x8BF7;&#x6C42;,&#x4F46;&#x4E24;&#x8005;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x6709;&#x5F88;&#x5927;&#x4E0D;&#x540C; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"react","slug":"react","permalink":"https://orange-way.github.io/tags/react/"}]},{"title":"react-router","date":"2019-02-22T05:43:59.000Z","path":"/posts/bb8ca5e1/","text":"&#x8DEF;&#x7531;&#x5206;&#x4E3A; HashRouter &#x548C; BrowserRouter&#xFF0C;HashRouter &#x662F;&#x5E26;&#x6709; # &#xFF0C;&#x800C; BrowserRouter &#x5219;&#x6CA1;&#x6709; &#x4F7F;&#x7528;react-router&#x7684;demo&#x56FE;&#x5982;&#x4E0B;&#xFF1A; &#x6B65;&#x9AA4;&#x5982;&#x4E0B;&#xFF1A; 1 &#x5B89;&#x88C5; react-routernpm install react-router-dom --save &#x200B; 2 &#x5F15;&#x5165;&#x8FD9;&#x4E2A; BrowserRouter &#xFF08;&#x4F7F;&#x7528;&#x8F83;&#x591A;&#xFF09; index.js&#x4E2D; &#xFF0C;&#x5982;&#x4E0B;&#xFF1A; 12345678910111213141516171819202122232425262728import { BrowserRouter as Router, Route, Switch, Redirect} from &quot;react-router-dom&quot;;render( &lt;Router&gt; &lt;&gt; &lt;App&gt; &lt;div className=&quot;content&quot;&gt; &lt;Switch&gt; &lt;Route path=&quot;/&quot; exact component={Home}&gt;&lt;/Route&gt; &lt;Route path=&quot;/activities&quot; component={Activities}&gt;&lt;/Route&gt; {/* &lt;Route path=&quot;/topics&quot; component={Topics}&gt;&lt;/Route&gt; */} &lt;PrivateRoute path=&quot;/topics&quot; component={Topics}&gt;&lt;/PrivateRoute&gt; &lt;Route path=&quot;/login&quot; component={Login}&gt;&lt;/Route&gt; &lt;Route path=&quot;/article/:id&quot; component={Article}&gt;&lt;/Route&gt; &lt;Route path=&quot;/error.html&quot; component={NoMatch}&gt;&lt;/Route&gt; &lt;Redirect to=&quot;/error.html&quot;&gt;&lt;/Redirect&gt; &lt;/Switch&gt; &lt;/div&gt; &lt;/App&gt; &lt;/&gt; &lt;/Router&gt;, document.getElementById(&quot;root&quot;)); &#x6CE8;&#x610F;&#xFF1A; 1) exact&#xFF1A;&#x662F;&#x5B8C;&#x5168;&#x5339;&#x914D;&#xFF0C;&#x4E00;&#x6A21;&#x4E00;&#x6837;&#x624D;&#x53EF;&#x4EE5; 2) switch&#xFF1A;&#x662F;&#x5339;&#x914D;&#x5230;&#x4E00;&#x4E2A;&#x5C31;&#x4E0D;&#x4F1A;&#x5F80;&#x4E0B;&#x627E;&#x4E86; 3) Redirect&#xFF1A;&#x91CD;&#x5B9A;&#x5411; 4) Router&#xFF1A;&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x4E2A;&#x5B50;&#x5143;&#x7D20; 5) &#x8FD9;&#x91CC;&#x662F;&#x628A;Router&#x8FD9;&#x4E2A;&#x7EC4;&#x4EF6;&#x653E;&#x5728;&#x4E86;App&#x7EC4;&#x4EF6;&#x91CC;&#xFF0C;&#x5F53;&#x6709;&#x4E1C;&#x897F;&#x653E;&#x5165;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x4E2D;&#x65F6;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x505A;&#xFF0C;&#x4F46;&#x5177;&#x4F53;&#x653E;&#x5728;App &#x7EC4;&#x4EF6;&#x7684;&#x54EA;&#x91CC;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;App&#x7EC4;&#x4EF6;&#x4E2D;&#x5B9A;&#x4E49;&#xFF0C;{ this.props.children } &#x200B; 3 &#x8DEF;&#x7531;&#x8DF3;&#x8F6C;&#x7528; Link&#x3001;NavLink&#x53EF;&#x4EE5;&#x62BD;&#x79BB;&#x6210;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6; 123456789101112131415161718192021222324import React, { Component } from &apos;react&apos;;import {Link&#xFF0C;NavLink} from &apos;react-router-dom&apos;import &apos;./nav.style.css&apos;class Nav extends Component { _handleClick = () =&gt; { console.log(this.props.history) this.props.history.push(&apos;/&apos;) } render () { return ( &lt;div className=&quot;nav&quot;&gt; &lt;span className=&quot;logo&quot; onClick={this._handleClick}&gt;&#x5927;&#x592A;&#x9633;LOGO&lt;/span&gt; &lt;NavLink to=&quot;/&quot; exact&gt;&#x9996;&#x9875;&lt;/NavLink&gt; &lt;NavLink to=&quot;/activities&quot;&gt;&#x52A8;&#x6001;&lt;/NavLink&gt; &lt;NavLink to=&quot;/topics&quot;&gt;&#x8BDD;&#x9898;&lt;/NavLink&gt; &lt;NavLink to=&quot;/login&quot;&gt;&#x767B;&#x9646;&lt;/NavLink&gt; &lt;/div&gt; ) }}export default Nav; &#x6CE8;&#x610F;&#xFF1A; 1) Link &#x6E32;&#x67D3;&#x7684;&#x662F;a&#x6807;&#x7B7E;&#xFF0C;&#x5B83;&#x5E76;&#x4E0D;&#x80FD;&#x6539;&#x53D8;&#x6E32;&#x67D3;&#x7684;&#x662F;&#x54EA;&#x4E2A;&#x5143;&#x7D20;&#xFF0C;&#x8981;&#x60F3;&#x6539;&#x53D8;&#x53EA;&#x80FD;&#x62DB;&#x522B;&#x7684;&#x65B9;&#x6CD5; 2) Link &#x5BF9;&#x4E8E;&#x5F53;&#x524D;&#x9009;&#x4E2D;&#x7684;a&#x6807;&#x7B7E;&#x5E76;&#x6CA1;&#x6709;&#x7279;&#x6B8A;&#x7684;class &#x6216;&#x662F;&#x5176;&#x4ED6;&#xFF0C;&#x4F46; NavLink &#x6709; 3) NavLink &#x9664;&#x4E86;&#x5BF9;&#x5F53;&#x524D;&#x9009;&#x4E2D;&#x7684;a&#x6807;&#x7B7E;&#x6DFB;&#x52A0;&#x4E86; class &#xFF1A;active&#xFF0C;&#x4F46;&#x5176;&#x4E5F;&#x662F;&#x5305;&#x542B;&#x7684;&#x5173;&#x7CFB;&#xFF0C;&#x6240;&#x4EE5;&#x4F7F;&#x7528;&#x5B8C;&#x5168;&#x5339;&#x914D;&#xFF0C;&#x52A0;&#x4E0A;exact&#x8FD9;&#x4E2A;&#x5C5E;&#x6027; 4) &#x901A;&#x8FC7;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#x8DF3;&#x8F6C;&#x7684;&#x8BDD;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; this.props.history.push(&apos;/&apos;)` &#x200B; 4 &#x4E8C;&#x7EA7;&#x8DEF;&#x7531;&#x628A;&#x4E8C;&#x7EA7;&#x8DEF;&#x7531;&#x4E5F;&#x62BD;&#x79BB;&#x6210;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;,activitiesnav.js 123456789101112131415161718import React, { Component } from &apos;react&apos;;import {NavLink} from &apos;react-router-dom&apos;class Activitiesnav extends Component { render () { return ( &lt;div&gt; &lt;NavLink to=&quot;/activities/recommended&quot; exact&gt;&#x63A8;&#x8350;&lt;/NavLink&gt; &lt;NavLink to=&quot;/activities/all&quot;&gt;&#x7EFC;&#x5408;&lt;/NavLink&gt; &lt;NavLink to=&quot;/activities/articles&quot;&gt;&#x6587;&#x7AE0;&lt;/NavLink&gt; &lt;NavLink to=&quot;/activities/pins&quot;&gt;&#x6CB8;&#x70B9;&lt;/NavLink&gt; &lt;/div&gt; ) }}export default Activitiesnav; activities.js: 123456789101112131415render () { return ( &lt;div&gt; &#x52A8;&#x6001; &lt;Activitiesnav&gt;&lt;/Activitiesnav&gt; &lt;Switch&gt; &lt;Route path=&quot;/activities/recommended&quot; exact component={ Recommended }&gt;&lt;/Route&gt; &lt;Route path=&quot;/activities/all&quot; component={ All }&gt;&lt;/Route&gt; &lt;Route path=&quot;/activities/articles&quot; component={ Articles }&gt;&lt;/Route&gt; &lt;Route path=&quot;/activities/pins&quot; component={ Pins }&gt;&lt;/Route&gt; &lt;Redirect to=&quot;/activities/recommended&quot;&gt;&lt;/Redirect&gt; &lt;/Switch&gt; &lt;/div&gt; ) } &#x6CE8;&#x610F;&#xFF1A;&#x5C3D;&#x91CF;&#x4E00;&#x4E2A;&#x5BFC;&#x822A;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; &#x200B; 5 &#x52A8;&#x6001;&#x8DEF;&#x7531;&#x4E0D;&#x901A;&#x8FC7;Link&#x8FD9;&#x4E9B;&#x533A;&#x8DF3;&#x8F6C;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5728;&#x9875;&#x9762;&#x7EA7;&#x7EC4;&#x4EF6;&#x4E2D;&#x533A;&#x8DF3;&#x8F6C;&#xFF0C;&#x5728;Route&#x7EC4;&#x4EF6;&#x91CC;&#xFF08;&#x901A;&#x8FC7;Route&#x6E32;&#x67D3;&#x51FA;&#x6765;&#x7684;&#x7EC4;&#x4EF6;&#xFF09;&#x6709;&#x4E09;&#x4E2A;&#x65B9;&#x6CD5;&#xFF1A;props &#x3001;history&#x3001;match&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; this.props.history.push() &#x6765;&#x5B9E;&#x73B0;&#x8DF3;&#x8F6C; &#x200B; 6 withRouter&#x89E3;&#x51B3;Link&#x3001;NavLink&#x53EA;&#x80FD;&#x6E32;&#x67D3;a&#x6807;&#x7B7E;&#x7684;&#x95EE;&#x9898;&#xFF1A; &#x4E00;&#xFF1A;&#x5F53;&#x6211;&#x4EEC;&#x4E0D;&#x6E32;&#x67D3;&#x6210;a&#x6807;&#x7B7E;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6B64;&#x65F6;&#x4E0D;&#x80FD;&#x4F7F;&#x7528;Link&#x3001;NavLink&#xFF0C;&#x8DF3;&#x8F6C;&#x7684;&#x529F;&#x80FD;&#x6211;&#x4EEC;&#x53EA;&#x80FD;&#x901A;&#x8FC7;click&#x4E8B;&#x4EF6;&#x6765;&#x5904;&#x7406;&#xFF0C;&#x800C;&#x6B64;&#x65F6; nav.js&#x4E0D;&#x662F;&#x9875;&#x9762;&#x7EA7;&#x7EC4;&#x4EF6;&#xFF0C;&#x4E0D;&#x80FD;&#x8BBF;&#x95EE;history&#xFF0C;&#x4F46;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;index.js&#x4E2D;&#xFF0C;&#x7528;Route&#x5C06;&#x8FD9;&#x4E2A;Nav&#x5305;&#x88F9;&#x8D77;&#x6765;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x9AD8;&#x9636;&#x7EC4;&#x4EF6;&#xFF08;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x53EF;&#x4EE5;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#xFF09;&#xFF0C;&#x4F46;route&#x662F;&#x9875;&#x9762;&#x7EA7;&#x7EC4;&#x4EF6;&#x7528;&#x7684;&#xFF0C;&#x5E76;&#x4E0D;&#x662F;&#x8BF4;&#x5FC5;&#x987B;&#x8FD9;&#x6837;&#xFF0C;&#x53EA;&#x662F;&#x8BF4;&#x5C3D;&#x91CF;&#x9875;&#x9762;&#x7EA7;&#x7EC4;&#x4EF6;&#x548C;&#x5BFC;&#x822A;&#x8FD9;&#x4E9B;&#x5206;&#x5F00;&#xFF0C;&#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x7528; withRouter&#x9694;&#x4E00;&#x5C42;&#xFF0C;nav.js&#xFF1A; 123456789101112131415161718192021222324252627import React, { Component } from &apos;react&apos;;import {NavLink, withRouter} from &apos;react-router-dom&apos;import &apos;./nav.style.css&apos;//withRouter &#x8FC7;&#x7A0B;// const withRouter = (Component) =&gt; () =&gt; &lt;Route component={Component}&gt;&lt;/Route&gt;class Nav extends Component { _handleClick = () =&gt; { console.log(this.props.history) this.props.history.push(&apos;/&apos;) } render () { return ( &lt;div className=&quot;nav&quot;&gt; &lt;span className=&quot;logo&quot; onClick={this._handleClick}&gt;&#x5927;&#x592A;&#x9633;LOGO&lt;/span&gt; &lt;NavLink to=&quot;/&quot; exact&gt;&#x9996;&#x9875;&lt;/NavLink&gt; &lt;NavLink to=&quot;/activities&quot;&gt;&#x52A8;&#x6001;&lt;/NavLink&gt; &lt;NavLink to=&quot;/topics&quot;&gt;&#x8BDD;&#x9898;&lt;/NavLink&gt; &lt;NavLink to=&quot;/login&quot;&gt;&#x767B;&#x9646;&lt;/NavLink&gt; &lt;/div&gt; ) }}export default withRouter(Nav); &#x4E8C;&#xFF1A;&#x5199;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#xFF0C;&#x5B9E;&#x73B0;&#x7528;span&#x6807;&#x7B7E;&#x6765;&#x6E32;&#x67D3; menuLink.js: 123456789101112131415161718192021import React from &apos;react&apos;import {Route} from &apos;react-router-dom&apos;//component &#x53EA;&#x53BB;&#x6E32;&#x67D3;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#xFF0C;&#x4E14;&#x8DEF;&#x5F84;&#x8981;&#x5339;&#x914D;//render &#x4E0E;&#x5F53;&#x524D;&#x8DEF;&#x5F84;&#x5339;&#x914D;&#x624D;&#x6E32;&#x67D3;&#xFF0C;&#x4E0D;&#x5339;&#x914D;&#x5219;&#x4E0D;&#x6E32;&#x67D3;//children &#x4E0E;&#x5F53;&#x524D;&#x8DEF;&#x5F84;&#x5339;&#x914D;&#x624D;&#x4F1A;&#x6709;matchconst MenuLink = ({to, ...props}) =&gt; { return ( &lt;Route path={to} {...props} children={(p) =&gt; { return ( &lt;span onClick={() =&gt; { p.history.push(to) }} className={p.match ? &apos;active&apos;: &apos;&apos;}&gt; {props.children} &lt;/span&gt; ) }}&gt;&lt;/Route&gt; )}export default MenuLink nav.js&#x4E2D;&#x8FD9;&#x6837;&#xFF1A; 123456789101112131415161718192021222324252627import React, { Component } from &apos;react&apos;;import {NavLink, withRouter} from &apos;react-router-dom&apos;import MenuLink from &apos;../Menuink&apos;import &apos;./nav.style.css&apos;// const withRouter = (Component) =&gt; () =&gt; &lt;Route component={Component}&gt;&lt;/Route&gt;class Nav extends Component { _handleClick = () =&gt; { console.log(this.props.history) this.props.history.push(&apos;/&apos;) } render () { return ( &lt;div className=&quot;nav&quot;&gt; &lt;span className=&quot;logo&quot; onClick={this._handleClick}&gt;&#x5927;&#x592A;&#x9633;LOGO&lt;/span&gt; &lt;MenuLink to=&quot;/&quot; exact&gt;&#x9996;&#x9875;&lt;/MenuLink&gt; &lt;MenuLink to=&quot;/activities&quot;&gt;&#x52A8;&#x6001;&lt;/MenuLink&gt; &lt;MenuLink to=&quot;/topics&quot;&gt;&#x8BDD;&#x9898;&lt;/MenuLink&gt; &lt;MenuLink to=&quot;/login&quot;&gt;&#x767B;&#x9646;&lt;/MenuLink&gt; &lt;/div&gt; ) }}export default withRouter(Nav); &#x200B; &#x200B; 7 &#x8DEF;&#x7531;&#x6743;&#x9650;&#x63A7;&#x5236;&#x5728;js&#x4E2D;&#x5224;&#x65AD;&#x53BB;&#x54EA;&#xFF0C;&#x6761;&#x4EF6;&#x662F;&#x5426;&#x6EE1;&#x8DB3;&#xFF0C;&#x6761;&#x4EF6;&#x6EE1;&#x8DB3;&#x4E4B;&#x540E;&#x53BB;&#x54EA;&#xFF0C;&#x6CA1;&#x6EE1;&#x8DB3;&#x53BB;&#x54EA;&#xFF0C;&#x6839;&#x636E;history match history&#x4EE5;&#x53CA;&#x5176;&#x4ED6;&#x65B9;&#x5F0F;&#x6765;&#x8FDB;&#x884C;&#x6743;&#x9650;&#x63A7;&#x5236; &#x5F53;&#x5728;&#x8FDB;&#x5165;&#x67D0;&#x4E2A;&#x8DEF;&#x7531;&#x65F6;&#x5224;&#x65AD;&#x53BB;&#x54EA;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x628A;&#x8FD9;&#x90E8;&#x5206;&#x7684;&#x903B;&#x8F91;&#x62BD;&#x79BB;&#x51FA;&#x6765;&#xFF0C;PrivateRoute.js 1234567891011121314151617181920212223import React from &apos;react&apos;import {Route, Redirect} from &apos;react-router-dom&apos;const PrivateRoute = ({component: Component, ...props}) =&gt; { return ( &lt;Route {...props} render={(props) =&gt; { const isLogin = document.cookie.includes(&apos;login=true&apos;) if(isLogin) { return &lt;Component&gt;&lt;/Component&gt; }else { alert(&apos;&#x8FD8;&#x6CA1;&#x6709;&#x767B;&#x9646;&#xFF0C;&#x8BF7;&#x5148;&#x767B;&#x9646;&apos;) return &lt;Redirect to={{ pathname: &apos;/login&apos;, state: { from: props.location.pathname } }}&gt;&lt;/Redirect&gt; } }}&gt;&lt;/Route&gt; )}export default PrivateRoute &#x200B; 8 customLink&#x5F53;&#x79BB;&#x5F00;&#x67D0;&#x4E2A;&#x9875;&#x9762;&#x65F6;&#x9700;&#x8981;&#x63D0;&#x793A;&#x65F6;&#x91C7;&#x7528;&#xFF0C;Prompt&#xFF0C;&#x5982;&#x52A8;&#x6001;&#x9875;&#x9762;activities.js&#xFF1A; 1234567891011121314151617181920212223242526272829303132333435363738import React, { Component } from &apos;react&apos;;import { Route, Switch, Redirect, Prompt } from &apos;react-router-dom&apos;import Activitiesnav from &apos;../../allComp/activitiesnav/activitiesnav&apos;import Recommended from &apos;./recommended/Recommended&apos;;import All from &apos;./all/All&apos;;import Articles from &apos;./articles/Articles&apos;;import Pins from &apos;./pins/Pins&apos;;class Activities extends Component { render () { return ( &lt;&gt; &lt;Prompt message={(location) =&gt; { const toPath = location.pathname.includes(&apos;/activities&apos;) if(toPath){ return true } return window.confirm(&apos;&#x4F60;&#x786E;&#x5B9A;&#x8981;&#x79BB;&#x5F00;&#x5417;&apos;) }}/&gt; &lt;div&gt; &#x52A8;&#x6001; &lt;Activitiesnav&gt;&lt;/Activitiesnav&gt; &lt;Switch&gt; &lt;Route path=&quot;/activities/recommended&quot; exact component={ Recommended }&gt;&lt;/Route&gt; &lt;Route path=&quot;/activities/all&quot; component={ All }&gt;&lt;/Route&gt; &lt;Route path=&quot;/activities/articles&quot; component={ Articles }&gt;&lt;/Route&gt; &lt;Route path=&quot;/activities/pins&quot; component={ Pins }&gt;&lt;/Route&gt; &lt;Redirect to=&quot;/activities/recommended&quot;&gt;&lt;/Redirect&gt; &lt;/Switch&gt; &lt;/div&gt; &lt;/&gt; ) }}export default Activities; &#x6CE8;&#x610F;&#xFF1A;message&#x4E3A;true&#xFF0C;&#x4E0D;&#x4F1A;&#x963B;&#x62E6;&#xFF0C;&#x4E3A;false&#xFF0C;&#x54EA;&#x90FD;&#x53BB;&#x4E0D;&#x4E86; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"react","slug":"react","permalink":"https://orange-way.github.io/tags/react/"}]},{"title":"react 中使用axios","date":"2019-02-20T05:31:34.000Z","path":"/posts/cab0df60/","text":"&#x8FD9;&#x91CC;&#x603B;&#x7ED3; react &#x4E2D; axios &#x8BF7;&#x6C42;&#x6570;&#x636E;&#x3001;&#x62E6;&#x622A;&#x5668; 1 &#x9996;&#x5148;&#x5B89;&#x88C5;axiosnpm install axios &#x2013;save &#x200B; 2 &#x5F15;&#x5165;axios1import axios from &apos;axios&apos;; &#x200B; 3 &#x901A;&#x8FC7; axios &#x83B7;&#x53D6;&#x6570;&#x636E;todoList.js 12345678910111213141516class TodoList extends Component { componentDidMount () { axios.get(&apos;/list.json&apos;).then(res =&gt; { this.props.getInitList(res); }) } render () { const { inpVal, list } = this.props; return ( &lt;div&gt; todoList &lt;/div&gt; ) }} &#x200B; 4 &#x62E6;&#x622A;&#x5668;&#x62E6;&#x622A;&#x5668;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x7BB1;&#x5B50;&#xFF0C;&#x628A; axios &#x8FD4;&#x56DE;&#x56DE;&#x6765;&#x7684;&#x4E1C;&#x897F;&#x653E;&#x8FDB;&#x53BB;&#xFF0C;&#x7136;&#x540E;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7ECF;&#x8FC7;&#x5904;&#x7406;&#x7684;&#x4E1C;&#x897F; todoList.js &#xFF1A; 1234567891011121314151617181920212223242526272829import React, { Component } from &apos;react&apos;;import { connect } from &apos;react-redux&apos;;import * as actions from &apos;../store/actions/todoList&apos;;import axios from &apos;axios&apos;;// &#x5904;&#x7406;&#x8FD4;&#x56DE;&#x7684;&#x4E1C;&#x897F;axios.interceptors.response.use(res =&gt; { if(res.data.code === 0) { return res.data.data; } return Promise.reject(&apos;&#x8BF7;&#x6C42;&#x51FA;&#x9519;&apos;);})class TodoList extends Component { componentDidMount () { axios.get(&apos;/list.json&apos;).then(res =&gt; { this.props.getInitList(res); }) } render () { const { inpVal, list } = this.props; return ( &lt;div&gt; todoList &lt;/div&gt; ) }} &#x5F53;&#x6BCF;&#x6B21;&#x8BF7;&#x6C42;&#x90FD;&#x4F1A;&#x8BBE;&#x7F6E;token&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x7EDF;&#x4E00;&#x8BBE;&#x7F6E;token&#xFF1A; 1234axios.interceptors.request.use(config =&gt; { config.headers.token = &apos;slkjkdflksdflksdjflksdhfl&apos;; return config;}) document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"react","slug":"react","permalink":"https://orange-way.github.io/tags/react/"}]},{"title":"react 生命周期","date":"2019-02-19T08:12:03.000Z","path":"/posts/2d6a78f7/","text":"&#x751F;&#x547D;&#x5468;&#x671F;&#x5C31;&#x662F;&#x4ECE;&#x51FA;&#x751F;&#x5230;&#x6B7B;&#x4EA1;&#x7684;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#xFF0C;&#x751F;&#x547D;&#x5468;&#x671F;&#x51FD;&#x6570;&#x5C31;&#x662F;&#x5230;&#x54EA;&#x4E2A;&#x65F6;&#x95F4;&#x5C31;&#x4F1A;&#x6267;&#x884C;&#x54EA;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x4E3B;&#x8981;&#x770B;&#x56FE;&#x5C31;&#x597D;&#x4E86;&#xFF0C;&#x7F51;&#x4E0A;&#x6709;&#x5F88;&#x591A;&#x8FD9;&#x79CD;&#x56FE; &#x5728; react 16.3 &#x7684;&#x58F0;&#x660E;&#x5468;&#x671F;&#x5982;&#x4E0B;&#xFF1A; &#x200B; &#x5728; react 16.3 &#x7248;&#x672C;&#x4EE5;&#x540E;&#x79FB;&#x9664;&#x4E86;&#x4E09;&#x4E2A; componentWillMount componentWillReceiveProps componentWillUpdate&#x8FD9;&#x4E09;&#x4E2A;&#xFF0C;&#x589E;&#x52A0;&#x4E86; getDerivedStateFromProps getSnapShotBeforeUpdate &#x8FD9;&#x4E24;&#x4E2A; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"react","slug":"react","permalink":"https://orange-way.github.io/tags/react/"}]},{"title":"react 之 TodoList","date":"2019-02-14T08:46:57.000Z","path":"/posts/5921316d/","text":"&#x8FD9;&#x6B21;&#x662F;&#x7528;TodoList&#x6765;&#x603B;&#x7ED3;&#x4E00;&#x4E9B;react&#x4E2D;&#x7684;&#x70B9;&#xFF0C;&#x5982;vue&#x4E2D;&#x7684;v-model&#x5728;react&#x4E2D;&#x8981;&#x600E;&#x4E48;&#x505A;&#xFF0C;&#x7EC4;&#x4EF6;&#x4E4B;&#x95F4;&#x600E;&#x4E48;&#x4F20;&#x503C;&#xFF0C;&#x5C5E;&#x6027;&#x6821;&#x9A8C;&#x7B49; TodoList&#x5C0F;&#x7EC3;&#x4E60;&#x7684;&#x9875;&#x9762;&#x5982;&#x4E0B;&#xFF1A; &#x200B; state &#x3001;setState&#x9996;&#x5148;&#xFF0C;react&#x4E2D;&#x6CA1;&#x6709;v-model&#xFF0C;&#x6240;&#x4EE5;input&#x4E2D;&#x7684;&#x6570;&#x636E;&#x53CC;&#x5411;&#x7ED1;&#x5B9A;&#x9700;&#x8981; state&#xFF0C;onChange&#xFF0C;setState&#x6765;&#x914D;&#x5408; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354import React from &apos;react&apos;;class TodoList extends React.Component { // &#x72B6;&#x6001; state = { inpVal: &apos;&apos;, list: [&apos;&#x84DD;&#x5929;&apos;, &apos;&#x767D;&#x4E91;&apos;, &apos;&#x9752;&#x5C71;&apos;], count: 0 } handleChange = e =&gt; { this.setState({ inpVal: e.target.value }) } handleClick = () =&gt; { this.setState({ list: [...this.state.list, this.state.inpVal], inpVal: &apos;&apos; }) } handleDelete = index =&gt; { const list = this.state.list; list.splice(index, 1); this.setState({ list }) } render() { return ( &lt;&gt; &lt;div&gt; &lt;input type=&quot;text&quot; value={ this.state.inpVal } onChange={ this.handleChange } /&gt; &lt;button onClick={ this.handleClick }&gt;&#x6DFB;&#x52A0;&lt;/button&gt; &lt;/div&gt; &lt;ul&gt; { this.state.list.map( (item, index) =&gt; ( &lt;li key={ item }&gt; { item } &lt;button onClick={ () =&gt; { this.handleDelete(index) } }&gt;X&lt;/button&gt; &lt;/li&gt; )) } &lt;/ul&gt; &lt;/&gt; ) }}export default TodoList; &#x6CE8;&#x610F;&#xFF1A; &#x200B; 1 &#x5728;&#x7ED1;&#x5B9A;&#x4E8B;&#x4EF6;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8981;&#x6CE8;&#x610F;this&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x53EF;&#x4EE5;&#x5199;onChange={ this.handleChange } &#x6210; &#x6216;&#x8005; &#x7528;&#x6587;&#x4E2D;&#x7684;&#x8FD9;&#x79CD;&#x7BAD;&#x5934;&#x51FD;&#x6570;&#x7684;&#x65B9;&#x5F0F; &#x200B; 2 input&#x7ED1;&#x5B9A;&#x7684;&#x662F;state&#x4E2D;&#x7684;&#x503C;&#xFF0C;&#x6240;&#x4EE5;&#x521A;&#x5F00;&#x59CB;&#x6CA1;&#x7ED1;&#x5B9A;onChange&#x4E8B;&#x4EF6;&#x65F6;&#x4F1A;&#x53D1;&#x73B0;&#x65E0;&#x6CD5;&#x8F93;&#x5165;&#xFF0C;&#x56E0;&#x4E3A;state&#x4E0D;&#x80FD;&#x76F4;&#x63A5;&#x6539;&#x53D8;&#xFF0C;&#x9700;&#x8981;&#x901A;&#x8FC7;setState&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x6539;&#x53D8;state&#x4E2D;&#x7684;&#x503C;&#xFF0C;&#x6DFB;&#x52A0;&#x6309;&#x94AE;&#x4E5F;&#x662F;&#x540C;&#x6837;&#x7684;&#x9053;&#x7406;&#xFF0C;list&#x9700;&#x8981;&#x901A;&#x8FC7;setState&#x6765;&#x6539;&#x53D8; &#x200B; 3 &#x5F53;&#x9700;&#x8981;&#x4F20;&#x53C2;&#x65F6;&#xFF0C;&#x4F7F;&#x7528; onClick={ () =&gt; { this.handleDelete(index) } }, &#x800C;&#x4E0D;&#x662F; onClick={ this.handleDelete(index) }, &#x540E;&#x8005;&#x5728;&#x7ED1;&#x5B9A;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x4F1A;&#x6267;&#x884C;&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x524D;&#x8005;&#xFF0C;&#x5F53;&#x7136;&#x4E5F;&#x53EF;&#x4EE5;&#x5199;&#x6210; bind(this) &#x200B; 4 &#x5F53;&#x4F7F;&#x7528;map&#x7684;&#x65B9;&#x6CD5;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x52A0;&#x4E2A;key&#x503C;&#x6765;&#x8868;&#x660E;&#x552F;&#x4E00;&#x6027;&#xFF0C;&#x5C3D;&#x91CF;&#x4E0D;&#x8981;&#x7528;index&#xFF08;&#x56E0;&#x4E3A;&#x5F53;list&#x7684;&#x503C;&#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;&#x9875;&#x9762;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x6E32;&#x67D3;&#x7684;&#x65F6;&#x5019;&#xFF0C;react&#x662F;&#x6839;&#x636E;key&#x6765;&#x548C;&#x4E0A;&#x4E00;&#x6B21;&#x7684;&#x8FDB;&#x884C;&#x5BF9;&#x6BD4;&#x7684;&#xFF0C;&#x82E5;key&#x7684;&#x8FD9;&#x4E2A;&#x5143;&#x7D20;&#x4F9D;&#x7136;&#xFF09; &#x200B; &#x73B0;&#x5728;&#x6709;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x5982;&#x4E0B; 12345678910111213141516171819202122232425262728state = { count: 0}&lt;div&gt; &lt;span&gt;{ this.state.count }&lt;/span&gt; &lt;button onClick={ this.handleAdd }&gt;&#x6DFB;&#x52A0;&lt;/button&gt;&lt;/div&gt;handleAdd = () =&gt;{ //this.setState({ // count: 2 //}) this.setState((prevState) =&gt; { return { count: prevState.count + 1 } }) this.setState((prevState) =&gt; { return { count: prevState.count + 2 } }) this.setState((prevState) =&gt; { return { count: prevState.count + 3 } })} &#x5F53;&#x70B9;&#x51FB;&#x6DFB;&#x52A0;&#x6309;&#x94AE;&#x65F6;&#xFF0C;count &#x4F1A;&#x52A0; 6 &#x5417;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#xFF0C;&#x8FD9;&#x91CC;&#x53EA;&#x52A0;&#x4E86; 3 &#xFF0C;&#x800C;&#x8FD9;&#x51E0;&#x53E5;&#x6362;&#x4E2A;&#x4F4D;&#x7F6E;&#x4F1A;&#x53D1;&#x73B0;&#xFF0C;&#x52A0;&#x7684;&#x503C;&#x53D8;&#x4E86;&#xFF0C;&#x4F46;&#x59CB;&#x7EC8;&#x4E0D;&#x662F; &#x52A0; 6 &#xFF0C;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;setState&#x4F1A;&#x6709;&#x4E2A;&#x4E8B;&#x4EF6;&#x961F;&#x5217;&#xFF0C;&#x5F53;&#x5BF9;&#x6BD4;&#x53D1;&#x73B0;&#x6539;&#x53D8;&#x7684;&#x662F;&#x540C;&#x4E00;&#x4E2A;state&#x5C5E;&#x6027;&#x65F6;&#xFF0C;&#x4F1A;&#x8FDB;&#x884C;&#x540E;&#x9762;&#x7684;&#x8986;&#x76D6;&#x524D;&#x9762;&#x7684; &#x200B; &#x53D7;&#x63A7;&#x7EC4;&#x4EF6;&#x3001;&#x975E;&#x53D7;&#x63A7;&#x7EC4;&#x4EF6;&#x200B; &#x53D7;&#x63A7;&#x7EC4;&#x4EF6;&#x548C;&#x975E;&#x53D7;&#x63A7;&#x7EC4;&#x4EF6;&#x7684;&#x533A;&#x522B;&#x5C31;&#x662F;&#xFF1A;&#x662F;&#x5426;&#x53D7;&#x72B6;&#x6001;&#x5F71;&#x54CD; &#x200B; &#x53D7;&#x63A7;&#x7EC4;&#x4EF6;&#x5C31;&#x662F;&#x4E0A;&#x9762;&#x5199;&#x7684;&#x90A3;&#x79CD;, input&#x6846;&#x7684;&#x503C;&#x53D7;state&#x4E2D;&#x7684;&#x5F71;&#x54CD;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x662F;&#x53D7;&#x63A7;&#x7EC4;&#x4EF6;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; 1&lt;input type=&quot;text&quot; value={ this.state.inpVal } onChange={ this.handleChange } /&gt; &#x200B; &#x975E;&#x53D7;&#x63A7;&#x7EC4;&#x4EF6;&#x5C31;&#x662F;&#x7ED9;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x8D77;&#x4E86;&#x4E2A;&#x540D;&#x5B57;&#xFF0C;&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x540D;&#x5B57;&#x627E;&#x5230;&#x8FD9;&#x4E2A;&#x7EC4;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x53BB;&#x83B7;&#x53D6;&#x4E00;&#x4E9B;&#x4FE1;&#x606F;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; 12345678910// &#x65B9;&#x5F0F;&#x4E00;&#xFF1A;// &#x8FD9;&#x6837;&#x5C31;&#x76F8;&#x5F53;&#x4E8E; this.inp = &lt;input type=&quot;text&quot; /&gt;&#xFF0C;this.inp.value &#x5C31;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x5230;&#x8FD9;&#x4E2A;input&#x7684;&#x503C;&#x4E86;&lt;input type=&quot;text&quot; ref={ (dom) =&gt; {this.inp = dom} } /&gt;// &#x65B9;&#x5F0F;&#x4E8C;&#xFF1A;// this.inp.current.value &#x5C31;&#x53EF;&#x4EE5;&#x83B7;&#x5F97;&#x8FD9;&#x4E2A;input&#x7684;&#x503C;&#x4E86;inp = React.createRef() // 16.3&#x4EE5;&#x540E;&lt;input type=&quot;text&quot; ref={ this.inp } } /&gt;// &#x8FD9;&#x6837;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x53D7;&#x63A7;&#x7EC4;&#x4EF6;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x5728;input&#x6709;&#x6240;&#x6539;&#x53D8;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x4F1A;&#x89E6;&#x53D1;setState&#xFF0C;&#x800C;&#x975E;&#x53D7;&#x63A7;&#x7EC4;&#x4EF6;&#x5E76;&#x4E0D;&#x4F1A; &#x200B; &#x5C5E;&#x6027;&#x6821;&#x9A8C;&#x5F53;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x4F20;&#x503C;&#x7ED9;&#x53E6;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x4EE5;&#x4E0B;&#x51E0;&#x6B65;&#xFF1A; &#x7236;&#x7EC4;&#x4EF6;&#xFF1A; 1234567891011121314const person = { name: &apos;&#x5C0F;&#x5B89;&apos;, age: 18, sex: &apos;&#x5973;&apos;, figure: { weight: 95, height: 168 }, hobby: [&apos;&#x770B;&#x7535;&#x5F71;&apos;, &apos;&#x770B;&#x4E66;&apos;], salary: 100}render(&lt;Person {...person}&gt;&lt;/Person&gt;, document.getElementById(&apos;root&apos;))// &#x8FD9;&#x91CC;&#x4E5F;&#x53EF;&#x4EE5;&#x628A; {...person} &#x5199;&#x6210; person&#xFF0C;&#x4E0D;&#x8FC7;&#x540E;&#x8005;&#x8BD5;&#x5957;&#x4E86;&#x4E00;&#x5C42; &#x5B50;&#x7EC4;&#x4EF6;&#xFF1A; 123456const { name, age, sex, figure, hobby, salary } = this.props &lt;div&gt;{name} &#x4E2A;&#x4EBA;&#x8D44;&#x6599;&lt;/div&gt; &lt;div&gt;&#x5E74;&#x9F84;&#xFF1A;{ age }&lt;/div&gt; &lt;div&gt;&#x6027;&#x522B;&#xFF1A;{ sex }&lt;/div&gt; ... &#x5F53;&#x7136;&#x4E5F;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x5C5E;&#x6027;&#xFF0C;&#x6BD4;&#x5982;name&#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#xFF0C;&#x7236;&#x7EC4;&#x4EF6;&#x6709;&#x4F20; name&#xFF0C;&#x90A3;&#x5C31;&#x7528;&#x7236;&#x7EC4;&#x4EF6;&#x4F20;&#x8FC7;&#x6765;&#x7684;&#xFF0C;&#x6CA1;&#x6709;&#x90A3;&#x5C31;&#x7528;&#x81EA;&#x5DF1;&#x7684;&#xFF0C;&#x5982;&#x4E0B;&#xFF08;&#x5B50;&#x7EC4;&#x4EF6;&#x4E2D;&#xFF09;&#xFF1A; 123static defaultProps = { name: &apos;duyi&apos;} &#x5B50;&#x7EC4;&#x4EF6;&#x901A;&#x8FC7; this.props &#x83B7;&#x53D6;&#x7236;&#x7EC4;&#x4EF6;&#x4F20;&#x8FC7;&#x6765;&#x7684;&#x503C;(props&#x4E2D;&#x7684;&#x503C;&#x662F;&#x53EA;&#x8BFB;&#x7684;)&#xFF0C;&#x4F46;&#x5F53;&#x7EC4;&#x4EF6;&#x9700;&#x8981;number&#x800C;&#x7236;&#x7EC4;&#x4EF6;&#x4F20;&#x7684;&#x662F;string &#x65F6;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x5C5E;&#x6027;&#x6821;&#x9A8C;&#x4E86;&#xFF0C;&#x5C5E;&#x6027;&#x6821;&#x9A8C;&#x9700;&#x8981;&#x4EE5;&#x4E0B;&#x51E0;&#x6B65;&#xFF1A; 1 &#x5B89;&#x88C5; prop-types &#xFF1A;npm install prop-type --save 2 &#x5728;&#x5B50;&#x7EC4;&#x4EF6;&#x5F15;&#x5165;&#x5B83;&#xFF1A; 1import PropTypes from &apos;prop-types&apos;; 3 &#x5B9A;&#x4E49;&#x6240;&#x9700;&#x8981;&#x7684;&#x5C5E;&#x6027;&#x5404;&#x662F;&#x4EC0;&#x4E48;&#x7C7B;&#x578B;&#xFF1A; 123456789101112131415// &#x8FD9;&#x4E9B;&#x5728;github&#x5B98;&#x7F51;&#x4E0A;&#x90FD;&#x6709; static propTypes = { name: PropTypes.string, age: PropTypes.number, sex: PropTypes.oneOf([&apos;&#x7537;&apos;, &apos;&#x5973;&apos;]), figure: PropTypes.objectOf(PropTypes.number), hobby: PropTypes.arrayOf(PropTypes.string), salary (props, propsName, componentName) { if(props[propsName] &lt; 10000) { return new Error( `${componentName}&#x7EC4;&#x4EF6;&#x4F20;&#x9012;&#x8FC7;&#x6765;&#x7684;${propsName}&#x5C5E;&#x6027;&#x7684;&#x503C;&#x592A;&#x5C0F;&#x5566;&#xFF0C;&#x5E94;&#x8BE5;&#x5927;&#x4E8E;1&#x4E07;` ); } } } &#x8FD9;&#x6837;&#x5C5E;&#x6027;&#x6821;&#x9A8C;&#x5C31;&#x597D;&#x4E86; &#x7EC4;&#x4EF6;&#x4EA4;&#x4E92;&#x8FD8;&#x662F;&#x4EE5; &#x8FD9;&#x4E2A;TodoList&#x4E3A;&#x4F8B;&#xFF0C;&#x628A;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x5206;&#x6210;&#x4E86;&#x4E0B;&#x9762;&#x8FD9;&#x6837;&#x7684;&#x51E0;&#x4E2A;&#x7EC4;&#x4EF6;&#xFF1A; &#x200B; &#x200B; &#x7236;&#x5B50;&#x7EC4;&#x4EF6;&#x4E4B;&#x95F4;&#x7684;&#x4F20;&#x503C;&#x5982;&#x524D;&#x9762;&#x90A3;&#x6837;&#xFF0C;&#x4F46;&#x5982;&#x679C;&#x8DF3;&#x7EA7;&#x4F20;&#x503C;&#x7684;&#x8BDD;&#xFF0C;&#x4E00;&#x5C42;&#x4E00;&#x5C42;&#x4F20;&#x4E0B;&#x53BB;&#x6BD4;&#x8F83;&#x9EBB;&#x70E6;&#xFF0C;&#x6240;&#x4EE5;react&#x4E2D;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;content&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x6765;&#x4F20;&#xFF08;content &#x662F; 16&#x7248;&#x672C;&#x4E4B;&#x540E;&#x51FA;&#x73B0;&#x7684; &#xFF09;&#xFF0C;&#x6D41;&#x7A0B;&#x662F;&#x4E0B;&#x9762;&#x8FD9;&#x6837;: &#x800C;&#x4F7F;&#x7528;&#x6B65;&#x9AA4;&#x662F;&#xFF0C;&#x628A;&#x7956;&#x7236;&#x7EC4;&#x4EF6;&#x7528;Provider &#x5305;&#x88F9;&#x8D77;&#x6765;&#xFF0C;&#x628A;&#x5B59;&#x5B50;&#x7EC4;&#x4EF6;Consumer &#x5305;&#x88F9;&#x8D77;&#x6765;&#xFF0C;&#x5177;&#x4F53;&#x6B65;&#x9AA4;&#x5982;&#x4E0B;&#xFF1A; 1 content &#x662F;react&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x5148;&#x5F15;&#x5165;, content.js&#xFF1A; 12345678import React from &apos;react&apos;let {Provider, Consumer} = React.createContext();export { Provider, Consumer} 2 TodoWrap.js 12345678910111213141516171819_handledelete = (index) =&gt; { const list = [...this.state.list]; list.splice(index, 1); this.setState({ list }); }; render() { return ( &lt;Provider value={{ _handledelete: this._handledelete }} &gt; //value&#x540D;&#x5B57;&#x662F;&#x56FA;&#x5B9A;&#x7684; &lt;div&gt; &lt;input type=&quot;text&quot; ref={this.task} /&gt; &lt;button onClick={this._handleClick}&gt;&#x6DFB;&#x52A0;&lt;/button&gt; &lt;/div&gt; &lt;Todolistcomp list={this.state.list} fn={this._handledelete}/&gt; &lt;/Provider&gt; ); } 3 TodoItem.js, consumer&#x4E2D;&#x9700;&#x8981;&#x5199;&#x6210;&#x8FD9;&#x79CD;&#x7BAD;&#x5934;&#x51FD;&#x6570;&#x7684;&#x5F62;&#x5F0F; 1234567891011121314151617181920212223import React, { Component } from &quot;react&quot;;import { Consumer } from &quot;./content&quot;;class Todoitemcomp extends Component { _handledelete = index =&gt; { this.props._handledelete(index); }; render() { const { task, index } = this.props; return ( &lt;Consumer&gt; {({ _handledelete}) =&gt; ( &lt;li&gt; {task} &lt;button onClick={() =&gt; _handledelete(index)}&gt;X&lt;/button&gt; &lt;/li&gt; )} &lt;/Consumer&gt; ); }}export default Todoitemcomp; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"react","slug":"react","permalink":"https://orange-way.github.io/tags/react/"}]},{"title":"react入门","date":"2019-02-01T02:45:19.000Z","path":"/posts/6e179f43/","text":"&#x200B; &#x5F00;&#x59CB;&#x5B66;&#x4E60;react&#x4E86;&#xFF0C;&#x603B;&#x542C;&#x4EBA;&#x8BF4;react&#x6BD4;vue&#x8981;&#x590D;&#x6742;&#xFF0C;&#x6240;&#x4EE5;&#x5B66;&#x7684;&#x65F6;&#x5019;&#x603B;&#x628A;&#x4E24;&#x4E2A;&#x6846;&#x67B6;&#x5B9E;&#x73B0;&#x540C;&#x4E00;&#x4E2A;&#x529F;&#x80FD;&#x7684;&#x65B9;&#x5F0F;&#x5BF9;&#x6BD4;&#xFF0C;&#x55EF;&#xFF0C;&#x786E;&#x5B9E;&#x89C9;&#x5F97;vue&#x7B80;&#x5355;&#x4E00;&#x70B9;&#x54C8;&#x54C8;&#x54C8;&#xFF01;&#x597D;&#x4E86;&#xFF0C;&#x5F00;&#x59CB;&#x8BB0;&#x5F55;react&#x7684;&#x5B66;&#x4E60;&#x603B;&#x7ED3;&#xFF0C;&#x5F88;&#x611F;&#x8C22;react &#x5C0F;&#x4E66;, &#x6211;&#x89C9;&#x5F97;&#x5199;&#x7684;&#x5F88;&#x597D; &#x200B; &#x5B89;&#x88C5;&#x3001;&#x521B;&#x5EFA;react&#x9879;&#x76EE;12345&#x9996;&#x5148;&#x786E;&#x4FDD;&#x5B89;&#x88C5;&#x4E86;node&#x548C;npmnpm install -g create-react-app //&#x5B89;&#x88C5;create-react-app &#x547D;&#x4EE4;&#xFF0C;&#x8FD9;&#x4E2A;&#x662F;&#x7528;&#x6765;&#x521B;&#x5EFA;react&#x9879;&#x76EE;&#x7684;create-react-app react-pritice //&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;react-pritice&#x7684;react&#x9879;&#x76EE;cd react-pritice //&#x8FDB;&#x5165;&#x8FD9;&#x4E2A;&#x9879;&#x76EE;&#x91CC;npm start //&#x542F;&#x52A8;&#x9879;&#x76EE;&#xFF0C;&#x9879;&#x76EE;&#x8FD0;&#x884C;&#x8D77;&#x6765;&#x4E86; JSX&#x8BED;&#x6CD5;&#x8FD9;&#x4E2A;&#x90E8;&#x5206;&#x770B;react &#x5C0F;&#x4E66;, &#x770B;&#x5B83;&#x5C31;&#x61C2;&#x4E86;&#xFF0C;&#x5176;&#x4E2D;&#x8BF4;react&#x4E3A;&#x4E86;&#x80FD;&#x76F4;&#x63A5;&#x5728;js&#x4E2D;&#x5199;html&#xFF0C;&#x6240;&#x4EE5;&#x6269;&#x5C55;&#x4E86;js&#x7136;&#x540E;&#x6210;&#x4E86;jsx&#xFF0C; JSX &#x5176;&#x5B9E;&#x5C31;&#x662F; JavaScript &#x5BF9;&#x8C61;&#xFF0C;&#x770B;&#x5B8C;&#x8FD9;&#x90E8;&#x5206;&#x6211;&#x7684;&#x7406;&#x89E3;&#x662F;&#xFF0C;jsx&#x4EA7;&#x751F;&#x7684;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x4E0A;&#x6709;&#x4E09;&#x4E2A;&#x5C5E;&#x6027;&#xFF0C;&#x5206;&#x522B;&#x662F; tags&#x3001;attr&#x3001;children&#xFF0C;&#x7136;&#x540E;&#x901A;&#x8FC7;ReactDom.render()&#x6E32;&#x67D3;&#x51FA;dom&#xFF0C;&#x7136;&#x540E;&#x63D2;&#x5165;&#x9875;&#x9762; &#x200B; &#x51FD;&#x6570;&#x7EC4;&#x4EF6;&#x548C;&#x7C7B;&#x7EC4;&#x4EF6;&#x51FD;&#x6570;&#x7EC4;&#x4EF6;&#xFF1A;&#x5BF9;&#x6BD4;&#x7C7B;&#x7EC4;&#x4EF6;&#xFF0C;&#x63A5;&#x6536;props&#xFF0C;&#x53EA;&#x7528;&#x6765;&#x5C55;&#x793A;&#x9875;&#x9762;&#xFF0C;&#x6CA1;&#x6709;this&#xFF0C;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;&#x751F;&#x547D;&#x5468;&#x671F; &#x7C7B;&#x7EC4;&#x4EF6;&#xFF1A;this &#x3001;&#x751F;&#x547D;&#x5468;&#x671F;&#x7B49;&#x90FD;&#x662F;&#x6709;&#x7684; 12345678910111213141516171819202122232425262728import React, {Component} from &apos;react&apos;//&#x51FD;&#x6570;&#x7EC4;&#x4EF6;&#xFF1A;function FuncComp(props) { return ( &lt;div&gt; &lt;p&gt;&#x65E5;&#x671F;&#xFF1A;{props.date}&lt;/p&gt; &lt;p&gt;&#x5929;&#x6C14;&#xFF1A;{props.weather}&lt;/p&gt; &lt;/div&gt; )}//&#x7C7B;&#x7EC4;&#x4EF6;class LeiComp extends Component{ state = { date: &apos;2019-1-1&apos;, weather: &apos;&#x6674;&apos; } render () { return ( &lt;div&gt; &lt;h2&gt;&#x5177;&#x4F53;&#x7684;&#x4FE1;&#x606F;&#x5982;&#x4E0B;&#xFF1A;&lt;/h2&gt; &lt;FuncComp date={this.state.date} weather={this.state.weather}&gt;&lt;/FuncComp&gt; &lt;/div&gt; ) }}export default LeiComp &#x672C;&#x6B21;&#x603B;&#x7ED3;&#x5230;&#x8FD9;&#x91CC;&#xFF0C;&#x5176;&#x4ED6;&#x7684;&#x7528;&#x4E00;&#x4E2A;Todolist&#x7684;&#x5C0F;&#x7EC3;&#x4E60;&#x6765;&#x603B;&#x7ED3; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"react","slug":"react","permalink":"https://orange-way.github.io/tags/react/"}]},{"title":"vue 中 input 的使用","date":"2019-01-26T03:37:09.000Z","path":"/posts/270b770c/","text":"vue &#x4E2D; &#x5BF9; input &#x5305;&#x88C5;&#x4E86;&#x4E00;&#x4E9B;&#x65B9;&#x6CD5;&#xFF0C;&#x6709;&#x4E00;&#x4E9B;&#x5F88;&#x65B9;&#x4FBF;&#xFF0C;&#x5982;v-model &#x53CC;&#x5411;&#x6570;&#x636E;&#x7ED1;&#x5B9A;&#xFF0C;&#x8FD8;&#x6709; v-on:input, &#x4E5F;&#x53EF;&#x4EE5;&#x5199;&#x6210;@input &#xFF0C;&#x800C; v-model = &apos;inpVal&apos; &#x884C;&#x4E3A;&#x7C7B;&#x4F3C;&#x4E8E; @input=&apos;inpVal=$event.target.value&apos; &#x200B; input &#x57FA;&#x672C;&#x77E5;&#x8BC6;&#x5047;&#x8BBE;&#x662F;&#x505A;&#x641C;&#x7D22;&#x6548;&#x679C;&#xFF0C;&#x82E5;&#x662F;&#x68C0;&#x6D4B;&#x5230; input &#x6709;&#x8F93;&#x5165;&#x5C31;&#x641C;&#x7D22;&#xFF0C;&#x90A3;&#x53EF;&#x4EE5;&#x91C7;&#x7528;&#x4E0B;&#x9762;&#x8FD9;&#x79CD;&#xFF0C;&#x76D1;&#x542C; v-model &#x7684;&#x53D8;&#x5316;&#xFF1A; 12&lt;input type=&quot;text&quot; placeholder=&quot;&#x641C;&#x7D22;&quot; v-model=&quot;inputValue&quot; @focus=&quot;hwSearchFocus($event)&quot; @blur.prevent=&quot;hwLostFocus()&quot; @keyup.enter=&quot;searchAllClick&quot;&gt; &#x82E5;&#x662F;&#x68C0;&#x6D4B;&#x5230;&#x952E;&#x76D8;&#x6709;&#x6240;&#x53D8;&#x5316;&#x5C31;&#x641C;&#x7D22;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x91C7;&#x7528;&#x4E0B;&#x9762;&#x8FD9;&#x79CD;&#xFF1A; 1&lt;input type=&quot;text&quot; @keyup.enter=&quot;enterToSearch&quot; @blur=&quot;lostFocus&quot; @keyup=&quot;searchInput&quot; @keydown=&quot;searchClear&quot;&gt; 1 @keyup&#xFF1A;&#x76D1;&#x542C;&#x952E;&#x76D8;&#x7684;&#x52A8;&#x5411;&#xFF0C;&#x54EA;&#x6015;&#x6B64;&#x65F6;&#x6CA1;&#x6709;&#x8F93;&#x5165;&#x5230;input&#x4E2D; 2 @keyup.enter&#xFF1A;&#x56DE;&#x8F66;&#x4E8B;&#x4EF6; 3 @focus&#xFF1A;input &#x6846;&#x83B7;&#x5F97;&#x7126;&#x70B9; 4 @blur&#xFF1A;input &#x6846;&#x5931;&#x53BB;&#x7126;&#x70B9; 5 v-model&#xFF1A;input &#x6846;&#x6570;&#x636E;&#x53CC;&#x5411;&#x7ED1;&#x5B9A;&#xFF0C;&#x53EF;&#x4EE5;&#x5728; watch &#x4E2D;&#x68C0;&#x6D4B;&#x5230; input &#x7684; value &#x7684;&#x53D8;&#x5316; 6 @input&#xFF1A;&#x76D1;&#x542C; input &#x4E2D;&#x7684; value &#x7684;&#x53D8;&#x5316; &#x7EFC;&#x4E0A;&#xFF1A;&#x5982;&#x679C;&#x5728;&#x505A;&#x641C;&#x7D22;&#x6846;&#x65F6;&#xFF0C;&#x8981;&#x6C42;&#x952E;&#x76D8;&#x53EA;&#x8981;&#x6709;&#x53D8;&#x5316;&#x5C31;&#x641C;&#x7D22;&#x90A3;&#x5C31;&#x91C7;&#x7528;&#x952E;&#x76D8;&#x7684;&#x76D1;&#x542C;&#x4E8B;&#x4EF6;keyup&#xFF0C;&#x8981;&#x662F;&#x8981;&#x6C42;input&#x7684;&#x503C;&#x6709;&#x53D8;&#x5316;&#x624D;&#x641C;&#x7D22;&#xFF0C;&#x90A3;&#x5C31;&#x91C7;&#x7528;@input&#x6216;&#x662F;&#x5728;watch&#x4E2D;&#x76D1;&#x63A7;v-model &#x200B; &#x641C;&#x7D22;&#x6846;&#x73B0;&#x5728;&#x8981;&#x6C42;&#x4E00;&#x4E2A;&#x641C;&#x7D22;&#x6846;&#xFF0C;&#x5F53;&#x641C;&#x7D22;&#x6846;&#x6709;&#x7126;&#x70B9;&#x4F46;&#x6846;&#x5185;&#x6CA1;&#x6709;&#x5185;&#x5BB9;&#x65F6;&#x663E;&#x793A;&#x70ED;&#x95E8;&#x641C;&#x7D20;&#xFF0C;&#x5728;&#x641C;&#x7D22;&#x6846;&#x7684;&#x503C;&#x6709;&#x53D8;&#x5316;&#x4E14;&#x6709;&#x503C;&#x65F6;&#x53BB;&#x641C;&#x7D22;&#x6570;&#x636E;&#xFF0C;&#x641C;&#x7D22;&#x51FA;&#x7684;&#x5185;&#x5BB9;&#x663E;&#x793A;&#x5728;&#x4E0B;&#x9762;&#xFF0C;&#x5E76;&#x628A;&#x5F53;&#x524D;&#x641C;&#x7D22;&#x503C;&#x53D8;&#x5170;&#x8272; &#x8FD9;&#x91CC;&#x91C7;&#x7528;&#x5728; watch &#x4E2D;&#x76D1;&#x542C; v-model &#x7684;&#x503C;&#x5F97;&#x65B9;&#x5F0F; input&#x6846;&#xFF1A; 123456789&lt;input type=&quot;text&quot; placeholder=&quot;&#x641C;&#x7D22;&#x97F3;&#x4E50;&#x3001;&#x6B4C;&#x5355;&#x3001;&#x4E13;&#x8F91;&#x3001;&#x6B4C;&#x624B;&quot; v-model=&quot;inputValue&quot; @focus=&quot;hwSearchFocus($event)&quot;@blur.prevent=&quot;hwLostFocus()&quot; @keyup.enter=&quot;searchAllClick&quot;&gt; &lt;!-- &#x641C;&#x7D22;&#x5185;&#x5BB9;: input&#x6709;&#x503C; --&gt;&lt;div ref=&quot;hwSearShow&quot;&gt;&#x641C;&#x7D22;&#x5185;&#x5BB9;&#x663E;&#x793A;&lt;/div&gt; &lt;!-- &#x641C;&#x7D22;&#x5185;&#x5BB9;&#xFF1A;input&#x5185;&#x5BB9;&#x4E3A;&#x7A7A; --&gt;&lt;div ref=&quot;hwSearShowNull&quot;&gt;&#x70ED;&#x95E8;&#x641C;&#x7D22;&lt;/div&gt; &#x5F53;&#x83B7;&#x5F97;&#x7126;&#x70B9;&#x4F46;&#x65E0;&#x641C;&#x7D22;&#x503C;&#x65F6;&#xFF0C;&#x76D1;&#x542C; focus &#x65B9;&#x6CD5;&#xFF1A; 123456789101112131415161718192021222324252627hwSearchFocus(e) { if (this.inputValue) { } else { this.historyResult(); } console.log(&apos;focus&apos;); }, historyResult() { //&#x83B7;&#x53D6;&#x70ED;&#x95E8;&#x641C;&#x7D22; this.axios({ method: &apos;POST&apos;, url: this.$store.state.siteStr + &apos;WEB&apos; }).then(res =&gt; { if (res.data.errCode === &apos;0001&apos;) { this.hwSearchNull = res.data.data.hotSongs.splice(0, 5); for (var i = 0; i &lt; 5; i++) { this.hwSearchNull[i].searchedTimes = this.hwSearchNull[i].searchedTimes &gt; 9999 ? Math.floor(this.hwSearchNull[ i].searchedTimes / 10000 * 10) / 10 + &apos;&#x4E07;&apos; : num } } }).catch(err =&gt; { console.log(err) }) this.$refs.hwSearShowNull.style.display = &apos;inline-block&apos;; }, &#x5F53;&#x641C;&#x7D22;&#x6709;&#x7126;&#x70B9;&#xFF0C;&#x4E14;&#x6709;&#x8F93;&#x5165;&#x65F6;, &#x663E;&#x793A;&#x641C;&#x7D22;&#x5185;&#x5BB9;&#x5E76;&#x628A;&#x641C;&#x7D22;&#x8BCD;&#x53D8;&#x5170;&#x8272;&#xFF1A; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051hwSearchFocus(e) { this.inputLostFocusBool = &apos;&apos;; if (this.inputValue) { this.querySearchResult(this.inputValue); this.$refs.hwSearShow.style.display = &quot;inline-block&quot;; this.searchKNullShowBool = &apos;&apos;; this.$refs.hwSearShowNull.style.display = &apos;none&apos;; } else { this.historyResult(); } }, //&#x641C;&#x7D22;&#x7ED3;&#x679C; querySearchResult(newVal) { this.unformatSongName = []; this.axios({ method: &quot;POST&quot;, url: this.$store.state.siteStr + &quot;WEB&quot;, data: this.qs.stringify({ searchName: newVal, num: 5 }) }).then(res =&gt; { this.$refs.hwSearShow.style.display = &quot;inline-block&quot;; //*&#x641C;&#x7D22;&#x8BCD;&#x6B63;&#x5219; this.reg = eval(&quot;/(&quot; + newVal + &quot;)/gi&quot;); this.searchInfo = res.data.data; //&#x6B4C;&#x66F2; if (this.searchInfo.SongListInfo.length &gt; 0) { this.$refs.serachSongEle.style.display = &quot;block&quot;; this.hwSearchSong = this.searchInfo.SongListInfo; if (this.hwSearchSong.length === 1) { this.songN = 1; } else if (this.hwSearchSong.length &lt; 4) { this.songN = this.hwSearchSong.length; } else { this.songN = 4; } for (var i = 0; i &lt; this.songN; i++) { this.unformatSongName.push(this.hwSearchSong[i].songName); this.songNameArr = this.hwSearchSong[i].songName.split(this.reg); this.hwSearchSong[i].songNameF = this.songNameArr; } } else { this.$refs.serachSongEle.style.display = &quot;none&quot;; } }).catch(err =&gt; { console.log(err); }); }, &#x5F53;input &#x5931;&#x53BB;&#x7126;&#x70B9;&#xFF1A; 12345678// &#x641C;&#x7D22;&#x6846;&#x5931;&#x53BB;&#x7126;&#x70B9;&#x65F6;, &#x9690;&#x85CF;&#x70ED;&#x95E8;&#x641C;&#x7D22;div &#x548C; &#x641C;&#x7D20;&#x5185;&#x5BB9;div hwLostFocus(e) { if ((this.searchKShowBool === &apos;&apos;) &amp;&amp; (this.searchKNullShowBool === &apos;&apos;)) { this.$refs.hwSearShow.style.display = &quot;none&quot;; this.$refs.hwSearShowNull.style.display = &apos;none&apos;; } this.inputLostFocusBool = true; }, &#x5B9E;&#x65F6;&#x76D1;&#x542C;input&#x7684;&#x503C;&#x5F97;&#x53D8;&#x5316;&#xFF0C;&#x8FD9;&#x91CC;&#x8981;&#x6CE8;&#x610F;&#x5F53;&#x6211;&#x9010;&#x4E2A;&#x51CF;&#x5C11;input&#x7684;&#x5185;&#x5BB9;&#x65F6;&#xFF0C;&#x662F;&#x53EF;&#x4EE5;&#x8FBE;&#x5230;input&#x6709;&#x7126;&#x70B9;&#x4E14;&#x65E0;&#x641C;&#x7D22;&#x503C;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x6240;&#x4EE5;&#x4E5F;&#x8981;&#x6CE8;&#x610F;&#x8FD9;&#x70B9;&#xFF1A; 1234567891011121314watch: { inputValue(newVal, oldVal) { this.searchResultBool = &apos;&apos;; if (newVal === &quot;&quot;) { this.searchKShowBool = &apos;&apos;; this.$refs.hwSearShow.style.display = &quot;none&quot;; this.historyResult(); return; } this.querySearchResult(newVal); this.searchKNullShowBool = &apos;&apos;; this.$refs.hwSearShowNull.style.display = &apos;none&apos;; }, }, &#x200B; &#x6027;&#x522B;&#x9009;&#x62E9;&#x6709;&#x65F6;&#x4F1A;&#x7528;&#x5230;&#x7528;&#x6237;&#x6027;&#x522B;&#x9009;&#x62E9;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x8FD9;&#x91CC;&#x5B9E;&#x73B0;&#x4E0B;&#x8FD9;&#x4E2A;&#x5C0F;&#x529F;&#x80FD; &#x53EF;&#x4EE5;&#x7528; input radio &#x6765;&#x5B9E;&#x73B0;&#xFF08;&#x6216;&#x8005;&#x7528;v-for &#x548C; v-model &#x6765;&#x914D;&#x5408;&#x4F7F;&#x7528;&#xFF09;&#xFF1A; 123&lt;input type=&quot;radio&quot; name=&quot;sexSelect&quot;&gt;&#x7537;&lt;input type=&quot;radio&quot; name=&quot;sexSelect&quot;&gt;&#x5973;&lt;input type=&quot;radio&quot; name=&quot;sexSelect&quot;&gt;&#x4FDD;&#x5BC6; &#x4F46;&#x73B0;&#x5728;&#x84DD;&#x6E56;&#x4E0A;&#x5728;&#x5706;&#x70B9;&#x548C;&#x6027;&#x522B;&#x4E2D;&#x95F4;&#x6709;&#x4E00;&#x4E9B;&#x8DDD;&#x79BB;&#xFF0C;&#x7136;&#x540E;&#x6682;&#x65F6;&#x6CA1;&#x627E;&#x5230;&#x8C03;&#x8FD9;&#x4E2A;&#x8DDD;&#x79BB;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x5728;&#x8FD9;&#x91CC;&#x5957;&#x4E86;&#x4E00;&#x4E2A;span&#xFF0C;&#x4F46;&#x76EE;&#x524D;&#x4E0D;&#x77E5;&#x9053;&#x5BF9;&#x4E0D;&#x5BF9;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; 1234567891011121314151617181920212223242526272829303132 sexSelected: [{ value: &apos;&#x7537;&apos;, ischeck: false }, { value: &apos;&#x5973;&apos;, ischeck: true }, { value: &apos;&#x4FDD;&#x5BC6;&apos;, ischeck: false }],&lt;input type=&quot;radio&quot; class=&quot;perMsgChange-sexI&quot; name=&quot;sexSelect&quot; :checked=&quot;sexSelected[0].ischeck&quot; @change=&quot;sexChange(0)&quot;&gt;&lt;span class=&quot;perMsgChange-sexSelName&quot;&gt;&#x7537;&lt;/span&gt; &lt;input type=&quot;radio&quot; class=&quot;perMsgChange-sexI&quot; name=&quot;sexSelect&quot; :checked=&quot;sexSelected[1].ischeck&quot; @change=&quot;sexChange(1)&quot;&gt;&lt;span class=&quot;perMsgChange-sexSelName&quot;&gt;&#x5973;&lt;/span&gt; &lt;input type=&quot;radio&quot; class=&quot;perMsgChange-sexI&quot; name=&quot;sexSelect&quot; :checked=&quot;sexSelected[2].ischeck&quot; @change=&quot;sexChange(2)&quot;&gt;&lt;span class=&quot;perMsgChange-sexSelName&quot;&gt;&#x4FDD;&#x5BC6;&lt;/span&gt;//&#x6027;&#x522B;&#x9009;&#x62E9; sexChange(ind) { this.nowSexInd = ind; this.sexOrigin(ind) },//&#x521D;&#x59CB;&#x5316; &#x6027;&#x522B; sexOrigin(num) { for (var i = 0; i &lt; 3; i++) { this.sexSelected[i].ischeck = false; } this.sexSelected[num].ischeck = true; },//&#x83B7;&#x53D6;&#x5F53;&#x524D;&#x9009;&#x62E9;&#x7684;&#x6027;&#x522B; this.sexStr = this.sexSelected[this.nowSexInd].value; &#x4F46;&#x5957;&#x4E86;span&#x540E;&#x53D1;&#x73B0;&#xFF0C;&#x5F53;&#x9009;&#x4E2D;&#x67D0;&#x4E2A; input &#x65F6;&#x5E76;&#x4E0D;&#x80FD;&#x6839;&#x636E;ischeck&#x7684;value &#x7B49;&#x65B9;&#x5F0F;&#x83B7;&#x53D6;&#x5230;&#x503C;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#xFF0C;&#x7136;&#x540E;&#x53BB;&#x6539;&#x53D8;&#x8FD9;&#x4E2A;&#x6570;&#x7EC4;&#x4E2D;&#x7684;&#x503C; &#x200B; &#x4E0E;label&#x914D;&#x5408;&#x4E0A;&#x4F20;&#x56FE;&#x7247;&#x5BF9;&#x4E8E;&#x4E0A;&#x4F20;&#x56FE;&#x7247;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#xFF0C;&#x53EF;&#x4EE5;&#x7528; input &#x548C; label &#x914D;&#x5408; &#x8FD9;&#x91CC;&#x53EA;&#x5199;&#x90E8;&#x5206;&#x7ED3;&#x6784;&#xFF0C;&#x7ED9;label&#x8BBE;&#x7F6E;for&#x5C5E;&#x6027;&#xFF0C;&#x6307;&#x5411;input&#xFF1A; 1234//html &lt;label for=&quot;upsongImg&quot; class=&quot;perCont-myWorks-addImgL&quot;&gt;&lt;/label&gt; &lt;input id=&quot;upsongImg&quot; class=&quot;perCont-myWorks-addImgI&quot; type=&quot;file&quot; accept=&quot;image/JPG, image/png, image/JPEG&quot; ref=&quot;inp&quot; @change=&quot;songImg&quot;&gt; &#x5C06;input &#x8BBE;&#x7F6E;left&#xFF1A;-9999px&#xFF0C;&#x8FBE;&#x5230;&#x5728;&#x9875;&#x9762;&#x4E0A;&#x770B;&#x4E0D;&#x5230;&#x7684;&#x6548;&#x679C;&#xFF1A; 123456789101112131415161718.perCont-myWorks-addImgL { position: absolute; top: 0px; right: 0px; bottom: 0px; left: 74px; width: 102px; height: 102px; z-index: 10; cursor: pointer; margin-bottom: 0px; } .perCont-myWorks-addImgI { position: absolute; left: -9999px; width: 102px; } &#x70B9;&#x51FB;label&#xFF0C;&#x9009;&#x62E9;&#x56FE;&#x7247;&#xFF1A; 123456789101112131415161718192021222324//&#x9009;&#x62E9;&#x6B4C;&#x66F2;&#x5C01;&#x9762; songImg(e) { let that = this; let file = e.target.files[0]; let imgSize = file.size / 1024; let fileName = file.name; if (imgSize &gt; 10240) { alert(&quot;&#x8BF7;&#x4E0A;&#x4F20;&#x4E0D;&#x5927;&#x4E8E;10M&#x7684;&#x56FE;&#x7247;&quot;); } else { let render = new FileReader(); render.readAsDataURL(file); // render.readAsArrayBuffer(file); &#x8BFB;&#x53D6;&#x4E3A;&#x4E8C;&#x8FDB;&#x5236; // render.readAsText(file); &#x8BFB;&#x53D6;&#x4E3A;&#x6587;&#x4EF6; render.onloadend = function () { //&#x4E0D;&#x7BA1;&#x4E0A;&#x4F20;&#x6210;&#x529F;&#x4E0E;&#x5426; that.upSongImg = render.result; //&#x6587;&#x4EF6;&#x540D;&#x663E;&#x793A; that.$refs.addSongImgEle.style.display = &quot;none&quot;; that.$refs.songImgEle.src = that.upSongImg; //&#x5199;&#x4E0A;&#x4F20;&#x7684;axios that.songimgfile = file; }; } }, &#x5F53;&#x4E0A;&#x4F20;&#x7684;&#x6587;&#x4EF6;&#x56FE;&#x7247;&#x8F83;&#x591A;&#x6216;&#x662F;&#x8F83;&#x5927;&#x65F6;&#xFF0C;&#x4E0E;&#x540E;&#x53F0;&#x7684;&#x4F20;&#x8F93;&#x91C7;&#x7528; formdata &#x7684;&#x65B9;&#x5F0F;&#x53EF;&#x80FD;&#x66F4;&#x597D;&#xFF1A; 12345678910111213let paramform = new FormData();paramform.append(&apos;songimgfile&apos;, this.songimgfile);this.axios({ method: &quot;post&quot;, url: this.$store.state.siteStr + &quot;WEB&quot;, data: paramform}).then(res =&gt; { console.log(res.data);}).catch(err =&gt; { console.log(err);}); &#x4EE5;&#x4E0A;&#x5C31;&#x662F;&#x5229;&#x7528; input &#x548C; label &#x914D;&#x5408;&#x4F7F;&#x7528;&#x4E0A;&#x4F20;&#x56FE;&#x7247;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x7B49; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"VUE","slug":"VUE","permalink":"https://orange-way.github.io/tags/VUE/"}]},{"title":"html, css, js 加载顺序","date":"2018-12-29T02:32:28.000Z","path":"/posts/717e9804/","text":"&#x6211;&#x4EEC;&#x770B;&#x5230;&#x7684;&#x9875;&#x9762;&#x662F;&#x5DF2;&#x7ECF;&#x7ED8;&#x5236;&#x5B8C;&#x6210;&#x7684;&#xFF0C;html&#xFF0C;css&#xFF0C; js &#x8FD9;&#x4E9B;&#x6587;&#x4EF6;&#x5F53;&#x7136;&#x662F;&#x5DF2;&#x7ECF;&#x52A0;&#x8F7D;&#x5B8C;&#x6210;&#x4E86;&#x7684;&#xFF0C;&#x4F46;&#x8FD9;&#x4E2A;&#x52A0;&#x8F7D;&#x8FC7;&#x7A0B;&#x4E2D;&#x603B;&#x6709;&#x4E2A;&#x52A0;&#x8F7D;&#x7684;&#x5148;&#x540E;&#x987A;&#x5E8F;&#x7684;&#xFF0C;&#x55EF;&#xFF0C;&#x8FD8;&#x662F;&#x5F88;&#x91CD;&#x8981;&#x7684;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x662F;&#x603B;&#x7ED3;&#x8FD9;&#x4E2A;&#x52A0;&#x8F7D;&#x8FC7;&#x7A0B;&#x53CA;&#x987A;&#x5E8F; &#x200B; html css &#x52A0;&#x8F7D;&#x5047;&#x8BBE;&#x73B0;&#x5728;&#x6709;&#x4E2A;&#x9875;&#x9762; timeLine.html &#xFF1A; 12345678910111213141516171819202122232425&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;&#x65F6;&#x95F4;&#x7EBF;&lt;/title&gt; &lt;style type=&quot;text/css&quot;&gt; div { width: 100px; height: 100px; background: blue; } &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;div&gt; &lt;strong&gt;&lt;/strong&gt; &lt;/div&gt; &lt;span&gt;&lt;/span&gt; &lt;p&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt; &#x8FD9;&#x4E2A;&#x9875;&#x9762;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x5B83;&#x7ED8;&#x5236;&#x7684;&#x8FC7;&#x7A0B;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF1A; &#x200B; &#x200B; &#x200B; &#x5728;&#x9875;&#x9762;&#x7ED8;&#x5236;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x9075;&#x5B88;&#x7684;&#x662F; &#x6DF1;&#x5EA6;&#x4F18;&#x5148;&#x539F;&#x5219;&#xFF0C;&#x5373;&#x4E00;&#x6761;&#x9053;&#x8D70;&#x5230;&#x9ED1;&#x3002;&#x9996;&#x5148;&#xFF0C;&#x4F1A;&#x5F62;&#x6210;&#x4E00;&#x4E2A; domTree &#xFF0C;&#x5B83;&#x4F1A;&#x628A;&#x9047;&#x5230;&#x7684;&#x6240;&#x6709; dom &#x8282;&#x70B9;&#x90FD;&#x6302;&#x5230;&#x8FD9;&#x4E2A;&#x6811;&#x4E0A;&#xFF0C;&#x8FD9;&#x53EB; dom &#x8282;&#x70B9;&#x7684;&#x89E3;&#x6790;&#x3002;&#x5728;&#x8FD9;&#x4E2A; timeLine.html &#x4E2D;&#xFF0C;&#x5B83;&#x4F1A;&#x89E3;&#x6790;&#x5230; head &#x6807;&#x7B7E;&#xFF0C;&#x6302;&#x5230; domTree &#xFF0C;&#x7136;&#x540E;&#x518D;&#x5C06;&#x5B83;&#x4E0B;&#x9762;&#x7684; meta title &#x6807;&#x7B7E;&#x6302;&#x5230;&#x6811;&#x4E0A;&#xFF0C;&#x5F53;&#x628A;head&#x91CC;&#x7684;&#x6807;&#x7B7E;&#x90FD;&#x89E3;&#x6790;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x518D;&#x53BB;&#x89E3;&#x6790;body &#x6807;&#x7B7E;&#xFF0C;&#x8FD9;&#x4E2A;&#x89E3;&#x6790;&#x8FC7;&#x7A0B;&#x5C31;&#x662F;&#x7B26;&#x5408; &#x6DF1;&#x5EA6;&#x4F18;&#x5148; &#x7684;&#x539F;&#x5219;&#x3002;cssTree &#x540C;&#x6837;&#x662F;&#x8FD9;&#x6837;&#x89E3;&#x6790;&#x7684;&#x3002;&#x5F53; domTree &#x89E3;&#x6790;&#x5B8C;&#x6BD5;&#x540E; &#x7B49;&#x5F85; cssTree &#x7684;&#x89E3;&#x6790;&#xFF0C;&#x5F53; cssTree &#x4E5F;&#x89E3;&#x6790;&#x5B8C;&#x6BD5;&#x540E;&#xFF0C;&#x8FD9;&#x4E24;&#x4E2A;&#x5408;&#x5728;&#x4E00;&#x8D77;&#x5C31;&#x5F62;&#x6210;&#x4E86; renderTree&#xFF0C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x624D;&#x5F00;&#x59CB;&#x6309;&#x7167; renderTree &#x7684;&#x89C4;&#x5219;&#x6765;&#x7ED8;&#x5236;&#x9875;&#x9762; &#x200B; &#x200B; &#x6CE8;&#x610F;&#xFF1A;domTree &#x89E3;&#x6790;&#x5B8C;&#x6BD5;&#x7684;&#x8FC7;&#x7A0B;&#x53EA;&#x662F;&#x8BF4;&#x628A; dom &#x8282;&#x70B9;&#x90FD;&#x6302;&#x5230;&#x6811;&#x4E0A;&#x4E86;&#xFF0C;&#x4F46;&#x4E0D;&#x4EE3;&#x8868;&#x5B83;&#x52A0;&#x8F7D;&#x5B8C;&#x6210;&#xFF0C;&#x5047;&#x8BBE;&#x73B0;&#x5728;&#x6709;&#x4E2A; img &#x6807;&#x7B7E;&#xFF0C;&#x53EA;&#x4F1A;&#x6302;&#x4E0A;&#x8FD9;&#x4E2A; img &#x8282;&#x70B9;&#xFF0C;&#x81F3;&#x4E8E;&#x5B83;&#x662F;&#x4EC0;&#x4E48;&#xFF0C;&#x5E76;&#x4E0D;&#x5F71;&#x54CD; domTree &#x7684;&#x5F62;&#x6210;&#xFF0C;&#x8FD9;&#x4E2A;&#x662F;&#x5F02;&#x6B65;&#x7684;&#x8FC7;&#x7A0B; &#x200B; &#x5F02;&#x6B65;&#x52A0;&#x8F7D;js&#x4E0A;&#x9762;&#x7684;&#x8FD9;&#x4E2A;&#x9875;&#x9762;&#x662F;&#x6CA1;&#x6709; js &#x7684;&#xFF0C;js &#x7684;&#x52A0;&#x8F7D;&#x548C;html css &#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x5B83;&#x4F1A;&#x963B;&#x65AD; &#x5F53;&#x524D;&#x7684;&#x52A0;&#x8F7D;&#x8FC7;&#x7A0B;&#xFF0C;&#x7B49;&#x5B83;js&#x52A0;&#x8F7D;&#x5B8C;&#x540E;&#xFF0C;&#x624D;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x4E0B;&#x9762;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x5E76;&#x4E0D;&#x80FD;&#x548C;html css &#x5E76;&#x884C;&#x52A0;&#x8F7D;&#xFF0C;&#x56E0;&#x4E3A; js &#x80FD;&#x4FEE;&#x6539;html css&#x3002; 1&lt;script type=&quot;text/javascript&quot;&gt;&lt;/script&gt; &#x200B; &#x200B; &#x4F46;&#x6709;&#x4E9B; js &#x662F;&#x7528;&#x6765;&#x521D;&#x59CB;&#x5316;&#x6570;&#x636E;&#x6216;&#x662F;&#x5DE5;&#x5177;&#xFF0C;&#x8FD9;&#x4E9B;js&#x4E0D;&#x4F1A;&#x4FEE;&#x6539; html css &#xFF0C;&#x800C;&#x8FD9;&#x4E9B;js &#x5C31;&#x53EF;&#x4EE5;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#xFF0C;&#x751A;&#x81F3;&#x662F;&#x6309;&#x9700;&#x52A0;&#x8F7D;&#xFF0C;&#x90A3;&#x65B9;&#x6CD5;&#x6709;&#x4E09;&#x79CD;&#xFF1A; 1 &#x6DFB;&#x52A0; defer&#xFF0C;&#x52A0;&#x4E0A;&#x540E;&#x5C31;&#x53D8;&#x6210;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#xFF1A;&#x53EA;&#x6709; ie &#x80FD;&#x7528;&#xFF08;ie9&#x53CA;&#x4EE5;&#x4E0B;&#xFF09;&#xFF0C;&#x4E14;&#x4EE3;&#x7801;&#x8FD8;&#x53EF;&#x4EE5;&#x5199;&#x5230;&#x5185;&#x90E8;&#xFF0C;&#x54EA;&#x6015;&#x5DF2;&#x7ECF;&#x4E0B;&#x8F7D;&#x5B8C;&#x6210;&#x4E86;&#x4E5F;&#x8981;&#x7B49;&#x9875;&#x9762;&#x89E3;&#x6790;&#x5B8C;&#x6BD5;&#xFF08;&#x5F62;&#x6210;renderTree&#x540E;&#xFF09;&#x624D;&#x6267;&#x884C;&#xFF0C;&#x5F02;&#x6B65;&#x52A0;&#x8F7D; 1&lt;script type=&quot;text/javascript&quot; src=&quot;tool.js&quot; defer=&quot;defer&quot;&gt;&lt;/script&gt; 2 async W3C&#x6807;&#x51C6;&#xFF0C;ie9&#x4EE5;&#x4E0A;&#xFF0C;&#x8FD9;&#x4E2A;&#x662F;&#x52A0;&#x8F7D;&#x5B8C;&#x5C31;&#x4F7F;&#x7528;&#xFF0C;&#x4E0D;&#x80FD;&#x5728;&#x6807;&#x7B7E;&#x91CC;&#x5199;&#x4EE3;&#x7801;&#xFF0C;&#x5F02;&#x6B65;&#x52A0;&#x8F7D; 1&lt;script type=&quot;text/javascript&quot; src=&quot;tool.js&quot; async=&quot;async&quot;&gt;&lt;/script&gt; 3 &#x521B;&#x5EFA;script&#x6807;&#x7B7E;&#xFF0C;&#x63D2;&#x5165;&#x5230;DOM&#x4E2D;&#xFF0C;&#x52A0;&#x8F7D;&#x5B8C;&#x6BD5;&#x540E; callback 12345678910111213141516171819202122&lt;body&gt; &lt;div&gt; &lt;strong&gt;&lt;/strong&gt; &lt;/div&gt; &lt;span&gt;&lt;/span&gt; &lt;p&gt;&lt;/p&gt; &lt;script type=&quot;text/javascript&quot;&gt; var script = document.createElement(&apos;script&apos;) script.type = &apos;text/javascript&apos; script.src = &apos;./src/index.js&apos; document.head.appendChild(script) &lt;/script&gt;&lt;/body&gt;// ./src/index.jsfunction test () { console.log(&apos;&#x65F6;&#x95F4;&#x7EBF;&apos;)} &#x200B; &#x5982;&#x4E0A;&#xFF1A;&#x521B;&#x5EFA; script &#x6807;&#x7B7E;&#xFF0C;&#x7ED9;&#x5B83;&#x8BBE;&#x7F6E; src &#x5C5E;&#x6027;&#xFF0C;&#x5F53;&#x8FD9;&#x53E5;&#x6267;&#x884C;&#x5B8C;&#x6BD5;&#x540E;&#x5C31;&#x5F00;&#x59CB;&#x5F02;&#x6B65;&#x4E0B;&#x8F7D;&#x8FD9;&#x4E2A;js&#x6587;&#x4EF6;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x53EA;&#x662F;&#x4E0B;&#x8F7D;&#x4E86;&#x5E76;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x7528;&#xFF0C;&#x53EA;&#x6709;&#x6267;&#x884C; document.head.appendChild(script) &#x540E;&#x624D;&#x53EF;&#x4EE5;&#x7528;&#x8FD9;&#x91CC;&#x9762;&#x7684;&#x65B9;&#x6CD5; &#x200B; &#x4F46;&#x6B64;&#x65F6;&#x82E5;&#x662F;&#x76F4;&#x63A5;&#x5728;&#x63D2;&#x5165;&#x8BED;&#x53E5;&#x4E4B;&#x540E;&#x6267;&#x884C; test &#x65B9;&#x6CD5;&#x7684;&#x8BDD;&#xFF0C;&#x662F;&#x62A5;&#x9519;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;src&#x8FD9;&#x53E5;&#x662F;&#x5728;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#x6587;&#x4EF6;&#xFF0C;&#x6240;&#x4EE5;&#x8981;&#x6267;&#x884C;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x9700;&#x8981;js&#x6587;&#x4EF6;&#x52A0;&#x8F7D;&#x5B8C;&#x6210;&#x540E;&#xFF1A; 123456789101112131415161718192021&lt;script type=&quot;text/javascript&quot;&gt; var script = document.createElement(&apos;script&apos;) script.type = &apos;text/javascript&apos; document.head.appendChild(script) if (script.readyState) { script.onreadystatechange = function () { if (script.readyState === &apos;complete&apos; || script.readyState === &apos;loaded&apos;) { test() } } } else { script.onload = function () { test() } } script.src = &apos;./src/index.js&apos; &lt;/script&gt; &#x200B; &#x6CE8;&#x610F;&#xFF1A; 1 &#x7531;&#x4E8E; ie10&#x53CA;&#x4EE5;&#x4E0B; &#x7684; script &#x6807;&#x7B7E;&#x6CA1;&#x6709; onload &#xFF0C;&#x4F46;&#x5B83;&#x6709;&#x81EA;&#x5DF1;&#x7684; readyState &#xFF0C;&#x6240;&#x4EE5;&#x4E24;&#x8005;&#x8FD9;&#x6837;&#x517C;&#x5BB9;&#x4E00;&#x4E0B; 2 &#x628A;src&#x8FD9;&#x53E5;&#x79FB;&#x5230;&#x7ED1;&#x5B9A;&#x4E8B;&#x4EF6;&#x4E4B;&#x540E; &#xFF0C;&#x76EE;&#x7684;&#x662F;&#x4EE5;&#x9632;&#x6587;&#x4EF6;&#x4EE5;&#x52A0;&#x8F7D;&#x5B8C;&#x6BD5;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x8FD8;&#x6CA1;&#x6267;&#x884C;&#x5230; script.readyState&#x8FD9;&#x53E5; &#x200B; &#x628A;&#x4E0A;&#x9762;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x5C01;&#x88C5;&#x4E00;&#x4E0B;&#xFF1A; 123456789101112131415161718192021&lt;script type=&quot;text/javascript&quot;&gt; function loadScript(url, callback) { var script = document.createElement(&apos;script&apos;) script.type = url document.head.appendChild(script) if (script.readyState) { script.onreadystatechange = function () { if (script.readyState === &apos;complete&apos; || script.readyState === &apos;loaded&apos;) { callback() } } } else { script.onload = function () { callback() } } script.src = &apos;./src/index.js&apos; } loadScript(&apos;text/javascript&apos;, test)&lt;/script&gt; &#x4F46;&#x662F;&#xFF1A;&#x62A5;&#x9519;&#x4E86;&#xFF0C;&#x62A5;&#x9519;&#x539F;&#x56E0;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x6267;&#x884C; loadScript&#xFF08;&#xFF09; &#x8FD9;&#x53E5;&#x65F6;&#x538B;&#x6839;&#x4E0D;&#x77E5;&#x9053;test&#x662F;&#x8C01;&#x554A;&#xFF0C;&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#x6709;&#x5F88;&#x591A;&#xFF0C;&#x8FD9;&#x91CC;&#x5199;&#x4E09;&#x4E2A;&#xFF08;&#x76EE;&#x524D;&#x80FD;&#x60F3;&#x5230;&#x8FD9;&#x4E09;&#x4E2A;&#x54C8;&#x54C8;&#x54C8;&#xFF09; 1 &#x4F20;&#x5B57;&#x7B26;&#x4E32;&#x8FDB;&#x53BB;&#xFF1A; loadScript(&apos;text/javascript&apos;, &apos;test()&apos;) &#x8C03;&#x7528;&#xFF1A;eval(callback) &#x5C3D;&#x91CF;&#x4E0D;&#x8981;&#x4F7F;&#x7528;&#xFF01; 2 &#x4F20;&#x533F;&#x540D;&#x51FD;&#x6570;&#x8FDB;&#x53BB;&#xFF1A; loadScript(&apos;text/javascript&apos;, function () {test()}) &#x8C03;&#x7528;&#xFF1A;callback() 3 &#x76F4;&#x63A5;&#x4F20;&#x5B57;&#x7B26;&#x4E32;&#x8FDB;&#x53BB;&#xFF0C;&#x5E76;&#x4FEE;&#x6539; js &#x6587;&#x4EF6;: loadScript(&apos;text/javascript&apos;, &apos;test&apos;) src/index.js: 12345var obj = { test: function test() { console.log(&apos;&#x65F6;&#x95F4;&#x7EBF;&apos;) }} &#x8C03;&#x7528;&#xFF1A;obj[callback]() &#x200B; &#x5F53;&#x7136;&#xFF0C;&#x82E5;&#x4E0D;&#x9700;&#x8981;&#x56DE;&#x8C03;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;js&#x6587;&#x4EF6;&#xFF0C;&#x90A3;&#x5C31;&#x7075;&#x6D3B;&#x4F7F;&#x7528; &#x200B; js&#x52A0;&#x8F7D;&#x65F6;&#x95F4;&#x7EBF;&#x200B; 1&#x3001;&#x521B;&#x5EFA;Document&#x5BF9;&#x8C61;&#xFF0C;&#x5F00;&#x59CB;&#x89E3;&#x6790;web&#x9875;&#x9762;&#x3002;&#x89E3;&#x6790;HTML&#x5143;&#x7D20;&#x548C;&#x4ED6;&#x4EEC;&#x7684;&#x6587;&#x672C;&#x5185;&#x5BB9;&#x540E;&#x6DFB;&#x52A0;Element&#x5BF9;&#x8C61;&#x548C;Text&#x8282;&#x70B9;&#x5230;&#x6587;&#x6863;&#x4E2D;&#x3002;&#x8FD9;&#x4E2A;&#x9636;&#x6BB5;document.readyState = &#x2018;loading&#x2019;&#x3002; &#x200B; 2&#x3001;&#x9047;&#x5230;link&#x5916;&#x90E8;css&#xFF0C;&#x521B;&#x5EFA;&#x7EBF;&#x7A0B;&#x52A0;&#x8F7D;&#xFF0C;&#x5E76;&#x7EE7;&#x7EED;&#x89E3;&#x6790;&#x6587;&#x6863;&#x3002; &#x200B; 3&#x3001;&#x9047;&#x5230;script&#x5916;&#x90E8;js&#xFF0C;&#x5E76;&#x4E14;&#x6CA1;&#x6709;&#x8BBE;&#x7F6E;async&#x3001;defer&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x52A0;&#x8F7D;&#xFF0C;&#x5E76;&#x963B;&#x585E;&#xFF0C;&#x7B49;&#x5F85;js&#x52A0;&#x8F7D;&#x5B8C;&#x6210;&#x5E76;&#x6267;&#x884C;&#x8BE5;&#x811A;&#x672C;&#xFF0C;&#x7136;&#x540E;&#x7EE7;&#x7EED;&#x89E3;&#x6790;&#x6587;&#x6863;&#x3002; &#x200B; 4&#x3001;&#x9047;&#x5230;script&#x5916;&#x90E8;js&#xFF0C;&#x5E76;&#x4E14;&#x8BBE;&#x7F6E;&#x6709;async&#x3001;defer&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x521B;&#x5EFA;&#x7EBF;&#x7A0B;&#x52A0;&#x8F7D;&#xFF0C;&#x5E76;&#x7EE7;&#x7EED;&#x89E3;&#x6790;&#x6587;&#x6863;&#x3002;&#x5BF9;&#x4E8E;async&#x5C5E;&#x6027;&#x7684;&#x811A;&#x672C;&#xFF0C;&#x811A;&#x672C;&#x52A0;&#x8F7D;&#x5B8C;&#x6210;&#x540E;&#x7ACB;&#x5373;&#x6267;&#x884C;&#x3002;&#xFF08;&#x5F02;&#x6B65;&#x7981;&#x6B62;&#x4F7F;&#x7528;document.write()&#xFF09; &#x200B; 5&#x3001;&#x9047;&#x5230;img&#x7B49;&#xFF0C;&#x5148;&#x6B63;&#x5E38;&#x89E3;&#x6790;dom&#x7ED3;&#x6784;&#xFF0C;&#x7136;&#x540E;&#x6D4F;&#x89C8;&#x5668;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;src&#xFF0C;&#x5E76;&#x7EE7;&#x7EED;&#x89E3;&#x6790;&#x6587;&#x6863;&#x3002; &#x200B; 6&#x3001;&#x5F53;&#x6587;&#x6863;&#x89E3;&#x6790;&#x5B8C;&#x6210;&#xFF0C;document.readyState = &#x2018;interactive&#x2019;&#x3002; &#x200B; 7&#x3001;&#x6587;&#x6863;&#x89E3;&#x6790;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x6240;&#x6709;&#x8BBE;&#x7F6E;&#x6709;defer&#x7684;&#x811A;&#x672C;&#x4F1A;&#x6309;&#x7167;&#x987A;&#x5E8F;&#x6267;&#x884C;&#x3002;&#xFF08;&#x6CE8;&#x610F;&#x4E0E;async&#x7684;&#x4E0D;&#x540C;,&#x4F46;&#x540C;&#x6837;&#x7981;&#x6B62;&#x4F7F;&#x7528;document.write()&#xFF09;; &#x200B; 8&#x3001;document&#x5BF9;&#x8C61;&#x89E6;&#x53D1;DOMContentLoaded&#x4E8B;&#x4EF6;&#xFF0C;&#x8FD9;&#x4E5F;&#x6807;&#x5FD7;&#x7740;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x4ECE;&#x540C;&#x6B65;&#x811A;&#x672C;&#x6267;&#x884C;&#x9636;&#x6BB5;&#xFF0C;&#x8F6C;&#x5316;&#x4E3A;&#x4E8B;&#x4EF6;&#x9A71;&#x52A8;&#x9636;&#x6BB5;&#xFF0C;&#x5373;&#x5F00;&#x59CB;&#x8BC6;&#x522B;&#x4E8B;&#x4EF6;&#x4E86;&#x3002;DOMContentLoaded&#x8FD9;&#x4E2A;&#x4E8B;&#x4EF6;&#x5728;dom&#x89E3;&#x6790;&#x5B8C;&#x5C31;&#x53EF;&#x4EE5;&#x89E6;&#x53D1;&#xFF0C;&#x4E0D;&#x7528;&#x7B49;&#x5230;&#x52A0;&#x8F7D;&#x5B8C;&#x518D;&#x53BB;&#x6267;&#x884C; &#x200B; 9&#x3001;&#x5F53;&#x6240;&#x6709;async&#x7684;&#x811A;&#x672C;&#x52A0;&#x8F7D;&#x5B8C;&#x6210;&#x5E76;&#x6267;&#x884C;&#x540E;&#x3001;img&#x7B49;&#x52A0;&#x8F7D;&#x5B8C;&#x6210;&#x540E;&#xFF0C;document.readyState = &#x2018;complete&#x2019;&#xFF0C;window&#x5BF9;&#x8C61;&#x89E6;&#x53D1;load&#x4E8B;&#x4EF6;&#x3002; &#x200B; 10&#x3001;&#x4ECE;&#x6B64;&#xFF0C;&#x4EE5;&#x5F02;&#x6B65;&#x54CD;&#x5E94;&#x65B9;&#x5F0F;&#x5904;&#x7406;&#x7528;&#x6237;&#x8F93;&#x5165;&#x3001;&#x7F51;&#x7EDC;&#x4E8B;&#x4EF6;&#x7B49;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Hello World","date":"2018-12-17T01:42:55.128Z","path":"/posts/4a17b156/","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"生活","date":"2018-12-12T08:29:27.000Z","path":"/posts/a446c7d6/","text":"&#x5FC3;&#x82E5;&#x5411;&#x9633;&#xFF0C;&#x4F55;&#x4E3A;&#x60B2;&#x4F24; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"vue中router-link的class","date":"2018-12-07T06:58:36.000Z","path":"/posts/2cbb36fa/","text":"router-link&#x4E2D;&#x53EF;&#x4EE5;&#x52A8;&#x6001;&#x7ED1;&#x5B9A;class&#xFF0C;&#x8FD9;&#x91CC;&#x603B;&#x7ED3;router-link-active &#xFF0C;vue&#x5B9E;&#x73B0;&#x7684;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x200B; &#x53EA;&#x9700;&#x8981;&#x6DFB;&#x52A0; router-link-active &#x8FD9;&#x4E2A;class&#x7684;css&#x6837;&#x5F0F;&#xFF0C;&#x5728;rouer-link&#x4E2D;&#x4EC0;&#x4E48;&#x90FD;&#x4E0D;&#x9700;&#x8981;&#x5199;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; 12345678&lt;Router-link to=&quot;/home&quot; tag=&quot;li&quot;&gt;&#x9996;&#x9875;&lt;/Router-link&gt;&lt;Router-link to=&quot;/comment&quot; tag=&quot;li&quot;&gt;&#x8BC4;&#x8BBA;&lt;/Router-link&gt;&lt;Router-link to=&quot;/person&quot; tag=&quot;li&quot;&gt;&#x4E2A;&#x4EBA;&#x4E2D;&#x5FC3;&lt;/Router-link&gt;.router-link-active{ background: pink; color: #555;} &#x200B; &#x5F53;&#x7136;&#x8981;&#x662F;&#x5ACC; &#x8FD9;&#x4E2A;class&#x540D;&#x592A;&#x957F;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x6539;&#xFF0C; &#x65B9;&#x6CD5;&#x4E00;&#xFF1A; &#x5728;router/index.js&#x4E2D;&#x505A;&#x5982;&#x4E0B;&#x914D;&#x7F6E;: 1234567891011121314import Vue from &apos;vue&apos;import Router from &apos;vue-router&apos;Vue.use(Router)export default new Router({ routes: [], linkActiveClass: &apos;is-active&apos; //&#x6DFB;&#x52A0;&#x8FD9;&#x53E5;}).is-active{ background: pink; color: #555;} &#x65B9;&#x6CD5;&#x4E8C;&#xFF1A; &#x76F4;&#x63A5;&#x5728;rout-link&#x90A3;&#x91CC;&#x66F4;&#x6539;&#xFF1A; 123&lt;Router-link to=&quot;/home&quot; tag=&quot;li&quot; active-class=&quot;is-active&quot;&gt;&#x9996;&#x9875;&lt;/Router-link&gt;&lt;Router-link to=&quot;/comment&quot; tag=&quot;li&quot; active-class=&quot;is-active&quot;&gt;&#x8BC4;&#x8BBA;&lt;/Router-link&gt;&lt;Router-link to=&quot;/person&quot; tag=&quot;li&quot; active-class=&quot;is-active&quot;&gt;&#x4E2A;&#x4EBA;&#x4E2D;&#x5FC3;&lt;/Router-link&gt; &#x4EE5;&#x4E0A;&#x4E24;&#x79CD;&#x90FD;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x5728;&#x5BFC;&#x822A;&#x5207;&#x6362;&#x65F6;&#xFF0C;&#x6837;&#x5F0F;&#x4E5F;&#x5728;&#x8DDF;&#x7740;&#xFF0C;&#x4F46;&#x73B0;&#x5728;&#x6709;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x5047;&#x8BBE;&#x73B0;&#x5728;&#x6709;&#x4E2A;&#x52A8;&#x6001;&#x8DEF;&#x7531;&#xFF0C;&#x4F46;&#x53EF;&#x80FD;&#x4ECE;&#x8BC4;&#x8BBA;&#x9875;&#x9762;&#x53EF;&#x80FD;&#x8DF3;&#x5230;&#x8FD9;&#x4E2A;&#x9875;&#x9762;&#xFF0C;&#x4E5F;&#x53EF;&#x80FD;&#x4ECE;&#x4E2A;&#x4EBA;&#x4E2D;&#x5FC3;&#x8DF3;&#x5230;&#x8FD9;&#x4E2A;&#x9875;&#x9762;&#xFF0C;&#x90A3;&#x73B0;&#x5728;&#x8981;&#x6C42;&#x5F53;&#x8DF3;&#x5230;&#x8FD9;&#x4E2A;&#x8DEF;&#x7531;&#x65F6;&#xFF0C;&#x4ECE;&#x54EA;&#x4E2A;&#x8DF3;&#x8FC7;&#x53BB;&#xFF0C;&#x54EA;&#x4E2A;&#x5C31;&#x4FDD;&#x6301;activeClass&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; &#x4E00;&#x79CD;&#x529E;&#x6CD5;&#x662F;&#x6DFB;&#x52A0;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#xFF0C;&#x5728;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#x4E2D;&#x6765;&#x52A8;&#x6001;&#x589E;&#x52A0;&#x5220;&#x9664;class&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x79CD;&#x529E;&#x6CD5;&#x662F;&#x5229;&#x7528;&#x8DEF;&#x7531;&#x5143;&#x4FE1;&#x606F;&#x6765;&#x5199;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; 1 &#x5728;&#x53EF;&#x80FD;&#x4F1A;&#x8DF3;&#x8F6C;&#x5230;&#x6B64;&#x8DEF;&#x7531;&#x4E2D;&#x914D;&#x7F6E;&#x8DEF;&#x7531;&#x4FE1;&#x606F;&#xFF08;&#x8FD9;&#x91CC;&#x914D;&#x7F6E;&#x4E86;/home&#xFF0C;/person&#xFF09;&#xFF1A; 123456789101112131415161718192021222324252627282930313233343536373839404142 { path: &apos;/home&apos;, name: &apos;Home&apos;, component: Home, meta: { requiresAuth: true, active: &apos;/cont&apos; } }, { path: &apos;/cont&apos;, name: &apos;HomeCont&apos;, component: HomeCont, meta: { requiresAuth: true, active: &apos;/cont&apos; }, beforeEnter(to, from, next) { if(from.meta.active === &apos;/cont&apos;){ to.meta.active = from.path; } next() } }, { path: &apos;/comment&apos;, name: &apos;comment&apos;, component: Comment }, { path: &apos;/person&apos;, name: &apos;person&apos;, component: Person, meta: { requiresAuth: true, active: &apos;/cont&apos; } }&lt;Router-link to=&quot;/home&quot; tag=&quot;li&quot; :class=&quot;{&apos;is-active&apos;:$route.meta.active === &apos;/home&apos;}&quot;&gt;&#x9996;&#x9875;&lt;/Router-link&gt; &lt;Router-link to=&quot;/comment&quot; tag=&quot;li&quot;&gt;&#x8BC4;&#x8BBA;&lt;/Router-link&gt; &lt;Router-link to=&quot;/person&quot; tag=&quot;li&quot; :class=&quot;{&apos;is-active&apos;:$route.meta.active === &apos;/person&apos;}&quot;&gt;&#x4E2A;&#x4EBA;&#x4E2D;&#x5FC3;&lt;/Router-link&gt; &#x200B; 1 &#x7ED9;&#x6240;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x8DF3;&#x5230;&#x8FD9;&#x4E2A;&#x8DEF;&#x7531;&#x7684;&#x5730;&#x65B9;&#x914D;&#x7F6E;meta&#xFF0C;&#x5E76;&#x8D4B;&#x7ED9;&#x76F8;&#x540C;&#x7684;active&#x5C5E;&#x6027;&#x200B; 2 &#x5728;rout-link&#x4E2D; &#x52A8;&#x6001;&#x6DFB;&#x52A0; is-active&#x200B; 3 &#x5728;beforEnter&#x4E2D;&#x5224;&#x65AD;&#xFF0C;&#x628A;&#x52A8;&#x6001;&#x8DEF;&#x7531;&#x7684;to.meta.active = from.path&#xFF08;&#x8FD9;&#x91CC;&#x6211;&#x7528;&#x7684;&#x662F;path&#x6765;&#x5224;&#x65AD;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x6210;&#x522B;&#x7684;&#xFF09; &#x200B; 4 &#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#xFF0C;&#x53D1;&#x73B0;&#x5982;&#x679C;&#x9875;&#x9762;&#x5237;&#x65B0;&#xFF0C;&#x90A3;&#x5C31;&#x5931;&#x6548;&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x914D;&#x5408;localStorage&#x6765;&#x5B8C;&#x5584; 123456789101112//&#x5728;router&#x4E2D;localStorage&#x5B58;&#x5165; beforeEnter(to, from, next) { if(from.meta.active === &apos;/cont&apos;){ to.meta.active = from.path; localStorage.setItem(&apos;/cont&apos;, to.meta.active) //&#x6DFB;&#x52A0;&#x8FD9;&#x53E5; } next() }//&#x5728;cont.vue&#x4E2D;&#x83B7;&#x53D6; created () { this.$route.meta.active = localStorage.getItem(&apos;/cont&apos;) || this.$route.meta.active; } &#x8FD9;&#x6837;&#xFF0C;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x5C31;&#x7B97;&#x57FA;&#x672C;&#x5B8C;&#x5584;&#x4E86;&#xFF0C;&#x76EE;&#x524D;&#x80FD;&#x60F3;&#x5230;&#x7684;&#x662F;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x540E;&#x9762;&#x82E5;&#x662F;&#x6709;&#x5176;&#x4ED6;&#x7684;&#x518D;&#x6765;&#x66F4;&#x65B0; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"VUE","slug":"VUE","permalink":"https://orange-way.github.io/tags/VUE/"}]},{"title":"vue 中图片的处理","date":"2018-11-10T07:46:15.000Z","path":"/posts/cbd21fc3/","text":"vue &#x4E2D;&#x56FE;&#x7247;&#x53EF;&#x80FD;&#x53EA;&#x662F;&#x7528;&#x4E8E;&#x5C55;&#x793A;&#xFF0C;&#x53EF;&#x80FD;&#x662F;&#x88C1;&#x526A;&#xFF0C;&#x53EF;&#x80FD;&#x662F;&#x70B9;&#x51FB;&#x56FE;&#x7247;&#x8FDB;&#x884C;&#x8DF3;&#x8F6C; &#x200B; &#x56FE;&#x7247;&#x52A0;&#x8F7D;&#x5931;&#x8D25;&#x5F53;&#x83B7;&#x53D6;&#x7684;&#x56FE;&#x7247;&#x6B63;&#x5E38;&#x52A0;&#x8F7D;&#x65F6;&#x5BF9;&#x9875;&#x9762;&#x662F;&#x6CA1;&#x6709;&#x5F71;&#x54CD;&#x7684;&#xFF0C;&#x4F46;&#x5F53;&#x56FE;&#x7247;&#x52A0;&#x8F7D;&#x5931;&#x8D25;&#x65F6;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x5BF9;&#x5E03;&#x5C40;&#x9020;&#x6210;&#x5F71;&#x54CD;&#x6216;&#x8005;&#x662F;&#x4E00;&#x4E2A;&#x52A0;&#x8F7D;&#x5931;&#x8D25;&#x7684;&#x56FE;&#x6807;&#xFF08;&#x96BE;&#x770B;&#xFF09;&#xFF0C;&#x6240;&#x4EE5;&#x8981;&#x5904;&#x7406;&#x5728;&#x56FE;&#x7247;&#x52A0;&#x8F7D;&#x95EE;&#x9898; &#x9996;&#x5148;&#xFF0C;&#x8981;&#x6709;&#x4E2A;&#x9ED8;&#x8BA4;&#x56FE;&#x7247;&#xFF0C;&#x56FE;&#x7247;url&#x4E0D;&#x5B58;&#x5728;&#x65F6;&#x5C31;&#x663E;&#x793A;&#x8FD9;&#x5F20;&#xFF0C;&#x5F53;&#x56FE;&#x7247;&#x5B58;&#x5728;&#x4F46;url&#x65E0;&#x6548;&#x65F6;&#x4E5F;&#x663E;&#x793A;&#x8FD9;&#x5F20;&#xFF1A; 12345678910// &#x6CE8;&#x610F;&#x5F15;&#x5165;&#x672C;&#x5730;&#x56FE;&#x7247;&#x65F6;&#x8981;&#x4F7F;&#x7528;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x5426;&#x5219;&#x65E0;&#x6CD5;&#x5F15;&#x5165;albumImgUnloadSrc: require(&apos;../../../assets/unload4.png&apos;), &lt;img v-if=&quot;albumIcon&quot; :src=&quot;albumIcon&quot; @error=&quot;albumImgError&quot;&gt;&lt;img v-else :src=&quot;albumImgUnloadSrc&quot; @error=&quot;albumImgError&quot;&gt; //&#x4E13;&#x8F91;&#x56FE;&#x7247;&#x52A0;&#x8F7D;&#x5931;&#x8D25;albumImgError() { this.albumIcon = this.albumImgUnloadSrc;}, &#x200B; &#x56FE;&#x7247;&#x62D6;&#x52A8;&#x53CA;&#x88C1;&#x526A;&#x6709;&#x65F6;&#x4F1A;&#x7528;&#x56FE;&#x7247;&#x62D6;&#x52A8;&#x53CA;&#x88C1;&#x526A;&#xFF0C;&#x6BD4;&#x5982;&#x4E0A;&#x4F20;&#x56FE;&#x7247;&#x540E;&#x83B7;&#x53D6;&#x5176;&#x4E2D;&#x4E00;&#x90E8;&#x5206; &#x73B0;&#x5728;&#x5047;&#x8BBE;&#x4E0A;&#x4F20;&#x7684;&#x662F;&#x4E00;&#x4E2A;1920x650&#x7684;&#x56FE;&#x7247;&#xFF1A; &#x4F46;&#x73B0;&#x5728;&#x8981;&#x628A;&#x5B83;&#x653E;&#x5728;&#x4E00;&#x4E2A; 325px 325px&#x7684;div&#x4E2D;&#xFF0C;&#x4E14;&#x62D6;&#x52A8;&#x56FE;&#x7247;&#x8981;&#x5C55;&#x793A;&#x76F8;&#x5E94;&#x7684;&#x90E8;&#x5206;&#xFF1A; &#x56FE;&#x7247;&#x62D6;&#x52A8;&#x7684;&#x65B9;&#x6CD5;&#x5982;&#x4E0B;, x&#x8F74;&#x548C;y&#x8F74;&#x5206;&#x5F00;&#x5224;&#x65AD;&#xFF1A; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647&lt;!-- &#x4E0A;&#x4F20;&#x5934;&#x50CF;&#x63D0;&#x793A;&#x6846; --&gt;&lt;div class=&quot;perIconChange-upIconK&quot;&gt; &lt;canvas ref=&quot;cutCanvas&quot; class=&quot;perIconChange-upCanvas&quot; :style=&quot;cutIconStyle&quot;&lt;/canvas&gt; &lt;img :src=&quot;pointIconSrc&quot; alt=&quot;&quot; :style=&quot;cutIconStyle&quot; @mousedown.stop=&quot;iconDragMouse&quot; draggable=&quot;false&quot; ref=&quot;newCutImgEle&quot;&gt; &lt;span class=&quot;perIconChange-upIconKT&quot;&gt;&#x9009;&#x62E9;&#x4E00;&#x5F20;&#x672C;&#x5730;&#x7684;&#x56FE;&#x7247;&#x8FDB;&#x884C;&#x4E0A;&#x4F20;&lt;/span&gt;&lt;/div&gt;//&#x5934;&#x50CF;&#x62D6;&#x52A8;iconDragMouse(e) { let translate = parseInt(this.cutIconStyle.transform.slice(11)); let minuse = 0; if (this.iconDragBool === &quot;x&quot;) { let originX = e.pageX; this.dragDistance = -Math.floor((325 / this.newIconHeight) * this.newIconWidth) + 325; document.onmousemove = e =&gt; { minuse = e.pageX - originX; translate = translate + parseInt(minuse); // console.log(translateX, this.dragDistance); if (translate &lt; 1 &amp;&amp; translate &gt; this.dragDistance) { this.cutIconStyle.transform = &quot;translateX(&quot; + translate + &quot;px)&quot;; } }; document.onmouseup = e =&gt; { console.log(&quot;up&quot;); this.iconCutEvent(); document.onmousemove = null; document.onmouseup = null; }; } else if (this.iconDragBool === &quot;y&quot;) { let originY = e.pageY; this.dragDistance = -Math.floor((325 / this.newIconWidth) * this.newIconHeight) + 325; document.onmousemove = e =&gt; { minuse = e.pageY - originY; translate = translate + parseInt(minuse); // console.log(translateY, this.dragDistance); if (translate &lt; 1 &amp;&amp; translate &gt; this.dragDistance) { this.cutIconStyle.transform = &quot;translateY(&quot; + translate + &quot;px)&quot;; } }; document.onmouseup = e =&gt; { this.iconCutEvent(); document.onmousemove = null; document.onmouseup = null; }; }}, &#x200B; &#x56FE;&#x7247;&#x88C1;&#x526A;&#xFF0C;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x8981;&#x548C;h5&#x7684;canvas&#x914D;&#x5408;&#x5B9E;&#x73B0;&#xFF1A; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152//&#x5934;&#x50CF;&#x88C1;&#x526A; iconCutEvent() { if (this.iconDragBool === &quot;x&quot;) { this.canvasStyle = { x: Math.floor(this.newIconHeight / 325 * Math.abs(-parseInt(this.cutIconStyle.transform.slice(11)))), y: 0, w: this.newIconHeight, h: this.newIconHeight }; } else if (this.iconDragBool === &quot;y&quot;) { this.canvasStyle = { x: 0, y: Math.floor(this.newIconWidth / 325 * Math.abs(-parseInt(this.cutIconStyle.transform.slice(11)))), w: this.newIconWidth, h: this.newIconWidth }; } else if (this.iconDragBool === &apos;&apos;) { this.canvasStyle = { x: 0, y: 0, w: this.newIconWidth, h: this.newIconWidth }; } let canvas = document.createElement(&quot;canvas&quot;); let ctx = canvas.getContext(&quot;2d&quot;); this.$nextTick(() =&gt; { //&#x5C06;img&#x88AB;&#x88C1;&#x526A;&#x7684;x,y,w,h&#x6240;&#x5BF9;&#x5E94;&#x7684;canvas&#x533A;&#x57DF;&#x62FF;&#x51FA;&#x6765; let imgData = this.$refs.cutCanvas .getContext(&quot;2d&quot;) .getImageData( this.canvasStyle.x * 2, this.canvasStyle.y * 2, this.canvasStyle.w * 2, this.canvasStyle.h * 2 ); canvas.width = this.canvasStyle.w * 2; canvas.height = this.canvasStyle.h * 2; //&#x5C06;&#x88C1;&#x526A;&#x7684;&#x533A;&#x57DF;&#x7ED9;&#x65B0;&#x521B;&#x5EFA;&#x7684;canvas ctx.putImageData( imgData, 0, 0, 0, 0, this.canvasStyle.w * 2, this.canvasStyle.h * 2 ); //&#x8F93;&#x51FA;base64, &#x5934;&#x50CF;&#x9884;&#x89C8; this.perHeadIconSrc = canvas.toDataURL(&quot;image/png&quot;); }); }, &#x56FE;&#x7247;&#x7684;&#x5904;&#x7406;&#x6682;&#x65F6;&#x5230;&#x8FD9;&#x91CC;&#xFF0C;&#x4EE5;&#x540E;&#x78B0;&#x5230;&#x5176;&#x4ED6;&#x7684;&#x518D;&#x7EE7;&#x7EED;&#x603B;&#x7ED3; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"VUE","slug":"VUE","permalink":"https://orange-way.github.io/tags/VUE/"}]},{"title":"vue 总结","date":"2018-10-22T07:19:32.000Z","path":"/posts/d3b9e1c2/","text":"vue&#x4E2D;&#x5982;&#x4F55;&#x76D1;&#x63A7;store.js&#x91CC;&#x7684;&#x503C;&#x7EC4;&#x4EF6;&#x4E2D;&#x76D1;&#x63A7;state&#x91CC;&#x7684;&#x503C;: &#x200B; 12345678910111213141516171819202122232425262728store.js: import Vue from &apos;vue&apos; import Vuex from &apos;vuex&apos; Vue.use(Vuex) export default new Vuex.Store({ state:{ val: &apos;12345&apos;, token: &apos;&apos; } })&#x7EC4;&#x4EF6;&#xFF1A; computed: { nowToken: { get() { return this.$store.state.token; }, set() { } } }, watch: { nowToken(newVal, oriVal) { console.log(neval, oriVal) } }, vue&#x4E2D;&#x7684;&#x8DEF;&#x7531;&#x5B88;&#x536B;&#x6CE8;&#x610F;&#xFF1A;&#x8DEF;&#x7531;&#x5B88;&#x536B;&#xFF08;&#x5373;&#x5728;router.js&#x91CC;&#x7684;&#x67D0;&#x4E2A;&#x8DEF;&#x7531;&#x7684;&#x5B88;&#x536B;&#xFF09;&#xFF0C;&#x8FD9;&#x4E2A;&#x6307;&#x5728;&#x8FDB;&#x5165;&#x8FD9;&#x4E2A;&#x8DEF;&#x7531;&#x4E4B;&#x524D;&#x8981;&#x6267;&#x884C;&#x7684;&#x8BED;&#x53E5;&#xFF0C;&#x6240;&#x4EE5;&#x4E0D;&#x80FD;&#x5305;&#x542B;&#x5728;&#x8FD9;&#x4E2A;&#x8DEF;&#x7531;&#x4E0B;&#x7684;&#x5B50;&#x8DEF;&#x7531;&#xFF0C;&#x5982;&#xFF1A; &#x200B; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748{ path: &apos;/personal/perContent&apos;, name: &apos;perContent&apos;, component: perContent, children: [ { path: &apos;myLove&apos;, component: persoanlmyLove }, { path: &apos;myList&apos;, component: persoanlmyList, children: [{ path: &apos;createList&apos;, component: perContmyListCreate }] }, { path: &apos;myWorks&apos;, component: persoanlmyWorks, children: [ { path: &apos;myNoWorks&apos;, component: persoanlmyNoWorks }, { path: &apos;myWorksWorks&apos;, component: perContmyWorksWorks, } ], meta: { auth: true }, beforeEnter(to, from, next) { if (to.matched.some(m =&gt; m.meta.auth)) { console.log(store.state) if (store.state.musicianBool) { next({ path: &apos;/personal/perContent/myWorks/myWorksWorks&apos;}) console.log(&apos;yes&apos;) } else { next({ path: &apos;/personal/perContent/myWorks/myNoWorks&apos;}) console.log(&apos;no&apos;) } } }, ], redirect: &apos;/personal/perContent/myLove&apos; }, &#x200B; &#x5728;&#x8FDB;&#x5165;&#x8FD9;&#x4E2A;&#x8DEF;&#x7531;&#x65F6;&#x5224;&#x65AD;musicianbool&#xFF0C;&#x4F46;&#x8FDB;&#x5165;&#x7684;&#x8DEF;&#x7531;&#x5374;&#x662F;&#x5B50;&#x8DEF;&#x7531;,&#x6240;&#x4EE5;&#x8FD9;&#x79CD;&#x4E0D;&#x884C; &#x200B; &#x6240;&#x4EE5;&#x60F3;&#x5230;&#xFF0C;&#x5728;myWorks&#x7684;&#x7EC4;&#x4EF6;&#x91CC;&#x8FDB;&#x884C;&#x7EC4;&#x4EF6;&#x5B88;&#x536B;&#xFF0C;&#x540C;&#x6837;&#x662F;&#x8FDB;&#x5165;&#x8FD9;&#x4E2A;&#x7EC4;&#x4EF6;&#x4E4B;&#x524D;&#x5224;&#x65AD;musicianbool&#xFF0C;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#xFF0C;&#x4F46;&#x662F;&#xFF0C;&#x5F53;myworks&#x7EC4;&#x4EF6;&#x6709;&#x5176;&#x4ED6;&#x5185;&#x5BB9;&#xFF08;&#x4EFB;&#x4F55;&#x5176;&#x4ED6;&#x5185;&#x5BB9;&#xFF09;&#xFF0C;&#x5F53; path:&#x2019;/personal/perContent/myWorks/myWorksWorks&#x2019; &#xFF0C;&#x6B64;&#x65F6;&#x663E;&#x793A;&#x5F53;&#x524D;&#x5B50;&#x8DEF;&#x7531;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x4F46;&#x70B9;&#x51FB;myworks&#x7684;&#x5BFC;&#x822A;&#x83DC;&#x5355;&#x91CC;&#x7684;&#x5F53;&#x524D;&#x8FD9;&#x4E00;&#x9879;&#x65F6;&#xFF0C;&#x4E0D;&#x4F1A;&#x6267;&#x884C;beforeEnter&#x65B9;&#x6CD5;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x70B9;&#x51FB;&#x5F53;&#x524D;&#x83DC;&#x5355;&#x540E;&#xFF0C;&#x4E0D;&#x4F1A;&#x51FA;&#x73B0;&#x5B50;&#x8DEF;&#x7531;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x5982;&#x56FE;&#xFF1A; vue&#x8DF3;&#x8F6C;&#x9875;&#x9762;&#x540E;&#xFF0C;&#x663E;&#x793A;&#x5728;&#x9875;&#x9762;&#x6700;&#x5E95;&#x90E8;&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#x95EE;&#x9898;&#xFF1A;vue&#x4E2D;&#x8DF3;&#x8F6C;&#x8DEF;&#x7531;&#xFF0C;&#x5149;&#x6807;&#x51FA;&#x73B0;&#x5728;&#x5E95;&#x90E8;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x9876;&#x90E8; &#x89E3;&#x51B3;&#x529E;&#x6CD5;&#xFF1A; &#x200B; 123456mounted() { //&#x89E3;&#x51B3;&#x8DF3;&#x8F6C;&#x9875;&#x9762;&#x540E;&#xFF0C;&#x5149;&#x6807;&#x51FA;&#x73B0;&#x5728;&#x5E95;&#x90E8; this.$router.afterEach((to, from, next) =&gt; { window.scrollTo(0, 0); })} document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"VUE","slug":"VUE","permalink":"https://orange-way.github.io/tags/VUE/"}]},{"title":"hexo配置、如何写博客及更换电脑后更新博客","date":"2018-10-15T06:38:08.000Z","path":"/posts/3bc207b7/","text":"&#x672C;&#x7BC7;&#x53C2;&#x8003;&#x94FE;&#x63A5;&#xFF1A;hexo&#x4ECE;&#x96F6;&#x5F00;&#x59CB;&#x5230;&#x642D;&#x5EFA;&#x5B8C;&#x6574; &#x200B; hexo&#x5199;&#x535A;&#x5BA2;&#x7684;&#x2018;&#x8BED;&#x6CD5;&#x2018;1 &#x200B; hexo&#x5199;&#x535A;&#x5BA2;&#x7684;&#x2018;&#x8BED;&#x6CD5;&#x2018;2 &#x200B; &#x66F4;&#x6362;&#x7535;&#x8111;&#x540E;&#x5982;&#x4F55;&#x5199;&#x535A;&#x5BA2; &#x672C;&#x7BC7;&#x662F;&#x5728;&#x5DF2;&#x5B89;&#x88C5;node&#x3001;git&#x53CA;&#x5DF2;&#x6709;github&#x8D26;&#x53F7;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x914D;&#x7F6E;hexo hexo&#x914D;&#x7F6E; &#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x5939;blog &#x5728;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#x6267;&#x884C;&#x5B89;&#x88C5;&#x547D;&#x4EE4;&#xFF1A; npm i -g hexo (&#x6709;&#x65F6;&#x672C;&#x5730;&#x53EF;&#x80FD;&#x4E5F;&#x9700;&#x8981;&#x5B89;&#x88C5;) hexo -v` :&#x67E5;&#x770B;hexo&#x7684;&#x7248;&#x672C;&#x53F7; &#x6267;&#x884C;hexo init: &#x6587;&#x4EF6;&#x521D;&#x59CB;&#x5316;&#xFF0C;&#x4F1A;&#x521B;&#x5EFA;&#x4E00;&#x4E9B;&#x6587;&#x4EF6;&#xFF0C;&#x5982;&#x4E0B;&#x56FE; &#x5728;github&#x4E0A;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;repository,&#x6587;&#x4EF6;&#x540D;&#x4E3A;&#xFF1A;yourname.github.io &#x6267;&#x884C;&#xFF1A;git config --global user.name &quot;yourname&quot;, &#x200B; git config --global user.email &quot;youreamil&quot;, &#x200B; &#x7B2C;&#x4E00;&#x53E5;&#x8981;&#x52A0;&#x5F15;&#x53F7;&#xFF0C;&#x7B2C;&#x4E8C;&#x53E5;&#x4E0D;&#x7528; &#x6267;&#x884C;&#xFF1A;ssh-keygen -t rsa -C &quot;youremail&quot; &#xFF0C;&#x751F;&#x6210;ssh&#xFF0C;&#x7136;&#x540E;&#x5728;c&#x76D8;&#x627E;&#x5230; id_rsa.pub&#x7684;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#xFF0C;&#x7136;&#x540E;&#x6DFB;&#x52A0;&#x5230;github&#x7684;ssh keys&#x91CC; &#x6253;&#x5F00;blog&#x4E0B;&#x7684;_config.yml&#xFF08;&#x6B64;&#x6587;&#x4EF6;&#x91CC;&#x5192;&#x53F7;&#x540E;&#x90FD;&#x662F;&#x6709;&#x4E00;&#x4E2A;&#x7A7A;&#x683C;&#xFF09;,&#x7136;&#x540E;&#x4FEE;&#x6539; 1234deploy: type: git repo: https://github.com/YourgithubName/YourgithubName.github.io.git branch: master &#x6267;&#x884C;&#x4E0B;&#x9762;&#x4E09;&#x53E5;&#xFF0C;&#x53EF;&#x5728;&#x672C;&#x5730;&#x8FD0;&#x884C;&#x67E5;&#x770B;&#x535A;&#x5BA2;&#xFF0C;&#x4EE5;&#x540E;&#x5728;&#x672C;&#x5730;&#x8FD0;&#x884C;&#xFF0C;&#x90FD;&#x6309;&#x7167;&#x4E0B;&#x9762;&#x4E09;&#x6B65; &#x200B; 123hexo clean &#x5220;&#x9664;&#x539F;&#x6765;&#x7684;public&#x6587;&#x4EF6;&#x5939;&#xFF08;&#x5B58;&#x653E;&#x751F;&#x6210;&#x7684;&#x535A;&#x5BA2;&#x7684;&#x9759;&#x6001;&#x9875;&#x9762;&#x7684;&#xFF09;&#xFF0C;&#x7B2C;&#x4E00;&#x6B21;&#x6267;&#x884C;&#x65F6;&#x662F;&#x6CA1;&#x6709;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6; hexo genarate &#x751F;&#x6210;&#x9759;&#x6001;&#x9875;&#x9762;hexo server &#x53D1;&#x5E03;&#x9875;&#x9762;&#xFF0C;hexo3&#x4EE5;&#x4E0A;&#x9700;&#x5B89;&#x88C5; npm i hexo-server &#x4E0A;&#x4F20;&#x5230;github&#xFF0C;&#x5148;&#x5B89;&#x88C5; npm install hexo-deployer-git --save&#xFF0C;&#x8FD9;&#x4E2A;&#x662F;&#x5C06;&#x5199;&#x597D;&#x7684;&#x9875;&#x9762;&#x90E8;&#x7F72;&#x5230;github&#x4E0A;&#x5E76;&#x8BA9;&#x522B;&#x4EBA;&#x6D4F;&#x89C8;&#x5230;&#xFF0C;&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#xFF0C;&#x53EF;&#x5728; https://yourname.github.io&#x4E0A;&#x770B;&#x5230;&#x81EA;&#x5DF1;&#x7684;&#x535A;&#x5BA2; &#x200B; 123hexo cleanhexo generatehexo deploy &#x90E8;&#x7F72;&#x5230;github&#x4E0A; &#x200B; &#x81EA;&#x6B64;&#xFF0C;hexo&#x57FA;&#x672C;&#x914D;&#x7F6E;&#x5B8C;&#x6210;&#xFF0C;&#x4EE5;&#x540E;&#x66F4;&#x65B0;github&#x4E0A;&#x7684;&#x535A;&#x5BA2;&#xFF0C;&#x90FD;&#x6309;&#x7167;&#x8FD9;&#x4E09;&#x6B65;&#x6765; &#x6539;&#x53D8;hexo&#x7684;&#x4E3B;&#x9898;&#x5C31;&#x662F;&#x6539;&#x53D8;&#x535A;&#x5BA2;&#x7684;&#x6837;&#x5F0F;&#xFF08;&#x53EF;&#x4EE5;&#x4E0D;&#x6539;&#xFF09;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x8FD9;&#x91CC;&#x627E;&#x81EA;&#x5DF1;&#x559C;&#x6B22;&#x7684;&#x4E3B;&#x9898;&#xFF1A;hexo&#x4E3B;&#x9898;, &#x6211;&#x627E;&#x7684;&#x662F;tomotoes,&#x7136;&#x540E;&#x5728;github&#x4E0A;&#x641C;&#x7D22;&#x8FD9;&#x4E2A;&#x4E3B;&#x9898;&#xFF0C;&#x7167;&#x7740;&#x4E3B;&#x9898;&#x7684;&#x4F5C;&#x8005;&#x5199;&#x7684;&#x6587;&#x6863;&#x4E00;&#x6B65;&#x4E00;&#x6B65;&#x6765;&#x5C31;&#x597D;&#x4E86; &#x6DFB;&#x52A0;rss &#x5148;&#x5B89;&#x88C5;&#x63D2;&#x4EF6; npm i hexo-generator-feed &#x5728; blog/_config.yml&#x91CC;&#x627E;&#x5230;Extensions&#x6DFB;&#x52A0;&#x5185;&#x5BB9;&#xFF1A; 1234567891011# Extensions #&#x63D2;&#x4EF6;&#x548C;&#x4E3B;&#x9898; ## Plugins: https://hexo.io/plugins/ ## Themes: https://hexo.io/themes/ theme: tomotoes#RSS&#x8BA2;&#x9605; plugin: - hexo-generator-feed #Feed Atom feed: type: atom path: atom.xml limit: 20 &#x7136;&#x540E;&#x91CD;&#x65B0;&#x518D;&#x91CD;&#x65B0;&#x90E8;&#x7F72;&#x5C31;&#x597D;&#x4E86; hexo&#x5982;&#x4F55;&#x5199;&#x535A;&#x5BA2;&#x6267;&#x884C;hexo new title, &#x521B;&#x5EFA;&#x81EA;&#x5DF1;&#x5199;&#x7684;&#x535A;&#x5BA2;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x7528;typora&#x6253;&#x5F00;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#xFF08;blog/source/_post/title.md&#xFF09; &#x6807;&#x9898;Markdown&#x8BED;&#x6CD5;&#xFF1A; &#x200B; 1234567891011121314# &#x4E00;&#x7EA7;&#x6807;&#x9898;## &#x4E8C;&#x7EA7;&#x6807;&#x9898;### &#x4E09;&#x7EA7;&#x6807;&#x9898;#### &#x56DB;&#x7EA7;&#x6807;&#x9898;##### &#x4E94;&#x7EA7;&#x6807;&#x9898;###### &#x516D;&#x7EA7;&#x6807;&#x9898;Typora&#x5FEB;&#x6377;&#x952E;&#xFF1A; Ctrl+1&#xFF1A;&#x4E00;&#x7EA7;&#x6807;&#x9898; Ctrl+2&#xFF1A;&#x4E8C;&#x7EA7;&#x6807;&#x9898; Ctrl+3&#xFF1A;&#x4E09;&#x7EA7;&#x6807;&#x9898; Ctrl+4&#xFF1A;&#x56DB;&#x7EA7;&#x6807;&#x9898; Ctrl+5&#xFF1A;&#x4E94;&#x7EA7;&#x6807;&#x9898; Ctrl+6 &#xFF1A;&#x516D;&#x7EA7;&#x6807;&#x9898; Ctrl+0&#xFF1A;&#x6BB5;&#x843D; &#x7C97;&#x4F53;&#x3001;&#x659C;&#x4F53;&#x3001;&#x5220;&#x9664;&#x7EBF;&#x548C;&#x4E0B;&#x5212;&#x7EBF;Markdown&#x8BED;&#x6CD5;&#xFF1A; &#x200B; 123456789*&#x659C;&#x4F53;***&#x7C97;&#x4F53;*****&#x52A0;&#x7C97;&#x659C;&#x4F53;***~~&#x5220;&#x9664;&#x7EBF;~~Typora&#x5FEB;&#x6377;&#x952E;&#xFF1A; Ctrl+I&#xFF1A;&#x659C;&#x4F53; Ctrl+B&#xFF1A;&#x7C97;&#x4F53; Ctrl+U&#xFF1A;&#x4E0B;&#x5212;&#x7EBF; Alt+Shift+5&#xFF1A;&#x5220;&#x9664;&#x7EBF; &#x8D85;&#x94FE;&#x63A5;Markdown&#x8BED;&#x6CD5;&#xFF1A; &#x200B; 12345&#x884C;&#x5185;&#x5F62;&#x5F0F;&#xFF1A;[&#x6211;&#x7684;&#x535A;&#x5BA2;](https://kevinpu.github.io/)&#x53C2;&#x8003;&#x5F62;&#x5F0F;&#xFF1A;[&#x6211;&#x7684;&#x535A;&#x5BA2;][1]&#xFF0C;&#x6709;&#x4E00;&#x4E2A;&#x5F88;&#x597D;&#x7684;&#x5E73;&#x53F0;-[&#x7B80;&#x4E66;][2][1]:https://kevinpu.github.io/[2]:http://www.jianshu.com/&#x81EA;&#x52A8;&#x94FE;&#x63A5;&#xFF1A;&#x6211;&#x7684;&#x535A;&#x5BA2;&#x5730;&#x5740;&lt;https://kevinpu.github.io/&gt; &#x4EE3;&#x7801;Markdown&#x8BED;&#x6CD5;&#xFF1A;&#xFF08;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x8D77;&#x89C1;&#xFF0C;&#x8FD9;&#x91CC;&#x5C06;&#x4F7F;&#x7528;&#x5B57;&#x7B26;a&#x4EE3;&#x66FF;&#x53CD;&#x5F15;&#x53F7;&#x2019;&apos;&#xFF09; Typora&#x5FEB;&#x6377;&#x952E;&#xFF1A;Ctrl+Shift+`,&#x6709;&#x4E9B;&#x7248;&#x672C;&#x7684;&#x5FEB;&#x6377;&#x952E;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x53EF; &#x5728;typora&#x7684;&#x6BB5;&#x843D;&#x91CC;&#x67E5;&#x770B; &#x5206;&#x5272;&#x7EBF;Markdown&#x8BED;&#x6CD5;: &#x200B; 123---*** &#x4EE5;&#x4E0A;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x5747;&#x53EF;&#x4EE5;&#x8868;&#x793A;&#x4E3A;&#x5206;&#x5272;&#x7EBF; &#x5217;&#x8868;Markdown&#x8BED;&#x6CD5;&#xFF1A; 12&#x6709;&#x5E8F;&#x5217;&#x8868;&#x7528; &#xFF1A;&#x6570;&#x5B57; + . + &#x7A7A;&#x683C;&#x65E0;&#x5E8F;&#x5FEB;&#x6377;&#x952E;&#x53EF;&#x5728;typora&#x7684;&#x6BB5;&#x843D;&#x91CC;&#x67E5;&#x770B; &#x56FE;&#x7247;Markdown&#x8BED;&#x6CD5;&#xFF1A; 123456789101112![&#x56FE;&#x7247;&#x6587;&#x5B57;] (&#x56FE;&#x7247;&#x5730;&#x5740; &quot;&#x56FE;&#x7247;&#x63CF;&#x8FF0;&quot;)&#x4F8B;&#x5982;&#xFF1A;![&#x793A;&#x4F8B;&#x56FE;&#x7247;] (https://www.example.com/example.PNG &quot;&#x793A;&#x4F8B;&#x56FE;&#x7247;&quot;)&#x6CE8;&#xFF1A;&#x56FE;&#x7247;&#x82E5;&#x662F;&#x672C;&#x5730;&#x7684;&#xFF0C;&#x90A3;&#x8DEF;&#x5F84;&#x8981;&#x6839;&#x636E; blob/_config.yml &#x91CC;&#x7684; permalink &#x7684;&#x914D;&#x7F6E;&#x6765;&#xFF0C; permalink: :year/:month/:day/:title/ &#xFF0C;&#x82E5;&#x662F;&#x7528;&#x7684;&#x662F;&#x8FD9;&#x79CD;&#x7684;&#x65E5;&#x671F;&#x547D;&#x540D;&#x5F0F; &#x90A3;&#x5C31;&#x662F;&#xFF1A; ![&#x793A;&#x4F8B;&#x56FE;&#x7247;] (example/example.PNG) permalink: /posts/:abbrlink/ &#xFF0C;&#x82E5;&#x662F;&#x7528;&#x7684;&#x8FD9;&#x79CD;&#xFF0C;&#x90A3;&#x76F4;&#x63A5;&#x5199; ![&#x793A;&#x4F8B;&#x56FE;&#x7247;](example.PNG)&#xFF0C;&#x8FD9;&#x79CD; &#x5728;typora&#x91CC;&#x663E;&#x793A;&#x56FE;&#x7247;&#x52A0;&#x8F7D;&#x5931;&#x8D25;&#xFF0C;&#x4F46;&#x5728;&#x7F51;&#x9875;&#x662F;&#x52A0;&#x8F7D;&#x6210;&#x529F;&#x7684;&#x8BF4;&#x660E;&#xFF1A;&#x5728;Hexo&#x4E2D;&#x63D2;&#x5165;&#x56FE;&#x7247;&#x65F6;&#xFF0C;&#x8BF7;&#x6309;&#x7167;&#x4EE5;&#x4E0B;&#x6B65;&#x9AA4;&#x8FDB;&#x884C;&#x8BBE;&#x7F6E;&#xFF08;1&#xFF09;&#x5C06;&#x7AD9;&#x70B9;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x7684; post_asset_folder &#x9009;&#x9879;&#x8BBE;&#x7F6E;&#x6210; true&#xFF08;2&#xFF09;&#x5728;&#x7AD9;&#x70B9;&#x6587;&#x4EF6;&#x5939;&#x4E2D;&#x6253;&#x5F00; git bash&#xFF0C;&#x8F93;&#x5165;&#x547D;&#x4EE4; npm install hexo-asset-image --save &#x5B89;&#x88C5;&#x63D2;&#x4EF6;&#xFF08;3&#xFF09;&#x6B64;&#x65F6;&#x4F7F;&#x7528; hexo new title &#x521B;&#x5EFA;&#x6587;&#x7AE0;&#x65F6;&#xFF0C;&#x5C06;&#x540C;&#x65F6;&#x5728;source/_post&#x6587;&#x4EF6;&#x5939;&#x4E2D;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x4E0E;title&#x540C;&#x540D;&#x7684;&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x6211;&#x4EEC;&#x53EA;&#x9700;&#x5C06;&#x5F85;&#x6DFB;&#x52A0;&#x7684;&#x56FE;&#x7247;&#x653E;&#x8FDB;&#x6B64;&#x6587;&#x4EF6;&#x5939;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x6587;&#x7AE0;&#x4E2D;&#x901A;&#x8FC7;Markdown&#x8BED;&#x6CD5;&#x8FDB;&#x884C;&#x5F15;&#x7528;&#x5373;&#x53EF;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;&#x5728;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#x5939;&#xFF08;&#x5C31;&#x662F;&#x90A3;&#x4E2A;&#x4E0E;title&#x540C;&#x540D;&#x7684;&#x6587;&#x4EF6;&#x5939;&#xFF09;&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;&#x56FE;&#x7247;example.PNG&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x5728;&#x5BF9;&#x5E94;&#x7684;&#x6587;&#x7AE0;&#x4E2D;&#x4F7F;&#x7528;&#x8BED;&#x53E5; ![&#x793A;&#x4F8B;&#x56FE;&#x7247;](title/example.PNG &quot;&#x793A;&#x4F8B;&#x56FE;&#x7247;&quot;) &#x6DFB;&#x52A0;&#x56FE;&#x7247; Typora&#x5FEB;&#x6377;&#x952E;&#xFF1A;Ctrl+Shift+I &#x8DDF;&#x6362;&#x7535;&#x8111;&#x540E;&#x5982;&#x4F55;&#x7EE7;&#x7EED;&#x5199;&#x535A;&#x5BA2; &#x628A;&#x539F;&#x6765;&#x7535;&#x8111;&#x4E0A;&#x5DF2;&#x914D;&#x7F6E;&#x597D;&#x7684;hexo&#x4E0B;&#x7684;&#x4E00;&#x4E9B;&#x6587;&#x4EF6;&#xFF0C;&#x62F7;&#x8D1D;&#x5230;&#x65B0;&#x7535;&#x8111;&#x4E0A;, &#x653E;&#x5728;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#xFF0C;&#x5982;blog &#x5728;&#x65B0;&#x7535;&#x8111;&#x4E0A;&#x88C5;node&#x3001;git&#x7B49; &#x5B89;&#x88C5;hexo&#xFF0C;npm install -g hexo, &#x672C;&#x5730;&#x6709;&#x65F6;&#x4E5F;&#x9700;&#x8981;&#x5B89;&#x88C5; &#x8FDB;&#x5165;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x4E0B;&#xFF0C;&#x6267;&#x884C;&#xFF1A; &#x200B; 1234npm installnpm install hexo-deployer-git --savenpm install hexo-generator-feed --savenpm install hexo-generator-sitemap --save &#x6267;&#x884C;&#x90E8;&#x7F72;&#x4E09;&#x90E8;&#x66F2;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5DF2;&#x5199;&#x7684;&#x535A;&#x5BA2;&#x7684;&#x9759;&#x6001;&#x9875;&#x9762;&#x4E86;&#xFF08;blog/source/_post/&#xFF09; &#x200B; 123npm cleannpm ghexo d &#x7136;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x5728;&#x65B0;&#x7535;&#x8111;&#x4E0A;&#x7EE7;&#x7EED;&#x5199;&#x535A;&#x5BA2;&#x4E86; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"hexo","slug":"hexo","permalink":"https://orange-way.github.io/tags/hexo/"}]}]